"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{2011:(ot,Ae,N)=>{N.d(Ae,{Dh:()=>X,GT:()=>Q,cc:()=>be,hO:()=>ie,on:()=>P,pX:()=>oe,xv:()=>J});var s=N(5e3),H=N(127),k=N(6351);ot=N.hmd(ot);const se=["ngOnDestroy"],oe=(xe,Ve,Ke,_t={})=>new Proxy(xe,{get:(un,Dt)=>Ke.runOutsideAngular(()=>{var Ln;if(xe[Dt])return(null===(Ln=null==_t?void 0:_t.spy)||void 0===Ln?void 0:Ln.get)&&_t.spy.get(Dt,xe[Dt]),xe[Dt];if(se.indexOf(Dt)>-1)return()=>{};const Ce=Ve.toPromise().then(Zt=>{const rt=Zt&&Zt[Dt];return"function"==typeof rt?rt.bind(Zt):rt&&rt.then?rt.then(le=>Ke.run(()=>le)):Ke.run(()=>rt)});return new Proxy(()=>{},{get:(Zt,rt)=>Ce[rt],apply:(Zt,rt,le)=>Ce.then(ce=>{var he;const Te=ce&&ce(...le);return(null===(he=null==_t?void 0:_t.spy)||void 0===he?void 0:he.apply)&&_t.spy.apply(Dt,le,Te),Te})})})}),Q=(xe,Ve)=>{Ve.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(_t=>{Object.defineProperty(xe.prototype,_t,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,_t))})})};class ae{constructor(Ve){return Ve}}const X=new s.OlP("angularfire2.app.options"),J=new s.OlP("angularfire2.app.name");function P(xe,Ve,Ke){const un="object"==typeof Ke&&Ke||{};un.name=un.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Ln=H.Z.apps.filter(Ce=>Ce&&Ce.name===un.name)[0]||Ve.runOutsideAngular(()=>H.Z.initializeApp(xe,un));try{JSON.stringify(xe)!==JSON.stringify(Ln.options)&&q("error",`${Ln.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ce){}return new ae(Ln)}const q=(xe,...Ve)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[xe](...Ve)},G={provide:ae,useFactory:P,deps:[X,s.R0b,[new s.FiY,J]]};let ie=(()=>{class xe{constructor(Ke){H.Z.registerVersion("angularfire",k.q4.full,"core"),H.Z.registerVersion("angularfire",k.q4.full,"app-compat"),H.Z.registerVersion("angular",s.q4F.full,Ke.toString())}static initializeApp(Ke,_t){return{ngModule:xe,providers:[{provide:X,useValue:Ke},{provide:J,useValue:_t}]}}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(s.LFG(s.Lbi))},xe.\u0275mod=s.oAB({type:xe}),xe.\u0275inj=s.cJS({providers:[G]}),xe})();function be(xe,Ve,Ke,_t,un){const[,Dt,Ln]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===xe)||[];if(Dt)return function Ee(xe,Ve){try{return xe.toString()===Ve.toString()}catch(Ke){return xe===Ve}}(un,Ln)||(we("error",`${Ve} was already initialized on the ${Ke} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:un,was:Ln})),Dt;{const Ce=_t();return globalThis.\u0275AngularfireInstanceCache.push([xe,Ce,un]),Ce}}const _e=!!ot.hot,we=(xe,...Ve)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[xe](...Ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ot,Ae,N)=>{N.d(Ae,{q4:()=>Ru,iC:()=>ja,fc:()=>Dc,HU:()=>Bp,vb:()=>Ec,JM:()=>Cc,u3:()=>Rt});var s=N(5e3),H=N(5867),k=N(5861),se=N(9681),oe=N(2090),Q=N(4859),ae=N(1877);const X="@firebase/installations",J="0.5.8",q=`w:${J}`,G="FIS_v2",xe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function _t(D){return{token:D.token,requestStatus:2,expiresIn:le(D.expiresIn),creationTime:Date.now()}}function un(D,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,k.Z)(function*(D,T){const j=(yield T.json()).error;return xe.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Ln({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ce(D,{refreshToken:T}){const R=Ln(D);return R.append("Authorization",function ce(D){return`${G} ${D}`}(T)),R}function Zt(D){return rt.apply(this,arguments)}function rt(){return(rt=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function le(D){return Number(D.replace("s","000"))}function he(D,T){return Te.apply(this,arguments)}function Te(){return(Te=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:R}){const j=Ke(D),ee=Ln(D),ue=T.getImmediate({optional:!0});if(ue){const yt=yield ue.getHeartbeatsHeader();yt&&ee.append("x-firebase-client",yt)}const je={method:"POST",headers:ee,body:JSON.stringify({fid:R,authVersion:G,appId:D.appId,sdkVersion:q})},St=yield Zt(()=>fetch(j,je));if(St.ok){const yt=yield St.json();return{fid:yt.fid||R,registrationStatus:2,refreshToken:yt.refreshToken,authToken:_t(yt.authToken)}}throw yield un("Create Installation",St)})).apply(this,arguments)}function pe(D){return new Promise(T=>{setTimeout(T,D)})}const At=/^[cdef][\w-]{21}$/;function fn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function Ue(D){return function Ne(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return At.test(R)?R:""}catch(D){return""}}function rn(D){return`${D.appName}!${D.appId}`}const lr=new Map;function Vn(D,T){const R=rn(D);ln(R,T),function Un(D,T){const R=function Or(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=D=>{ln(D.data.key,D.data.fid)}),mr}();R&&R.postMessage({key:D,fid:T}),function Ar(){0===lr.size&&mr&&(mr.close(),mr=null)}()}(R,T)}function ln(D,T){const R=lr.get(D);if(R)for(const j of R)j(T)}let mr=null;const _r="firebase-installations-store";let Sr=null;function hs(){return Sr||(Sr=(0,oe.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(_r)})),Sr}function ct(D,T){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(D,T){const R=rn(D),ee=(yield hs()).transaction(_r,"readwrite"),ue=ee.objectStore(_r),Fe=yield ue.get(R);return yield ue.put(T,R),yield ee.complete,(!Fe||Fe.fid!==T.fid)&&Vn(D,T.fid),T})).apply(this,arguments)}function $n(D){return pn.apply(this,arguments)}function pn(){return(pn=(0,k.Z)(function*(D){const T=rn(D),j=(yield hs()).transaction(_r,"readwrite");yield j.objectStore(_r).delete(T),yield j.complete})).apply(this,arguments)}function Qn(D,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,k.Z)(function*(D,T){const R=rn(D),ee=(yield hs()).transaction(_r,"readwrite"),ue=ee.objectStore(_r),Fe=yield ue.get(R),je=T(Fe);return void 0===je?yield ue.delete(R):yield ue.put(je,R),yield ee.complete,je&&(!Fe||Fe.fid!==je.fid)&&Vn(D,je.fid),je})).apply(this,arguments)}function zn(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,k.Z)(function*(D){let T;const R=yield Qn(D.appConfig,j=>{const ee=qr(j),ue=no(D,ee);return T=ue.registrationPromise,ue.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function qr(D){return qt(D||{fid:fn(),registrationStatus:0})}function no(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(xe.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},j=function $t(D,T){return ut.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:j}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:nt(D)}:{installationEntry:T}}function ut(){return(ut=(0,k.Z)(function*(D,T){try{const R=yield he(D,T);return ct(D.appConfig,R)}catch(R){throw Ve(R)&&409===R.customData.serverCode?yield $n(D.appConfig):yield ct(D.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function nt(D){return ri.apply(this,arguments)}function ri(){return(ri=(0,k.Z)(function*(D){let T=yield Yi(D.appConfig);for(;1===T.registrationStatus;)yield pe(100),T=yield Yi(D.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:j}=yield zn(D);return j||R}return T})).apply(this,arguments)}function Yi(D){return Qn(D,T=>{if(!T)throw xe.create("installation-not-found");return qt(T)})}function qt(D){return function Zi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function qn(D,T){return mn.apply(this,arguments)}function mn(){return(mn=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},R){const j=pt(D,R),ee=Ce(D,R),ue=T.getImmediate({optional:!0});if(ue){const yt=yield ue.getHeartbeatsHeader();yt&&ee.append("x-firebase-client",yt)}const je={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:q,appId:D.appId}})},St=yield Zt(()=>fetch(j,je));if(St.ok)return _t(yield St.json());throw yield un("Generate Auth Token",St)})).apply(this,arguments)}function pt(D,{fid:T}){return`${Ke(D)}/${T}/authTokens:generate`}function Wn(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(D,T=!1){let R;const j=yield Qn(D.appConfig,ue=>{if(!Lt(ue))throw xe.create("not-registered");const Fe=ue.authToken;if(!T&&Z(Fe))return ue;if(1===Fe.requestStatus)return R=Ge(D,T),ue;{if(!navigator.onLine)throw xe.create("app-offline");const je=K(ue);return R=dt(D,je),je}});return R?yield R:j.authToken})).apply(this,arguments)}function Ge(D,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,k.Z)(function*(D,T){let R=yield Qe(D.appConfig);for(;1===R.authToken.requestStatus;)yield pe(100),R=yield Qe(D.appConfig);const j=R.authToken;return 0===j.requestStatus?Wn(D,T):j})).apply(this,arguments)}function Qe(D){return Qn(D,T=>{if(!Lt(T))throw xe.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function dt(D,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,k.Z)(function*(D,T){try{const R=yield qn(D,T),j=Object.assign(Object.assign({},T),{authToken:R});return yield ct(D.appConfig,j),R}catch(R){if(!Ve(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ct(D.appConfig,j)}else yield $n(D.appConfig);throw R}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function $(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function K(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function V(){return(V=(0,k.Z)(function*(D){const T=D,{installationEntry:R,registrationPromise:j}=yield zn(T);return j?j.catch(console.error):Wn(T).catch(console.error),R.fid})).apply(this,arguments)}function de(){return(de=(0,k.Z)(function*(D,T=!1){const R=D;return yield Le(R),(yield Wn(R,T)).token})).apply(this,arguments)}function Le(D){return $e.apply(this,arguments)}function $e(){return($e=(0,k.Z)(function*(D){const{registrationPromise:T}=yield zn(D);T&&(yield T)})).apply(this,arguments)}function Xn(D){return xe.create("missing-app-config-values",{valueName:D})}const al="installations",qe=D=>{const T=D.getProvider("app").getImmediate(),R=function Oi(D){if(!D||!D.options)throw Xn("App Configuration");if(!D.name)throw Xn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!D.options[R])throw Xn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},zt=D=>{const T=D.getProvider("app").getImmediate(),R=(0,se._getProvider)(T,al).getImmediate();return{getId:()=>function F(D){return V.apply(this,arguments)}(R),getToken:ee=>function z(D){return de.apply(this,arguments)}(R,ee)}};(function Tn(){(0,se._registerComponent)(new Q.wA(al,qe,"PUBLIC")),(0,se._registerComponent)(new Q.wA("installations-internal",zt,"PRIVATE"))})(),(0,se.registerVersion)(X,J),(0,se.registerVersion)(X,J,"esm2017");const Pr="@firebase/remote-config",Yn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class so{constructor(T,R,j,ee){this.client=T,this.storage=R,this.storageCache=j,this.logger=ee}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-R,ee=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var R=this;return(0,k.Z)(function*(){const[j,ee]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ee&&R.isCachedDataFresh(T.cacheMaxAgeMillis,j))return ee;T.eTag=ee&&ee.eTag;const ue=yield R.client.fetch(T),Fe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Fe.push(R.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Fe),ue})()}}function cl(D=navigator){return D.languages&&D.languages[0]||D.language}class Us{constructor(T,R,j,ee,ue,Fe){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=j,this.projectId=ee,this.apiKey=ue,this.appId=Fe}fetch(T){var R=this;return(0,k.Z)(function*(){const[j,ee]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},St={sdk_version:R.sdkVersion,app_instance_id:j,app_instance_id_token:ee,app_id:R.appId,language_code:cl()},yt={method:"POST",headers:je,body:JSON.stringify(St)},Kt=fetch(Fe,yt),Bt=new Promise((ts,Eo)=>{T.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",Eo(za)})});let It;try{yield Promise.race([Kt,Bt]),It=yield Kt}catch(ts){let Eo="fetch-client-network";throw"AbortError"===ts.name&&(Eo="fetch-timeout"),Yn.create(Eo,{originalErrorMessage:ts.message})}let bn=It.status;const $a=It.headers.get("ETag")||void 0;let Co,Di;if(200===It.status){let ts;try{ts=yield It.json()}catch(Eo){throw Yn.create("fetch-client-parse",{originalErrorMessage:Eo.message})}Co=ts.entries,Di=ts.state}if("INSTANCE_STATE_UNSPECIFIED"===Di?bn=500:"NO_CHANGE"===Di?bn=304:("NO_TEMPLATE"===Di||"EMPTY_CONFIG"===Di)&&(Co={}),304!==bn&&200!==bn)throw Yn.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:$a,config:Co}})()}}class ps{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,k.Z)(function*(){const j=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:j}){var ee=this;return(0,k.Z)(function*(){yield function ii(D,T){return new Promise((R,j)=>{const ee=Math.max(T-Date.now(),0),ue=setTimeout(R,ee);D.addEventListener(()=>{clearTimeout(ue),j(Yn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ue=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function Ap(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ue))throw ue;const Fe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(j),backoffCount:j+1};return yield ee.storage.setThrottleMetadata(Fe),ee.attemptFetch(T,Fe)}})()}}class Ip{constructor(T,R,j,ee,ue){this.app=T,this._client=R,this._storageCache=j,this._storage=ee,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Aa(D,T){const R=D.target.error||void 0;return Yn.create(T,{originalErrorMessage:R&&R.message})}const Yo="app_namespace_store";class mu{constructor(T,R,j,ee=function Rp(){return new Promise((D,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=j=>{T(Aa(j,"storage-open"))},R.onsuccess=j=>{D(j.target.result)},R.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Yo,{keyPath:"compositeKey"})}}catch(R){T(Yn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=j,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,k.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ee,ue)=>{const je=j.transaction([Yo],"readonly").objectStore(Yo),St=R.createCompositeKey(T);try{const yt=je.get(St);yt.onerror=Kt=>{ue(Aa(Kt,"storage-get"))},yt.onsuccess=Kt=>{const Bt=Kt.target.result;ee(Bt?Bt.value:void 0)}}catch(yt){ue(Yn.create("storage-get",{originalErrorMessage:yt&&yt.message}))}})})()}set(T,R){var j=this;return(0,k.Z)(function*(){const ee=yield j.openDbPromise;return new Promise((ue,Fe)=>{const St=ee.transaction([Yo],"readwrite").objectStore(Yo),yt=j.createCompositeKey(T);try{const Kt=St.put({compositeKey:yt,value:R});Kt.onerror=Bt=>{Fe(Aa(Bt,"storage-set"))},Kt.onsuccess=()=>{ue()}}catch(Kt){Fe(Yn.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(T){var R=this;return(0,k.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ee,ue)=>{const je=j.transaction([Yo],"readwrite").objectStore(Yo),St=R.createCompositeKey(T);try{const yt=je.delete(St);yt.onerror=Kt=>{ue(Aa(Kt,"storage-delete"))},yt.onsuccess=()=>{ee()}}catch(yt){ue(Yn.create("storage-delete",{originalErrorMessage:yt&&yt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Zo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const R=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),ue=yield R;ue&&(T.lastFetchStatus=ue);const Fe=yield j;Fe&&(T.lastSuccessfulFetchTimestampMillis=Fe);const je=yield ee;je&&(T.activeConfig=je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function _u(){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}!function kp(){(0,se._registerComponent)(new Q.wA("remote-config",function D(T,{instanceIdentifier:R}){const j=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Yn.create("registration-window");if(!(0,oe.hl)())throw Yn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Fe,appId:je}=j.options;if(!ue)throw Yn.create("registration-project-id");if(!Fe)throw Yn.create("registration-api-key");if(!je)throw Yn.create("registration-app-id");const St=new mu(je,j.name,R=R||"firebase"),yt=new Zo(St),Kt=new ae.Yd(Pr);Kt.logLevel=ae.in.ERROR;const Bt=new Us(ee,se.SDK_VERSION,R,ue,Fe,je),It=new ps(Bt,St),bn=new so(It,St,yt,Kt),$a=new Ip(j,bn,yt,St,Kt);return function kn(D){const T=(0,oe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}($a),$a},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Pr,"0.3.7"),(0,se.registerVersion)(Pr,"0.3.7","esm2017")}();const gs="/firebase-messaging-sw.js",Sa="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ko="google.c.a.c_id",dl="google.c.a.c_l",sh="google.c.a.ts",Ia="google.c.a.e";var Ni=(()=>{return(D=Ni||(Ni={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ni;var D})();function ms(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(R),ee=new Uint8Array(j.length);for(let ue=0;ue<j.length;++ue)ee[ue]=j.charCodeAt(ue);return ee}const Ma="fcm_token_details_db",si="fcm_token_object_Store";function Op(D){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Ma))return null;let T=null;return(yield(0,oe.X3)(Ma,5,function(){var j=(0,k.Z)(function*(ee,ue,Fe,je){var St;if(ue<2||!ee.objectStoreNames.contains(si))return;const yt=je.objectStore(si),Kt=yield yt.index("fcmSenderId").get(D);if(yield yt.clear(),Kt)if(2===ue){const Bt=Kt;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;T={token:Bt.fcmToken,createTime:null!==(St=Bt.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:ms(Bt.vapidKey)}}}else if(3===ue){const Bt=Kt;T={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:ms(Bt.auth),p256dh:ms(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:ms(Bt.vapidKey)}}}else if(4===ue){const Bt=Kt;T={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:ms(Bt.auth),p256dh:ms(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:ms(Bt.vapidKey)}}}});return function(ee,ue,Fe,je){return j.apply(this,arguments)}}())).close(),yield(0,oe.Lj)(Ma),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),ic(T)?T:null}),Qo.apply(this,arguments)}function ic(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Hs="firebase-messaging-store";let ao=null;function sc(){return ao||(ao=(0,oe.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore(Hs)})),ao}function Mn(D){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(D){const T=js(D),j=yield(yield sc()).transaction(Hs).objectStore(Hs).get(T);if(j)return j;{const ee=yield Op(D.appConfig.senderId);if(ee)return yield co(D,ee),ee}})).apply(this,arguments)}function co(D,T){return An.apply(this,arguments)}function An(){return(An=(0,k.Z)(function*(D,T){const R=js(D),ee=(yield sc()).transaction(Hs,"readwrite");return yield ee.objectStore(Hs).put(T,R),yield ee.complete,T})).apply(this,arguments)}function oc(D){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(D){const T=js(D),j=(yield sc()).transaction(Hs,"readwrite");yield j.objectStore(Hs).delete(T),yield j.complete})).apply(this,arguments)}function js({appConfig:D}){return D.appId}const er=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pl(D,T){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(D,T){const R=yield Qi(D),j=gt(T),ee={method:"POST",headers:R,body:JSON.stringify(j)};let ue;try{ue=yield(yield fetch(Pi(D.appConfig),ee)).json()}catch(Fe){throw er.create("token-subscribe-failed",{errorInfo:Fe})}if(ue.error)throw er.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw er.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Wr(D,T){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(D,T){const R=yield Qi(D),j=gt(T.subscriptionOptions),ee={method:"PATCH",headers:R,body:JSON.stringify(j)};let ue;try{ue=yield(yield fetch(`${Pi(D.appConfig)}/${T.token}`,ee)).json()}catch(Fe){throw er.create("token-update-failed",{errorInfo:Fe})}if(ue.error)throw er.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw er.create("token-update-no-token");return ue.token})).apply(this,arguments)}function uo(D,T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(D,T){const j={method:"DELETE",headers:yield Qi(D)};try{const ue=yield(yield fetch(`${Pi(D.appConfig)}/${T}`,j)).json();if(ue.error)throw er.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(ee){throw er.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function Pi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Qi(D){return ys.apply(this,arguments)}function ys(){return(ys=(0,k.Z)(function*({appConfig:D,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function gt({p256dh:D,auth:T,endpoint:R,vapidKey:j}){const ee={web:{endpoint:R,auth:T,p256dh:D}};return j!==yi&&(ee.web.applicationPubKey=j),ee}const Ra=6048e5;function vu(D){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(D){const T=yield ah(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:ms(T.getKey("auth")),p256dh:ms(T.getKey("p256dh"))},j=yield Mn(D.firebaseDependencies);if(j){if(gl(j.subscriptionOptions,R))return Date.now()>=j.createTime+Ra?oh(D,{token:j.token,createTime:Date.now(),subscriptionOptions:R}):j.token;try{yield uo(D.firebaseDependencies,j.token)}catch(ee){console.warn(ee)}return Me(D.firebaseDependencies,R)}return Me(D.firebaseDependencies,R)})).apply(this,arguments)}function bu(D){return ta.apply(this,arguments)}function ta(){return(ta=(0,k.Z)(function*(D){const T=yield Mn(D.firebaseDependencies);T&&(yield uo(D.firebaseDependencies,T.token),yield oc(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function oh(D,T){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(D,T){try{const R=yield Wr(D.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield co(D.firebaseDependencies,j),R}catch(R){throw yield bu(D),R}})).apply(this,arguments)}function Me(D,T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,k.Z)(function*(D,T){const j={token:yield pl(D,T),createTime:Date.now(),subscriptionOptions:T};return yield co(D,j),j.token})).apply(this,arguments)}function ah(D,T){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hl(T)})})).apply(this,arguments)}function gl(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function $s(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Li(D,T){if(!T.notification)return;D.notification={};const R=T.notification.title;R&&(D.notification.title=R);const j=T.notification.body;j&&(D.notification.body=j);const ee=T.notification.image;ee&&(D.notification.image=ee)}(T,D),function ac(D,T){!T.data||(D.data=T.data)}(T,D),function Oa(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const R=T.fcmOptions.link;R&&(D.fcmOptions.link=R);const j=T.fcmOptions.analytics_label;j&&(D.fcmOptions.analyticsLabel=j)}(T,D),T}function Fp(D){return"object"==typeof D&&!!D&&Ko in D}function lc(D,T){const R=[];for(let j=0;j<D.length;j++)R.push(D.charAt(j)),j<T.length&&R.push(T.charAt(j));return R.join("")}function ra(D){return er.create("missing-app-config-values",{valueName:D})}lc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dr{constructor(T,R,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function na(D){if(!D||!D.options)throw ra("App Configuration Object");if(!D.name)throw ra("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const j of T)if(!R[j])throw ra(j);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:R,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Ji(D){return ia.apply(this,arguments)}function ia(){return(ia=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(gs,{scope:Sa}),D.swRegistration.update().catch(()=>{})}catch(T){throw er.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function sa(D,T){return oi.apply(this,arguments)}function oi(){return(oi=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Ji(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw er.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function lh(D,T){return oa.apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=yi)})).apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(D,T){if(!navigator)throw er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw er.create("permission-blocked");return yield lh(D,null==T?void 0:T.vapidKey),yield sa(D,null==T?void 0:T.serviceWorkerRegistration),vu(D)})).apply(this,arguments)}function cc(D,T,R){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(D,T,R){const j=ch(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:R[Ko],message_name:R[dl],message_time:R[sh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ch(D){switch(D){case Ni.NOTIFICATION_CLICKED:return"notification_open";case Ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function dc(){return(dc=(0,k.Z)(function*(D,T){const R=T.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Ni.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler($s(R)):D.onMessageHandler.next($s(R)));const j=R.data;Fp(j)&&"1"===j[Ia]&&(yield cc(D,R.messageType,j))})).apply(this,arguments)}const ml="@firebase/messaging",ho=D=>{const T=new dr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function uc(D,T){return dc.apply(this,arguments)}(T,R)),T},hc=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:j=>function wu(D,T){return Fa.apply(this,arguments)}(T,j)}};function Cu(){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(){try{yield(0,oe.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uh(){(0,se._registerComponent)(new Q.wA("messaging",ho,"PUBLIC")),(0,se._registerComponent)(new Q.wA("messaging-internal",hc,"PRIVATE")),(0,se.registerVersion)(ml,"0.9.12"),(0,se.registerVersion)(ml,"0.9.12","esm2017")}();const pc="analytics",Eu="firebase_id",gc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",tr=new ae.Yd("@firebase/analytics");function Du(D){return Promise.all(D.map(T=>T.catch(R=>R)))}function xu(D,T){const R=document.createElement("script");R.src=`${_l}?l=${D}&id=${T}`,R.async=!0,document.head.appendChild(R)}function yl(D,T,R,j,ee,ue){return La.apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(D,T,R,j,ee,ue){const Fe=j[ee];try{if(Fe)yield T[Fe];else{const St=(yield Du(R)).find(yt=>yt.measurementId===ee);St&&(yield T[St.appId])}}catch(je){tr.error(je)}D("config",ee,ue)})).apply(this,arguments)}function hh(D,T,R,j,ee){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(D,T,R,j,ee){try{let ue=[];if(ee&&ee.send_to){let Fe=ee.send_to;Array.isArray(Fe)||(Fe=[Fe]);const je=yield Du(R);for(const St of Fe){const yt=je.find(Bt=>Bt.measurementId===St),Kt=yt&&T[yt.appId];if(!Kt){ue=[];break}ue.push(Kt)}}0===ue.length&&(ue=Object.values(T)),yield Promise.all(ue),D("event",j,ee||{})}catch(ue){tr.error(ue)}})).apply(this,arguments)}function jm(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(_l))return T;return null}const Ye=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),bi=new class Mr{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function aa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function cn(D){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*(D){var T;const{appId:R,apiKey:j}=D,ee={method:"GET",headers:aa(j)},ue=gc.replace("{app-id}",R),Fe=yield fetch(ue,ee);if(200!==Fe.status&&304!==Fe.status){let je="";try{const St=yield Fe.json();(null===(T=St.error)||void 0===T?void 0:T.message)&&(je=St.error.message)}catch(St){}throw Ye.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:je})}return Fe.json()})).apply(this,arguments)}function yc(D){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,k.Z)(function*(D,T=bi,R){const{appId:j,apiKey:ee,measurementId:ue}=D.options;if(!j)throw Ye.create("no-app-id");if(!ee){if(ue)return{measurementId:ue,appId:j};throw Ye.create("no-api-key")}const Fe=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Au;return setTimeout((0,k.Z)(function*(){je.abort()}),void 0!==R?R:6e4),Bn({appId:j,apiKey:ee,measurementId:ue},Fe,je,T)})).apply(this,arguments)}function Bn(D,T,R){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:R},j,ee=bi){const{appId:ue,measurementId:Fe}=D;try{yield fh(j,T)}catch(je){if(Fe)return tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:ue,measurementId:Fe};throw je}try{const je=yield cn(D);return ee.deleteThrottleMetadata(ue),je}catch(je){if(!vl(je)){if(ee.deleteThrottleMetadata(ue),Fe)return tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:ue,measurementId:Fe};throw je}const St=503===Number(je.customData.httpStatus)?(0,oe.$s)(R,ee.intervalMillis,30):(0,oe.$s)(R,ee.intervalMillis),yt={throttleEndTimeMillis:Date.now()+St,backoffCount:R+1};return ee.setThrottleMetadata(ue,yt),tr.debug(`Calling attemptFetch again in ${St} millis`),Bn(D,yt,j,ee)}})).apply(this,arguments)}function fh(D,T){return new Promise((R,j)=>{const ee=Math.max(T-Date.now(),0),ue=setTimeout(R,ee);D.addEventListener(()=>{clearTimeout(ue),j(Ye.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function vl(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Au{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function bl(){return wl.apply(this,arguments)}function wl(){return(wl=(0,k.Z)(function*(){if(!(0,oe.hl)())return tr.warn(Ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return tr.warn(Ye.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(D,T,R,j,ee,ue,Fe){var je;const St=yc(D);St.then(bn=>{R[bn.measurementId]=bn.appId,D.options.measurementId&&bn.measurementId!==D.options.measurementId&&tr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bn=>tr.error(bn)),T.push(St);const yt=bl().then(bn=>{if(bn)return j.getId()}),[Kt,Bt]=yield Promise.all([St,yt]);jm()||xu(ue,Kt.measurementId),ee("js",new Date);const It=null!==(je=null==Fe?void 0:Fe.config)&&void 0!==je?je:{};return It.origin="firebase",It.update=!0,null!=Bt&&(It[Eu]=Bt),ee("config",Kt.measurementId,It),Kt.measurementId})).apply(this,arguments)}class la{constructor(T){this.app=T}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},ca=[];const ua={};let Cl,ht,li="dataLayer",Zr=!1;function Va(D,T,R){!function Ba(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((j,ee)=>`(${ee+1}) ${j}`).join(" "),R=Ye.create("invalid-analytics-context",{errorInfo:T});tr.warn(R.message)}}();const j=D.options.appId;if(!j)throw Ye.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ye.create("no-api-key");tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[j])throw Ye.create("already-exists",{id:j});if(!Zr){!function vs(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(li);const{wrappedGtag:ue,gtagCore:Fe}=function Tu(D,T,R,j,ee){let ue=function(...Fe){window[j].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ue=window[ee]),window[ee]=function mc(D,T,R,j){function ue(){return(ue=(0,k.Z)(function*(Fe,je,St){try{"event"===Fe?yield hh(D,T,R,je,St):"config"===Fe?yield yl(D,T,R,j,je,St):D("set",je)}catch(yt){tr.error(yt)}})).apply(this,arguments)}return function ee(Fe,je,St){return ue.apply(this,arguments)}}(ue,D,T,R),{gtagCore:ue,wrappedGtag:window[ee]}}(yr,ca,ua,li,"gtag");ht=ue,Cl=Fe,Zr=!0}return yr[j]=function ai(D,T,R,j,ee,ue,Fe){return mo.apply(this,arguments)}(D,ca,ua,T,Cl,li,R),new la(D)}function Ua(){return(Ua=(0,k.Z)(function*(D,T,R,j,ee){if(ee&&ee.global)D("event",R,j);else{const ue=yield T;D("event",R,Object.assign(Object.assign({},j),{send_to:ue}))}})).apply(this,arguments)}function Vr(){return Su.apply(this,arguments)}function Su(){return(Su=(0,k.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}const _h="@firebase/analytics";!function Lp(){(0,se._registerComponent)(new Q.wA(pc,(T,{options:R})=>Va(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,se._registerComponent)(new Q.wA("analytics-internal",function D(T){try{const R=T.getProvider(pc).getImmediate();return{logEvent:(j,ee,ue)=>function mh(D,T,R,j){D=(0,oe.m9)(D),function Np(D,T,R,j,ee){return Ua.apply(this,arguments)}(ht,yr[D.app.options.appId],T,R,j).catch(ee=>tr.error(ee))}(R,j,ee,ue)}}catch(R){throw Ye.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,se.registerVersion)(_h,"0.7.8"),(0,se.registerVersion)(_h,"0.7.8","esm2017")}();var Mu=N(341),Ha=N(353),El=N(2916),nr=N(2868),vo=N(2102),bo=N(3334);const Ru=new s.GfV("7.3.0"),Ci="__angularfire_symbol__analyticsIsSupportedValue",on="__angularfire_symbol__analyticsIsSupported",Ei="__angularfire_symbol__remoteConfigIsSupportedValue",Ur="__angularfire_symbol__remoteConfigIsSupported",wo="__angularfire_symbol__messagingIsSupportedValue",ci="__angularfire_symbol__messagingIsSupported";function Cc(D,T,R){if(T){if(1===T.length)return T[0];const ue=T.filter(Fe=>Fe.app===R);if(1===ue.length)return ue[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[on]||(globalThis[on]=Vr().then(D=>globalThis[Ci]=D).catch(()=>globalThis[Ci]=!1)),globalThis[ci]||(globalThis[ci]=Cu().then(D=>globalThis[wo]=D).catch(()=>globalThis[wo]=!1)),globalThis[Ur]||(globalThis[Ur]=_u().then(D=>globalThis[Ei]=D).catch(()=>globalThis[Ei]=!1));const Ec=(D,T)=>{const R=T?[T]:(0,H.C6)(),j=[];return R.forEach(ee=>{ee.container.getProvider(D).instances.forEach(Fe=>{j.includes(Fe)||j.push(Fe)})}),j};function hr(){}class Dl{constructor(T,R=Mu.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,j){const ee=this.zone;return this.delegate.schedule(function(Fe){ee.runGuarded(()=>{T.apply(this,[Fe])})},R,j)}}class Js{constructor(T){this.zone=T,this.task=null}call(T,R){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)),R.pipe((0,nr.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bp=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Dl(Zone.current)),this.insideAngular=R.run(()=>new Dl(Zone.current,Ha.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Xi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ou(D){return Xi().ngZone.runOutsideAngular(()=>D())}function es(D){return Xi().ngZone.run(()=>D())}function Dc(D){return D.pipe((0,vo.QV)(Xi().outsideAngular))}function ja(D){return Xi(),function Fu(D){return function(R){return(R=R.lift(new Js(D.ngZone))).pipe((0,bo.R)(D.outsideAngular),(0,vo.QV)(D.insideAngular))}}(Xi())(D)}const xl=(D,T)=>function(){const j=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),es(()=>D.apply(void 0,j))},Rt=(D,T)=>function(){let R;const j=arguments;for(let ue=0;ue<arguments.length;ue++)"function"==typeof j[ue]&&(T&&(R||(R=es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)))),j[ue]=xl(j[ue],R));const ee=Ou(()=>D.apply(this,j));if(!T){if(ee instanceof El.y){const ue=Xi();return ee.pipe((0,bo.R)(ue.outsideAngular),(0,vo.QV)(ue.insideAngular))}return es(()=>ee)}return ee instanceof El.y?ee.pipe(ja):ee instanceof Promise?es(()=>new Promise((ue,Fe)=>ee.then(je=>es(()=>ue(je)),je=>es(()=>Fe(je))))):"function"==typeof ee&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ee.apply(this,arguments)}:es(()=>ee)}},573:(ot,Ae,N)=>{N.d(Ae,{$:()=>vu,A:()=>q,E:()=>zt,G:()=>Lr,I:()=>ps,K:()=>$,L:()=>ul,M:()=>ih,N:()=>Ko,P:()=>wo,Q:()=>dl,R:()=>Iu,T:()=>yi,U:()=>Ni,V:()=>ms,W:()=>Op,X:()=>Ir,Y:()=>pl,Z:()=>Wr,_:()=>Pi,a:()=>at,a0:()=>bu,a1:()=>oh,a2:()=>Me,a3:()=>ah,a4:()=>gl,a5:()=>Li,a6:()=>ac,a7:()=>Fp,a8:()=>lc,a9:()=>Ji,aA:()=>Di,aB:()=>R,aC:()=>xn,aG:()=>bi,aJ:()=>Ia,aa:()=>sa,ab:()=>lh,ae:()=>cc,af:()=>ch,ag:()=>uc,aj:()=>Hs,ak:()=>fc,am:()=>gc,an:()=>yl,ao:()=>Fn,ap:()=>rt,aq:()=>xt,ar:()=>$e,as:()=>Ke,at:()=>fa,au:()=>Qt,av:()=>_t,aw:()=>Ce,ax:()=>ce,ay:()=>K,az:()=>qa,b:()=>yn,c:()=>Dl,d:()=>Ou,e:()=>Bp,f:()=>ue,g:()=>Bt,h:()=>St,i:()=>Ba,j:()=>$a,k:()=>ns,l:()=>nr,m:()=>zu,n:()=>zm,o:()=>X,r:()=>bo,s:()=>Ha,t:()=>Hn,u:()=>Ei,z:()=>be});var s=N(5861),H=N(2090),k=N(9681),se=N(655),oe=N(1877),Q=N(4859);const X={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new oe.Yd("@firebase/auth");function Ve(b,...g){xe.logLevel<=oe.in.ERROR&&xe.error(`Auth (${k.SDK_VERSION}): ${b}`,...g)}function Ke(b,...g){throw Ln(b,...g)}function _t(b,...g){return Ln(b,...g)}function un(b,g,_){const C=Object.assign(Object.assign({},Ee()),{[g]:_});return new H.LL("auth","Firebase",C).create(g,{appName:b.name})}function Dt(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ke(b,"argument-error"),un(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ln(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return _e.create(b,...g)}function Ce(b,g,..._){if(!b)throw Ln(g,..._)}function Zt(b){const g="INTERNAL ASSERTION FAILED: "+b;throw Ve(g),new Error(g)}function rt(b,g){b||Zt(g)}const le=new Map;function ce(b){rt(b instanceof Function,"Expected a class definition");let g=le.get(b);return g?(rt(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,le.set(b,g),g)}function pe(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ne(){return"http:"===At()||"https:"===At()}function At(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ue{constructor(g,_){this.shortDelay=g,this.longDelay=_,rt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(b,g){rt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class lr{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Ue(3e4,6e4);function sn(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function ln(b,g,_,C){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(b,g,_,C,I={}){return mr(b,I,(0,s.Z)(function*(){let L={},ne={};C&&("GET"===g?ne=C:L={body:JSON.stringify(C)});const Re=(0,H.xO)(Object.assign({key:b.config.apiKey},ne)).slice(1),it=yield b._getAdditionalHeaders();return it["Content-Type"]="application/json",b.languageCode&&(it["X-Firebase-Locale"]=b.languageCode),lr.fetch()(pi(b,b.config.apiHost,_,Re),Object.assign({method:g,headers:it,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function mr(b,g,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Vn),g);try{const I=new _r(b),L=yield Promise.race([_(),I.promise]);I.clearNetworkTimeout();const ne=yield L.json();if("needConfirmation"in ne)throw Sr(b,"account-exists-with-different-credential",ne);if(L.ok&&!("errorMessage"in ne))return ne;{const Re=L.ok?ne.errorMessage:ne.error.message,[it,vt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw Sr(b,"credential-already-in-use",ne);if("EMAIL_EXISTS"===it)throw Sr(b,"email-already-in-use",ne);const Vt=C[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(vt)throw un(b,Vt,vt);Ke(b,Vt)}}catch(I){if(I instanceof H.ZR)throw I;Ke(b,"network-request-failed")}})).apply(this,arguments)}function Ar(b,g,_,C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,s.Z)(function*(b,g,_,C,I={}){const L=yield ln(b,g,_,C,I);return"mfaPendingCredential"in L&&Ke(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function pi(b,g,_,C){const I=`${g}${_}?${C}`;return b.config.emulator?rn(b.config,I):`${b.config.apiScheme}://${I}`}class _r{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(_t(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const I=_t(b,g,C);return I.customData._tokenResponse=_,I}function ct(){return(ct=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Fr(b,g){return $n.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pn(b,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gi(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function qr(){return(qr=(0,s.Z)(function*(b,g=!1){const _=(0,H.m9)(b),C=yield _.getIdToken(g),I=$t(C);Ce(I&&I.exp&&I.auth_time&&I.iat,_.auth,"internal-error");const L="object"==typeof I.firebase?I.firebase:void 0,ne=null==L?void 0:L.sign_in_provider;return{claims:I,token:C,authTime:gi(no(I.auth_time)),issuedAtTime:gi(no(I.iat)),expirationTime:gi(no(I.exp)),signInProvider:ne||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function no(b){return 1e3*Number(b)}function $t(b){const[g,_,C]=b.split(".");if(void 0===g||void 0===_||void 0===C)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,H.tV)(_);return I?JSON.parse(I):(Ve("Failed to decode base64 JWT payload"),null)}catch(I){return Ve("Caught error parsing JWT payload as JSON",I),null}}function nt(b,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof H.ZR&&Yi(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function Yi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class qt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const I=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Zi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(b){return mn.apply(this,arguments)}function mn(){return(mn=(0,s.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),I=yield nt(b,pn(_,{idToken:C}));Ce(null==I?void 0:I.users.length,_,"internal-error");const L=I.users[0];b._notifyReloadListener(L);const ne=(null===(g=L.providerUserInfo)||void 0===g?void 0:g.length)?Ge(L.providerUserInfo):[],Re=Wt(b.providerData,ne),Vt=!!b.isAnonymous&&!(b.email&&L.passwordHash||(null==Re?void 0:Re.length)),Kn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Re,metadata:new Zi(L.createdAt,L.lastLoginAt),isAnonymous:Vt};Object.assign(b,Kn)})).apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(b){const g=(0,H.m9)(b);yield qn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Wt(b,g){return[...b.filter(C=>!g.some(I=>I.providerId===C.providerId)),...g]}function Ge(b){return b.map(g=>{var{providerId:_}=g,C=(0,se._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Qe(){return(Qe=(0,s.Z)(function*(b,g){const _=yield mr(b,{},(0,s.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:I,apiKey:L}=b.config,ne=pi(b,I,"/v1/token",`key=${L}`),Re=yield b._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",lr.fetch()(ne,{method:"POST",headers:Re,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ce(g.idToken,"internal-error"),Ce(void 0!==g.idToken,"internal-error"),Ce(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ut(b){const g=$t(b);return Ce(g,"internal-error"),Ce(void 0!==g.exp,"internal-error"),Ce(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,s.Z)(function*(){return Ce(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,s.Z)(function*(){const{accessToken:I,refreshToken:L,expiresIn:ne}=yield function Se(b,g){return Qe.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(I,L,Number(ne))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:I,expirationTime:L}=_,ne=new dt;return C&&(Ce("string"==typeof C,"internal-error",{appName:g}),ne.refreshToken=C),I&&(Ce("string"==typeof I,"internal-error",{appName:g}),ne.accessToken=I),L&&(Ce("number"==typeof L,"internal-error",{appName:g}),ne.expirationTime=L),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function Pt(b,g){Ce("string"==typeof b||void 0===b,"internal-error",{appName:g})}class Lt{constructor(g){var{uid:_,auth:C,stsTokenManager:I}=g,L=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Zi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const C=yield nt(_,_.stsTokenManager.getToken(_.auth,g));return Ce(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function Gn(b){return qr.apply(this,arguments)}(this,g)}reload(){return function pt(b){return Wn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ce(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Lt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,s.Z)(function*(){let I=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),I=!0),_&&(yield qn(C)),yield C.auth._persistUserIfCurrent(C),I&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield nt(g,function hs(b,g){return ct.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,I,L,ne,Re,it,vt,Vt;const Kn=null!==(C=_.displayName)&&void 0!==C?C:void 0,Io=null!==(I=_.email)&&void 0!==I?I:void 0,Za=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,Ka=null!==(ne=_.photoURL)&&void 0!==ne?ne:void 0,Qa=null!==(Re=_.tenantId)&&void 0!==Re?Re:void 0,Sc=null!==(it=_._redirectEventId)&&void 0!==it?it:void 0,Ih=null!==(vt=_.createdAt)&&void 0!==vt?vt:void 0,qm=null!==(Vt=_.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ic,emailVerified:Mh,isAnonymous:$p,providerData:Rh,stsTokenManager:zp}=_;Ce(Ic&&zp,g,"internal-error");const Yu=dt.fromJSON(this.name,zp);Ce("string"==typeof Ic,g,"internal-error"),Pt(Kn,g.name),Pt(Io,g.name),Ce("boolean"==typeof Mh,g,"internal-error"),Ce("boolean"==typeof $p,g,"internal-error"),Pt(Za,g.name),Pt(Ka,g.name),Pt(Qa,g.name),Pt(Sc,g.name),Pt(Ih,g.name),Pt(qm,g.name);const Vi=new Lt({uid:Ic,auth:g,email:Io,emailVerified:Mh,displayName:Kn,isAnonymous:$p,photoURL:Ka,phoneNumber:Za,tenantId:Qa,stsTokenManager:Yu,createdAt:Ih,lastLoginAt:qm});return Rh&&Array.isArray(Rh)&&(Vi.providerData=Rh.map(qp=>Object.assign({},qp))),Sc&&(Vi._redirectEventId=Sc),Vi}static _fromIdTokenResponse(g,_,C=!1){return(0,s.Z)(function*(){const I=new dt;I.updateFromServerResponse(_);const L=new Lt({uid:_.localId,auth:g,stsTokenManager:I,isAnonymous:C});return yield qn(L),L})()}}const $=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,C){var I=this;return(0,s.Z)(function*(){I.storage[_]=C})()}_get(_){var C=this;return(0,s.Z)(function*(){const I=C.storage[_];return void 0===I?null:I})()}_remove(_){var C=this;return(0,s.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function K(b,g,_){return`firebase:${b}:${g}:${_}`}class fe{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:I,name:L}=this.auth;this.fullUserKey=K(this.userKey,I.apiKey,L),this.fullPersistenceKey=K("persistence",I.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Lt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,s.Z)(function*(){if(!_.length)return new fe(ce($),g,C);const I=(yield Promise.all(_.map(function(){var vt=(0,s.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return vt.apply(this,arguments)}}()))).filter(vt=>vt);let L=I[0]||ce($);const ne=K(C,g.config.apiKey,g.name);let Re=null;for(const vt of _)try{const Vt=yield vt._get(ne);if(Vt){const Kn=Lt._fromJSON(g,Vt);vt!==L&&(Re=Kn),L=vt;break}}catch(Vt){}const it=I.filter(vt=>vt._shouldAllowMigration);return L._shouldAllowMigration&&it.length?(L=it[0],Re&&(yield L._set(ne,Re.toJSON())),yield Promise.all(_.map(function(){var vt=(0,s.Z)(function*(Vt){if(Vt!==L)try{yield Vt._remove(ne)}catch(Kn){}});return function(Vt){return vt.apply(this,arguments)}}())),new fe(L,g,C)):new fe(L,g,C)})()}}function F(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(bt(g))return"Blackberry";if(tt(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||de(g))&&!g.includes("edge/"))return"Chrome";if($e(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function V(b=(0,H.z$)()){return/firefox\//i.test(b)}function z(b=(0,H.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function de(b=(0,H.z$)()){return/crios\//i.test(b)}function Le(b=(0,H.z$)()){return/iemobile/i.test(b)}function $e(b=(0,H.z$)()){return/android/i.test(b)}function bt(b=(0,H.z$)()){return/blackberry/i.test(b)}function tt(b=(0,H.z$)()){return/webos/i.test(b)}function xt(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)}function Fn(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Nr(b=(0,H.z$)()){return xt(b)||$e(b)||tt(b)||bt(b)||/windows phone/i.test(b)||Le(b)}function Xn(b,g=[]){let _;switch(b){case"Browser":_=F((0,H.z$)());break;case"Worker":_=`${F((0,H.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${C}`}class al{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qe(this),this.idTokenSubscription=new qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=ce(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var I,L;if(!C._deleted&&(C.persistenceManager=yield fe.create(C,g),!C._deleted)){if(null===(I=C._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(ne){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var C;let I=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const L=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,ne=null==I?void 0:I._redirectEventId,Re=yield _.tryRedirectSignIn(g);(!L||L===ne)&&(null==Re?void 0:Re.user)&&(I=Re.user)}return I?I._redirectEventId?(Ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===I._redirectEventId?_.directlySetCurrentUser(I):_.reloadAndSetCurrentUserOrClear(I)):_.reloadAndSetCurrentUserOrClear(I):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(I){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield qn(g)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function fn(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const C=g?(0,H.m9)(g):null;return C&&Ce(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){if(!_._deleted)return g&&Ce(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,s.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(ce(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,s.Z)(function*(){const I=yield C.getOrInitRedirectPersistenceManager(_);return null===g?I.removeCurrentUser():I.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&ce(g)||_._popupRedirectResolver;Ce(C,_,"argument-error"),_.redirectPersistenceManager=yield fe.create(_,[ce(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var C,I;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,I){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(ne,this,"internal-error"),ne.then(()=>L(this.currentUser)),"function"==typeof _?g.addObserver(_,C,I):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const I=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return I&&(C["X-Firebase-Client"]=I),C})()}}function xn(b){return(0,H.m9)(b)}class qe{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zt(b,g,_){const C=xn(b);Ce(C._canInitEmulator,C,"emulator-config-failed"),Ce(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const I=!!(null==_?void 0:_.disableWarnings),L=Tn(g),{host:ne,port:Re}=function Pr(b){const g=Tn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(C);if(I){const L=I[1];return{host:L,port:fs(C.substr(L.length+1))}}{const[L,ne]=C.split(":");return{host:L,port:fs(ne)}}}(g);C.config.emulator={url:`${L}//${ne}${null===Re?"":`:${Re}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ne,port:Re,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function ur(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Tn(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function fs(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Lr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Zt("not implemented")}_getIdTokenResponse(g){return Zt("not implemented")}_linkToIdToken(g,_){return Zt("not implemented")}_getReauthenticationResolver(g){return Zt("not implemented")}}function Nn(b,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:resetPassword",sn(b,g))})).apply(this,arguments)}function ro(b,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ta(b,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:update",sn(b,g))})).apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithPassword",sn(b,g))})).apply(this,arguments)}function Jn(b,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:sendOobCode",sn(b,g))})).apply(this,arguments)}function io(b,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(b,g){return Jn(b,g)})).apply(this,arguments)}function In(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,s.Z)(function*(b,g){return Jn(b,g)})).apply(this,arguments)}function fu(b,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(b,g){return Jn(b,g)})).apply(this,arguments)}function _i(b,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(b,g){return Jn(b,g)})).apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithEmailLink",sn(b,g))})).apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithEmailLink",sn(b,g))})).apply(this,arguments)}class cl extends Lr{constructor(g,_,C,I=null){super("password",C),this._email=g,this._password=_,this._tenantId=I}static _fromEmailAndPassword(g,_){return new cl(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new cl(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function rc(b,g){return Ki.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function qo(b,g){return Wo.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ke(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return ro(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Fi(b,g){return so.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Ke(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Us(b,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithIdp",sn(b,g))})).apply(this,arguments)}class ps extends Lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ps(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:I}=_,L=(0,se._T)(_,["providerId","signInMethod"]);if(!C||!I)return null;const ne=new ps(C,I);return ne.idToken=L.idToken||void 0,ne.accessToken=L.accessToken||void 0,ne.secret=L.secret,ne.nonce=L.nonce,ne.pendingToken=L.pendingToken||null,ne}_getIdTokenResponse(g){return Us(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Us(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Us(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,H.xO)(_)}return g}}function Sp(b,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:sendVerificationCode",sn(b,g))})).apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithPhoneNumber",sn(b,g))})).apply(this,arguments)}function gu(){return(gu=(0,s.Z)(function*(b,g){const _=yield Ar(b,"POST","/v1/accounts:signInWithPhoneNumber",sn(b,g));if(_.temporaryProof)throw Sr(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Mp={USER_NOT_FOUND:"user-not-found"};function mu(){return(mu=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithPhoneNumber",sn(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Mp)})).apply(this,arguments)}class Zo extends Lr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Zo({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Zo({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Ip(b,g){return Aa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Yo(b,g){return gu.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rp(b,g){return mu.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:I}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:I}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:I,temporaryProof:L}=g;return C||_||I||L?new Zo({verificationId:_,verificationCode:C,phoneNumber:I,temporaryProof:L}):null}}class Gs{constructor(g){var _,C,I,L,ne,Re;const it=(0,H.zd)((0,H.pd)(g)),vt=null!==(_=it.apiKey)&&void 0!==_?_:null,Vt=null!==(C=it.oobCode)&&void 0!==C?C:null,Kn=function kp(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=it.mode)&&void 0!==I?I:null);Ce(vt&&Vt&&Kn,"argument-error"),this.apiKey=vt,this.operation=Kn,this.code=Vt,this.continueUrl=null!==(L=it.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ne=it.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Re=it.tenantId)&&void 0!==Re?Re:null}static parseLink(g){const _=function Hm(b){const g=(0,H.zd)((0,H.pd)(b)).link,_=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||_||g||b}(g);try{return new Gs(_)}catch(C){return null}}}let ul=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return cl._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const I=Gs.parseLink(C);return Ce(I,"argument-error"),cl._fromEmailAndCode(_,I.code,I.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class gs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Sa extends gs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class yi extends Sa{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Ce("providerId"in _&&"signInMethod"in _,"argument-error"),ps._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ce(g.idToken||g.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return yi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return yi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:I,pendingToken:L,nonce:ne,providerId:Re}=g;if(!C&&!I&&!_&&!L||!Re)return null;try{return new yi(Re)._credential({idToken:_,accessToken:C,nonce:ne,pendingToken:L})}catch(it){return null}}}let ih=(()=>{class b extends Sa{constructor(){super("facebook.com")}static credential(_){return ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ko=(()=>{class b extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:I}=_;if(!C&&!I)return null;try{return b.credential(C,I)}catch(L){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),dl=(()=>{class b extends Sa{constructor(){super("github.com")}static credential(_){return ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ia extends Lr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Us(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Us(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Us(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:I,pendingToken:L}=_;return C&&I&&L&&C===I?new Ia(C,L):null}static _create(g,_){return new Ia(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends gs{constructor(g){Ce(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ni.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ni.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ia.fromJSON(g);return Ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Ia._create(C,_)}catch(I){return null}}}let ms=(()=>{class b extends Sa{constructor(){super("twitter.com")}static credential(_,C){return ps._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:I}=_;if(!C||!I)return null;try{return b.credential(C,I)}catch(L){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hl(b,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signUp",sn(b,g))})).apply(this,arguments)}class _n{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,I=!1){return(0,s.Z)(function*(){const L=yield Lt._fromIdTokenResponse(g,C,I),ne=si(C);return new _n({user:L,providerId:ne,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const I=si(C);return new _n({user:g,providerId:I,_tokenResponse:C,operationType:_})})()}}function si(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Op(b){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(b){var g;const _=xn(b);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new _n({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield hl(_,{returnSecureToken:!0}),I=yield _n._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class ic extends H.ZR{constructor(g,_,C,I){var L;super(_.code,_.message),this.operationType=C,this.user=I,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,I){return new ic(g,_,C,I)}}function yu(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?ic._fromErrorAndOperation(b,L,g,C):L})}function fl(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Hs(b,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,s.Z)(function*(b,g){const _=(0,H.m9)(b);yield lo(!0,_,g);const{providerUserInfo:C}=yield Fr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),I=fl(C||[]);return _.providerData=_.providerData.filter(L=>I.has(L.providerId)),I.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function sc(b,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(b,g,_=!1){const C=yield nt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return _n._forOperation(b,"link",C)})).apply(this,arguments)}function lo(b,g,_){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(b,g,_){yield qn(g);const I=!1===b?"provider-already-linked":"no-such-provider";Ce(fl(g.providerData).has(_)===b,g.auth,I)})).apply(this,arguments)}function An(b,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(b,g,_=!1){const{auth:C}=b,I="reauthenticate";try{const L=yield nt(b,yu(C,I,g,b),_);Ce(L.idToken,C,"internal-error");const ne=$t(L.idToken);Ce(ne,C,"internal-error");const{sub:Re}=ne;return Ce(b.uid===Re,C,"user-mismatch"),_n._forOperation(b,I,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Ke(C,"user-mismatch"),L}})).apply(this,arguments)}function Jo(b,g){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(b,g,_=!1){const C="signIn",I=yield yu(b,C,g),L=yield _n._fromIdTokenResponse(b,C,I);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Ir(b,g){return er.apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(b,g){return Jo(xn(b),g)})).apply(this,arguments)}function pl(b,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(b,g){const _=(0,H.m9)(b);return yield lo(!1,_,g.providerId),sc(_,g)})).apply(this,arguments)}function Wr(b,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(b,g){return An((0,H.m9)(b),g)})).apply(this,arguments)}function uo(b,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(b,g){return Ar(b,"POST","/v1/accounts:signInWithCustomToken",sn(b,g))})).apply(this,arguments)}function Pi(b,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*(b,g){const _=xn(b),C=yield uo(_,{token:g,returnSecureToken:!0}),I=yield _n._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class ys{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?gt._fromServerResponse(g,_):Ke(g,"internal-error")}}class gt extends ys{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new gt(_)}}function Ra(b,g,_){var C;Ce((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Ce(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function vu(b,g,_){return ea.apply(this,arguments)}function ea(){return(ea=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b),I={requestType:"PASSWORD_RESET",email:g};_&&Ra(C,I,_),yield In(C,I)})).apply(this,arguments)}function bu(b,g,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(b,g,_){yield Nn((0,H.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function oh(b,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(b,g){yield Ta((0,H.m9)(b),{oobCode:g})})).apply(this,arguments)}function Me(b,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,s.Z)(function*(b,g){const _=(0,H.m9)(b),C=yield Nn(_,{oobCode:g}),I=C.requestType;switch(Ce(I,_,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(C.mfaInfo,_,"internal-error");default:Ce(C.email,_,"internal-error")}let L=null;return C.mfaInfo&&(L=ys._fromServerResponse(xn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:I}})).apply(this,arguments)}function ah(b,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(b,g){const{data:_}=yield Me((0,H.m9)(b),g);return _.email})).apply(this,arguments)}function gl(b,g,_){return $s.apply(this,arguments)}function $s(){return($s=(0,s.Z)(function*(b,g,_){const C=xn(b),I=yield hl(C,{returnSecureToken:!0,email:g,password:_}),L=yield _n._fromIdTokenResponse(C,"signIn",I);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function Li(b,g,_){return Ir((0,H.m9)(b),ul.credential(g,_))}function ac(b,g,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b),I={requestType:"EMAIL_SIGNIN",email:g};Ce(_.handleCodeInApp,C,"argument-error"),_&&Ra(C,I,_),yield fu(C,I)})).apply(this,arguments)}function Fp(b,g){const _=Gs.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function lc(b,g,_){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b),I=ul.credentialWithLink(g,_||pe());return Ce(I._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ir(C,I)})).apply(this,arguments)}function ra(b,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:createAuthUri",sn(b,g))})).apply(this,arguments)}function Ji(b,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(b,g){const C={identifier:g,continueUri:Ne()?pe():"http://localhost"},{signinMethods:I}=yield ra((0,H.m9)(b),C);return I||[]})).apply(this,arguments)}function sa(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(b,g){const _=(0,H.m9)(b),I={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Ra(_.auth,I,g);const{email:L}=yield io(_.auth,I);L!==b.email&&(yield b.reload())})).apply(this,arguments)}function lh(b,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Ra(C.auth,L,_);const{email:ne}=yield _i(C.auth,L);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function wu(b,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(b,g){return ln(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cc(b,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,H.m9)(b),L={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ne=yield nt(C,wu(C.auth,L));C.displayName=ne.displayName||null,C.photoURL=ne.photoUrl||null;const Re=C.providerData.find(({providerId:it})=>"password"===it);Re&&(Re.displayName=C.displayName,Re.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ne)})).apply(this,arguments)}function ch(b,g){return dc((0,H.m9)(b),g,null)}function uc(b,g){return dc((0,H.m9)(b),null,g)}function dc(b,g,_){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.Z)(function*(b,g,_){const{auth:C}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(L.email=g),_&&(L.password=_);const ne=yield nt(b,ro(C,L));yield b._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class ho{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class hc extends ho{constructor(g,_,C,I){super(g,_,C),this.username=I}}class uh extends ho{constructor(g,_){super(g,"facebook.com",_)}}class Cu extends hc{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class fo extends ho{constructor(g,_){super(g,"google.com",_)}}class qs extends hc{constructor(g,_,C){super(g,"twitter.com",_,C)}}function fc(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Na(b){var g,_;if(!b)return null;const{providerId:C}=b,I=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const ne=null===(_=null===(g=$t(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ne)return new ho(L,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!C)return null;switch(C){case"facebook.com":return new uh(L,I);case"github.com":return new Cu(L,I);case"google.com":return new fo(L,I);case"twitter.com":return new qs(L,I,b.screenName||null);case"custom":case"anonymous":return new ho(L,null);default:return new ho(L,C,I)}}(_)}function Hn(b,g,_,C){return(0,H.m9)(b).onAuthStateChanged(g,_,C)}class po{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new po("enroll",g)}static _fromMfaPendingCredential(g){return new po("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return po._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.idToken)return po._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Pa{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=xn(g),I=_.customData._serverResponse,L=(I.mfaInfo||[]).map(Re=>ys._fromServerResponse(C,Re));Ce(I.mfaPendingCredential,C,"internal-error");const ne=po._fromMfaPendingCredential(I.mfaPendingCredential);return new Pa(ne,L,function(){var Re=(0,s.Z)(function*(it){const vt=yield it._process(C,ne);delete I.mfaInfo,delete I.mfaPendingCredential;const Vt=Object.assign(Object.assign({},I),{idToken:vt.idToken,refreshToken:vt.refreshToken});switch(_.operationType){case"signIn":const Kn=yield _n._fromIdTokenResponse(C,_.operationType,Vt);return yield C._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return Ce(_.user,C,"internal-error"),_n._forOperation(_.user,_.operationType,Vt);default:Ke(C,"internal-error")}});return function(it){return Re.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function gc(b,g){var _;const C=(0,H.m9)(b),I=g;return Ce(g.customData.operationType,C,"argument-error"),Ce(null===(_=I.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Pa._fromError(C,I)}function _l(b,g){return ln(b,"POST","/v2/accounts/mfaEnrollment:start",sn(b,g))}class xu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>ys._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new xu(g)}getSession(){var g=this;return(0,s.Z)(function*(){return po._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var C=this;return(0,s.Z)(function*(){const I=g,L=yield C.getSession(),ne=yield nt(C.user,I._process(C.user.auth,L,_));return yield C.user._updateTokensIfNecessary(ne),C.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const C="string"==typeof g?g:g.uid,I=yield _.user.getIdToken(),L=yield nt(_.user,function Du(b,g){return ln(b,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(b,g))}(_.user.auth,{idToken:I,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ne})=>ne!==C),yield _.user._updateTokensIfNecessary(L);try{yield _.user.reload()}catch(ne){if("auth/user-token-expired"!==ne.code)throw ne}})()}}const vs=new WeakMap;function yl(b){const g=(0,H.m9)(b);return vs.has(g)||vs.set(g,xu._fromUser(g)),vs.get(g)}const La="__sak";class hh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(La,"1"),this.storage.removeItem(La),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yn=(()=>{class b extends hh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bi(){const b=(0,H.z$)();return z(b)||xt(b)}()&&function Oi(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const I=this.storage.getItem(C),L=this.localCache[C];I!==L&&_(C,L,I)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Re,it,vt)=>{this.notifyListeners(Re,vt)});const I=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(I);if(_.newValue!==Re)null!==_.newValue?this.storage.setItem(I,_.newValue):this.storage.removeItem(I);else if(this.localCache[I]===_.newValue&&!C)return}const L=()=>{const Re=this.storage.getItem(I);!C&&this.localCache[I]===Re||this.notifyListeners(I,Re)},ne=this.storage.getItem(I);!function Xt(){return(0,H.w1)()&&10===document.documentMode}()||ne===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,C){this.localCache[_]=C;const I=this.listeners[_];if(I)for(const L of Array.from(I))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var I=()=>super._set,L=this;return(0,s.Z)(function*(){yield I().call(L,_,C),L.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,I=this;return(0,s.Z)(function*(){const L=yield C().call(I,_);return I.localCache[_]=JSON.stringify(L),L})()}_remove(_){var C=()=>super._remove,I=this;return(0,s.Z)(function*(){yield C().call(I,_),delete I.localCache[_]})()}}return b.type="LOCAL",b})(),at=(()=>{class b extends hh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Mr=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(L=>L.isListeningto(_));if(C)return C;const I=new b(_);return this.receivers.push(I),I}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,s.Z)(function*(){const I=_,{eventId:L,eventType:ne,data:Re}=I.data,it=C.handlersMap[ne];if(!(null==it?void 0:it.size))return;I.ports[0].postMessage({status:"ack",eventId:L,eventType:ne});const vt=Array.from(it).map(function(){var Kn=(0,s.Z)(function*(Io){return Io(I.origin,Re)});return function(Io){return Kn.apply(this,arguments)}}()),Vt=yield function _c(b){return Promise.all(b.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(vt);I.ports[0].postMessage({status:"done",eventId:L,eventType:ne,response:Vt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function bi(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class aa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var I=this;return(0,s.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ne,Re;return new Promise((it,vt)=>{const Vt=bi("",20);L.port1.start();const Kn=setTimeout(()=>{vt(new Error("unsupported_event"))},C);Re={messageChannel:L,onMessage(Io){const Za=Io;if(Za.data.eventId===Vt)switch(Za.data.status){case"ack":clearTimeout(Kn),ne=setTimeout(()=>{vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),it(Za.data.response);break;default:clearTimeout(Kn),clearTimeout(ne),vt(new Error("invalid_response"))}}},I.handlers.add(Re),L.port1.addEventListener("message",Re.onMessage),I.target.postMessage({eventType:g,eventId:Vt,data:_},[L.port2])}).finally(()=>{Re&&I.removeMessageHandler(Re)})})()}}function cn(){return window}function yc(){return void 0!==cn().WorkerGlobalScope&&"function"==typeof cn().importScripts}function Bn(){return(Bn=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const vl="firebaseLocalStorageDb",bl="firebaseLocalStorage",wl="fbase_key";class ai{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function mo(b,g){return b.transaction([bl],g?"readwrite":"readonly").objectStore(bl)}function yr(){const b=indexedDB.open(vl,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(bl,{keyPath:wl})}catch(I){_(I)}}),b.addEventListener("success",(0,s.Z)(function*(){const C=b.result;C.objectStoreNames.contains(bl)?g(C):(C.close(),yield function la(){const b=indexedDB.deleteDatabase(vl);return new ai(b).toPromise()}(),g(yield yr()))}))})}function ca(b,g,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(b,g,_){const C=mo(b,!0).put({[wl]:g,value:_});return new ai(C).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(b,g){const _=mo(b,!1).get(g),C=yield new ai(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Cl(b,g){const _=mo(b,!0).delete(g);return new ai(_).toPromise()}const Ba=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield yr()),_.db})()}_withRetries(_){var C=this;return(0,s.Z)(function*(){let I=0;for(;;)try{const L=yield C._openDb();return yield _(L)}catch(L){if(I++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return yc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Mr._getInstance(function fh(){return yc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(I,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(I,L){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(I,L){return["keyChanged"]});return function(I,L){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var C,I;if(_.activeServiceWorker=yield function Ys(){return Bn.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new aa(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(I=L[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function go(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield yr();return yield ca(_,La,"1"),yield Cl(_,La),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var I=this;return(0,s.Z)(function*(){return I._withPendingWrite((0,s.Z)(function*(){return yield I._withRetries(L=>ca(L,_,C)),I.localCache[_]=C,I.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,s.Z)(function*(){const I=yield C._withRetries(L=>function li(b,g){return _o.apply(this,arguments)}(L,_));return C.localCache[_]=I,I})()}_remove(_){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(I=>Cl(I,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const C=yield _._withRetries(ne=>{const Re=mo(ne,!1).getAll();return new ai(Re).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const I=[],L=new Set;for(const{fbase_key:ne,value:Re}of C)L.add(ne),JSON.stringify(_.localCache[ne])!==JSON.stringify(Re)&&(_.notifyListeners(ne,Re),I.push(ne));for(const ne of Object.keys(_.localCache))_.localCache[ne]&&!L.has(ne)&&(_.notifyListeners(ne,null),I.push(ne));return I})()}notifyListeners(_,C){this.localCache[_]=C;const I=this.listeners[_];if(I)for(const L of Array.from(I))L(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Va(b,g){return ln(b,"POST","/v2/accounts/mfaSignIn:start",sn(b,g))}function wi(){return(wi=(0,s.Z)(function*(b){return(yield ln(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vc(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=I=>{const L=_t("internal-error");L.customData=I,_(L)},C.type="text/javascript",C.charset="UTF-8",function Zs(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function Zn(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ws=1e12;class vn{constructor(g){this.auth=g,this.counter=ws,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new ph(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||ws;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ws))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var C;return null===(C=_._widgets.get(g||ws))||void 0===C||C.execute(),""})()}}class ph{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof g?document.getElementById(g):g;Ce(I,"argument-error",{appName:_}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bc(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vr=Zn("rcb"),Su=new Ue(3e4,6e4);class en{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!cn().grecaptcha}load(g,_=""){return Ce(function Ga(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(cn().grecaptcha):new Promise((C,I)=>{const L=cn().setTimeout(()=>{I(_t(g,"network-request-failed"))},Su.get());cn()[Vr]=()=>{cn().clearTimeout(L),delete cn()[Vr];const Re=cn().grecaptcha;if(!Re)return void I(_t(g,"internal-error"));const it=Re.render;Re.render=(vt,Vt)=>{const Kn=it(vt,Vt);return this.counter++,Kn},this.hostLanguage=_,C(Re)},vc(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Vr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),I(_t(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!cn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gh{load(g){return(0,s.Z)(function*(){return new vn(g)})()}clearedOneInstance(){}}const mh="recaptcha",_h={theme:"light",type:"image"};class Iu{constructor(g,_=Object.assign({},_h),C){this.parameters=_,this.type=mh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(C),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof g?document.getElementById(g):g;Ce(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gh:new en,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(L=>{const ne=Re=>{!Re||(g.tokenChangeListeners.delete(ne),L(Re))};g.tokenChangeListeners.add(ne),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=cn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){Ce(Ne()&&!yc(),g.auth,"internal-error"),yield function Lp(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ua(b){return wi.apply(this,arguments)}(g.auth);Ce(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mu{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Zo._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Ha(b,g,_){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(b,g,_){const C=xn(b),I=yield Ci(C,g,(0,H.m9)(_));return new Mu(I,L=>Ir(C,L))})).apply(this,arguments)}function nr(b,g,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b);yield lo(!1,C,"phone");const I=yield Ci(C.auth,g,(0,H.m9)(_));return new Mu(I,L=>pl(C,L))})).apply(this,arguments)}function bo(b,g,_){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b),I=yield Ci(C.auth,g,(0,H.m9)(_));return new Mu(I,L=>Wr(C,L))})).apply(this,arguments)}function Ci(b,g,_){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(b,g,_){var C;const I=yield _.verify();try{let L;if(Ce("string"==typeof I,b,"argument-error"),Ce(_.type===mh,b,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const ne=L.session;if("phoneNumber"in L)return Ce("enroll"===ne.type,b,"internal-error"),(yield _l(b,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Ce("signin"===ne.type,b,"internal-error");const Re=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return Ce(Re,b,"missing-multi-factor-info"),(yield Va(b,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Sp(b,{phoneNumber:L.phoneNumber,recaptchaToken:I});return ne}}finally{_._reset()}})).apply(this,arguments)}function Ei(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(b,g){yield sc((0,H.m9)(b),g)})).apply(this,arguments)}let wo=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=xn(_)}verifyPhoneNumber(_,C){return Ci(this.auth,_,(0,H.m9)(C))}static credential(_,C){return Zo._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:I}=_;return C&&I?Zo._fromTokenResponse(C,I):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ci(b,g){return g?ce(g):(Ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class da extends Lr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Us(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Us(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Us(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Qs(b){return Jo(b.auth,new da(b),b.bypassAuthState)}function ku(b){const{auth:g,user:_}=b;return Ce(_,g,"internal-error"),An(_,new da(b),b.bypassAuthState)}function wc(b){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(b){const{auth:g,user:_}=b;return Ce(_,g,"internal-error"),sc(_,new da(b),b.bypassAuthState)})).apply(this,arguments)}class Ec{constructor(g,_,C,I,L=!1){this.auth=g,this.resolver=C,this.user=I,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(C,I){g.pendingPromise={resolve:C,reject:I};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(C,I){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:I,postBody:L,tenantId:ne,error:Re,type:it}=g;if(Re)return void _.reject(Re);const vt={auth:_.auth,requestUri:C,sessionId:I,tenantId:ne||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(it)(vt))}catch(Vt){_.reject(Vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Qs;case"linkViaPopup":case"linkViaRedirect":return wc;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:Ke(this.auth,"internal-error")}}resolve(g){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hr=new Ue(2e3,1e4);function Dl(b,g,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,s.Z)(function*(b,g,_){const C=xn(b);Dt(b,g,gs);const I=ci(C,_);return new Dc(C,"signInViaPopup",g,I).executeNotNull()})).apply(this,arguments)}function Bp(b,g,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b);Dt(C.auth,g,gs);const I=ci(C.auth,_);return new Dc(C.auth,"reauthViaPopup",g,I,C).executeNotNull()})).apply(this,arguments)}function Ou(b,g,_){return es.apply(this,arguments)}function es(){return(es=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b);Dt(C.auth,g,gs);const I=ci(C.auth,_);return new Dc(C.auth,"linkViaPopup",g,I,C).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class b extends Ec{constructor(_,C,I,L,ne){super(_,C,L,ne),this.provider=I,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const C=yield _.execute();return Ce(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,s.Z)(function*(){rt(1===_.filter.length,"Popup operations only handle one event");const C=bi();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(I=>{_.reject(I)}),_.resolver._isIframeWebStorageSupported(_.auth,I=>{I||_.reject(_t(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(_t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,I;this.pollId=(null===(I=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_t(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hr.get())};_()}}return b.currentPopupAction=null,b})();const ja=new Map;class Fu extends Ec{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let C=ja.get(_.auth._key());if(!C){try{const L=(yield function xl(b,g){return Rt.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(L)}catch(I){C=()=>Promise.reject(I)}ja.set(_.auth._key(),C)}return _.bypassAuthState||ja.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const I=yield C.auth._redirectUserForId(g.eventId);if(I)return C.user=I,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Rt(){return(Rt=(0,s.Z)(function*(b,g){const _=ee(g),C=j(b);if(!(yield C._isAvailable()))return!1;const I="true"===(yield C._get(_));return yield C._remove(_),I})).apply(this,arguments)}function D(b,g){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(b,g){return j(b)._set(ee(g),"true")})).apply(this,arguments)}function R(){ja.clear()}function j(b){return ce(b._redirectPersistence)}function ee(b){return K("pendingRedirect",b.config.apiKey,b.name)}function ue(b,g,_){return function Fe(b,g,_){return je.apply(this,arguments)}(b,g,_)}function je(){return(je=(0,s.Z)(function*(b,g,_){const C=xn(b);Dt(b,g,gs);const I=ci(C,_);return yield D(I,C),I._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function St(b,g,_){return function yt(b,g,_){return Kt.apply(this,arguments)}(b,g,_)}function Kt(){return(Kt=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b);Dt(C.auth,g,gs);const I=ci(C.auth,_);yield D(I,C.auth);const L=yield Eo(C);return I._openRedirect(C.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function Bt(b,g,_){return function It(b,g,_){return bn.apply(this,arguments)}(b,g,_)}function bn(){return(bn=(0,s.Z)(function*(b,g,_){const C=(0,H.m9)(b);Dt(C.auth,g,gs);const I=ci(C.auth,_);yield lo(!1,C,g.providerId),yield D(I,C.auth);const L=yield Eo(C);return I._openRedirect(C.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function $a(b,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(b,g){return yield xn(b)._initializationPromise,Di(b,g,!1)})).apply(this,arguments)}function Di(b,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(b,g,_=!1){const C=xn(b),I=ci(C,g),ne=yield new Fu(C,I,_).execute();return ne&&!_&&(delete ne.user._redirectEventId,yield C._persistUserIfCurrent(ne.user),yield C._setRedirectUser(null,g)),ne})).apply(this,arguments)}function Eo(b){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(b){const g=bi(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class qa{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Wa(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Do(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Do(g)){const I=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(_t(this.auth,I))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pu(g))}saveEventToCache(g){this.cachedEventUids.add(Pu(g)),this.lastProcessedEventTime=Date.now()}}function Pu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Do({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Qt(b){return xo.apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(b,g={}){return ln(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function Bu(){return(Bu=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Qt(b);for(const _ of g)try{if(Ya(_))return}catch(C){}Ke(b,"unauthorized-domain")})).apply(this,arguments)}function Ya(b){const g=pe(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const ne=new URL(b);return""===ne.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ne.hostname===C}if(!ha.test(_))return!1;if(Lu.test(b))return C===b;const I=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(C)}const xc=new Ue(3e4,6e4);function Tc(){const b=cn().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Tl=null;function Uu(b){return Tl=Tl||function Vu(b){return new Promise((g,_)=>{var C,I,L;function ne(){Tc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Tc(),_(_t(b,"network-request-failed"))},timeout:xc.get()})}if(null===(I=null===(C=cn().gapi)||void 0===C?void 0:C.iframes)||void 0===I?void 0:I.Iframe)g(gapi.iframes.getContext());else{if(!(null===(L=cn().gapi)||void 0===L?void 0:L.load)){const Re=Zn("iframefcb");return cn()[Re]=()=>{gapi.load?ne():_(_t(b,"network-request-failed"))},vc(`https://apis.google.com/js/api.js?onload=${Re}`).catch(it=>_(it))}ne()}}).catch(g=>{throw Tl=null,g})}(b),Tl}const Nb=new Ue(5e3,15e3),Up={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vh(b){const g=b.config;Ce(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?rn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:k.SDK_VERSION},I=Ac.get(b.config.apiHost);I&&(C.eid=I);const L=b._getFrameworks();return L.length&&(C.fw=L.join(",")),`${_}?${(0,H.xO)(C).slice(1)}`}function bh(){return bh=(0,s.Z)(function*(b){const g=yield Uu(b),_=cn().gapi;return Ce(_,b,"internal-error"),g.open({where:document.body,url:vh(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Up,dontclear:!0},C=>new Promise(function(){var I=(0,s.Z)(function*(L,ne){yield C.restyle({setHideOnLeave:!1});const Re=_t(b,"network-request-failed"),it=cn().setTimeout(()=>{ne(Re)},Nb.get());function vt(){cn().clearTimeout(it),L(C)}C.ping(vt).then(vt,()=>{ne(Re)})});return function(L,ne){return I.apply(this,arguments)}}()))}),bh.apply(this,arguments)}const Hu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ch{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function fa(b,g,_,C,I,L){Ce(b.config.authDomain,b,"auth-domain-config-required"),Ce(b.config.apiKey,b,"invalid-api-key");const ne={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:k.SDK_VERSION,eventId:I};if(g instanceof gs){g.setDefaultLanguage(b.languageCode),ne.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[it,vt]of Object.entries(L||{}))ne[it]=vt}if(g instanceof Sa){const it=g.getScopes().filter(vt=>""!==vt);it.length>0&&(ne.scopes=it.join(","))}b.tenantId&&(ne.tid=b.tenantId);const Re=ne;for(const it of Object.keys(Re))void 0===Re[it]&&delete Re[it];return`${function Hp({config:b}){return b.emulator?rn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(Re).slice(1)}`}const $u="webStorageSupport",ns=class So{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=at,this._completeRedirectFn=Di}_openPopup(g,_,C,I){var L=this;return(0,s.Z)(function*(){var ne;rt(null===(ne=L.eventManagers[g._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Re=fa(g,_,C,pe(),I);return function Eh(b,g,_,C=500,I=600){const L=Math.max((window.screen.availHeight-I)/2,0).toString(),ne=Math.max((window.screen.availWidth-C)/2,0).toString();let Re="";const it=Object.assign(Object.assign({},Hu),{width:C.toString(),height:I.toString(),top:L,left:ne}),vt=(0,H.z$)().toLowerCase();_&&(Re=de(vt)?"_blank":_),V(vt)&&(g=g||"http://localhost",it.scrollbars="yes");const Vt=Object.entries(it).reduce((Io,[Za,Ka])=>`${Io}${Za}=${Ka},`,"");if(function cr(b=(0,H.z$)()){var g;return xt(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(vt)&&"_self"!==Re)return function To(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",Re),new Ch(null);const Kn=window.open(g||"",Re,Vt);Ce(Kn,b,"popup-blocked");try{Kn.focus()}catch(Io){}return new Ch(Kn)}(g,Re,bi())})()}_openRedirect(g,_,C,I){var L=this;return(0,s.Z)(function*(){return yield L._originValidation(g),function bs(b){cn().location.href=b}(fa(g,_,C,pe(),I)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:I,promise:L}=this.eventManagers[_];return I?Promise.resolve(I):(rt(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const C=yield function Al(b){return bh.apply(this,arguments)}(g),I=new qa(g);return C.register("authEvent",L=>(Ce(null==L?void 0:L.authEvent,g,"invalid-auth-event"),{status:I.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:I},_.iframes[g._key()]=C,I})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send($u,{type:$u},I=>{var L;const ne=null===(L=null==I?void 0:I[0])||void 0===L?void 0:L[$u];void 0!==ne&&_(!!ne),Ke(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function $m(b){return Bu.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Nr()||z()||xt()}};class Th extends class xh{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return Zt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Th(g)}_finalizeEnroll(g,_,C){return function tr(b,g){return ln(b,"POST","/v2/accounts/mfaEnrollment:finalize",sn(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Np(b,g){return ln(b,"POST","/v2/accounts/mfaSignIn:finalize",sn(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zu=(()=>{class b{constructor(){}static assertion(_){return Th._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ah="@firebase/auth",qu="0.19.12";class jp{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var I;g((null===(I=C)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zm(b=(0,k.getApp)()){const g=(0,k._getProvider)(b,"auth");return g.isInitialized()?g.getImmediate():function he(b,g){const _=(0,k._getProvider)(b,"auth");if(_.isInitialized()){const I=_.getImmediate(),L=_.getOptions();if((0,H.vZ)(L,null!=g?g:{}))return I;Ke(I,"already-initialized")}return _.initialize({options:g})}(b,{popupRedirectResolver:ns,persistence:[Ba,yn,at]})}!function Sh(b){(0,k._registerComponent)(new Q.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),I=g.getProvider("heartbeat"),{apiKey:L,authDomain:ne}=C.options;return((Re,it)=>{Ce(L&&!L.includes(":"),"invalid-api-key",{appName:Re.name}),Ce(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:Re.name});const vt={apiKey:L,authDomain:ne,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xn(b)},Vt=new al(Re,it,vt);return function Te(b,g){const _=(null==g?void 0:g.persistence)||[],C=(Array.isArray(_)?_:[_]).map(ce);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,null==g?void 0:g.popupRedirectResolver)}(Vt,_),Vt})(C,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Q.wA("auth-internal",g=>{const _=xn(g.getProvider("auth").getImmediate());return new jp(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Ah,qu,function Wu(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(Ah,qu,"esm2017")}("Browser")},2090:(ot,Ae,N)=>{N.d(Ae,{$s:()=>Zi,BH:()=>be,G6:()=>Zt,L:()=>J,LL:()=>Ne,Lj:()=>Pt,Mn:()=>Ln,Sg:()=>Ee,UG:()=>xe,US:()=>ae,X3:()=>dt,ZB:()=>G,ZR:()=>pe,b$:()=>_t,d:()=>un,eu:()=>le,hl:()=>rt,jU:()=>Ve,m9:()=>pt,ne:()=>ct,pd:()=>Sr,r3:()=>ln,ru:()=>Ke,tV:()=>P,uI:()=>we,vZ:()=>Ar,w1:()=>Dt,xO:()=>pi,xb:()=>mr,z$:()=>_e,zI:()=>ce,zd:()=>_r});var s=N(5861);const oe=function(Z){const $=[];let K=0;for(let fe=0;fe<Z.length;fe++){let F=Z.charCodeAt(fe);F<128?$[K++]=F:F<2048?($[K++]=F>>6|192,$[K++]=63&F|128):55296==(64512&F)&&fe+1<Z.length&&56320==(64512&Z.charCodeAt(fe+1))?(F=65536+((1023&F)<<10)+(1023&Z.charCodeAt(++fe)),$[K++]=F>>18|240,$[K++]=F>>12&63|128,$[K++]=F>>6&63|128,$[K++]=63&F|128):($[K++]=F>>12|224,$[K++]=F>>6&63|128,$[K++]=63&F|128)}return $},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,$){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let F=0;F<Z.length;F+=3){const V=Z[F],z=F+1<Z.length,de=z?Z[F+1]:0,Le=F+2<Z.length,$e=Le?Z[F+2]:0;let xt=(15&de)<<2|$e>>6,Fn=63&$e;Le||(Fn=64,z||(xt=64)),fe.push(K[V>>2],K[(3&V)<<4|de>>4],K[xt],K[Fn])}return fe.join("")},encodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(Z):this.encodeByteArray(oe(Z),$)},decodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(Z):function(Z){const $=[];let K=0,fe=0;for(;K<Z.length;){const F=Z[K++];if(F<128)$[fe++]=String.fromCharCode(F);else if(F>191&&F<224){const V=Z[K++];$[fe++]=String.fromCharCode((31&F)<<6|63&V)}else if(F>239&&F<365){const Le=((7&F)<<18|(63&Z[K++])<<12|(63&Z[K++])<<6|63&Z[K++])-65536;$[fe++]=String.fromCharCode(55296+(Le>>10)),$[fe++]=String.fromCharCode(56320+(1023&Le))}else{const V=Z[K++],z=Z[K++];$[fe++]=String.fromCharCode((15&F)<<12|(63&V)<<6|63&z)}}return $.join("")}(this.decodeStringToByteArray(Z,$))},decodeStringToByteArray(Z,$){this.init_();const K=$?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let F=0;F<Z.length;){const V=K[Z.charAt(F++)],de=F<Z.length?K[Z.charAt(F)]:0;++F;const $e=F<Z.length?K[Z.charAt(F)]:64;++F;const tt=F<Z.length?K[Z.charAt(F)]:64;if(++F,null==V||null==de||null==$e||null==tt)throw Error();fe.push(V<<2|de>>4),64!==$e&&(fe.push(de<<4&240|$e>>2),64!==tt&&fe.push($e<<6&192|tt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},J=function(Z){return function(Z){const $=oe(Z);return ae.encodeByteArray($,!0)}(Z).replace(/\./g,"")},P=function(Z){try{return ae.decodeString(Z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(Z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return $}for(const K in $)!$.hasOwnProperty(K)||!ie(K)||(Z[K]=G(Z[K],$[K]));return Z}function ie(Z){return"__proto__"!==Z}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,K)=>{this.resolve=$,this.reject=K})}wrapCallback($){return(K,fe)=>{K?this.reject(K):this.resolve(fe),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(K):$(K,fe))}}}function Ee(Z,$){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=$||"demo-project",F=Z.iat||0,V=Z.sub||Z.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const z=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:F,exp:F+3600,auth_time:F,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(z)),""].join(".")}function _e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Ve(){return"object"==typeof self&&self.self===self}function Ke(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function un(){return _e().indexOf("Electron/")>=0}function Dt(){const Z=_e();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Ln(){return _e().indexOf("MSAppHost/")>=0}function Zt(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rt(){return"object"==typeof indexedDB}function le(){return new Promise((Z,$)=>{try{let K=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(fe);F.onsuccess=()=>{F.result.close(),K||self.indexedDB.deleteDatabase(fe),Z(!0)},F.onupgradeneeded=()=>{K=!1},F.onerror=()=>{var V;$((null===(V=F.error)||void 0===V?void 0:V.message)||"")}}catch(K){$(K)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor($,K,fe){super(K),this.code=$,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor($,K,fe){this.service=$,this.serviceName=K,this.errors=fe}create($,...K){const fe=K[0]||{},F=`${this.service}/${$}`,V=this.errors[$],z=V?function At(Z,$){return Z.replace(nn,(K,fe)=>{const F=$[fe];return null!=F?String(F):`<${fe}?>`})}(V,fe):"Error";return new pe(F,`${this.serviceName}: ${z} (${F}).`,fe)}}const nn=/\{\$([^}]+)}/g;function ln(Z,$){return Object.prototype.hasOwnProperty.call(Z,$)}function mr(Z){for(const $ in Z)if(Object.prototype.hasOwnProperty.call(Z,$))return!1;return!0}function Ar(Z,$){if(Z===$)return!0;const K=Object.keys(Z),fe=Object.keys($);for(const F of K){if(!fe.includes(F))return!1;const V=Z[F],z=$[F];if(Wi(V)&&Wi(z)){if(!Ar(V,z))return!1}else if(V!==z)return!1}for(const F of fe)if(!K.includes(F))return!1;return!0}function Wi(Z){return null!==Z&&"object"==typeof Z}function pi(Z){const $=[];for(const[K,fe]of Object.entries(Z))Array.isArray(fe)?fe.forEach(F=>{$.push(encodeURIComponent(K)+"="+encodeURIComponent(F))}):$.push(encodeURIComponent(K)+"="+encodeURIComponent(fe));return $.length?"&"+$.join("&"):""}function _r(Z){const $={};return Z.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[F,V]=fe.split("=");$[decodeURIComponent(F)]=decodeURIComponent(V)}}),$}function Sr(Z){const $=Z.indexOf("?");if(!$)return"";const K=Z.indexOf("#",$);return Z.substring($,K>0?K:void 0)}function ct(Z,$){const K=new Fr(Z,$);return K.subscribe.bind(K)}class Fr{constructor($,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{$(this)}).catch(fe=>{this.error(fe)})}next($){this.forEachObserver(K=>{K.next($)})}error($){this.forEachObserver(K=>{K.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,K,fe){let F;if(void 0===$&&void 0===K&&void 0===fe)throw new Error("Missing Observer.");F=function pn(Z,$){if("object"!=typeof Z||null===Z)return!1;for(const K of $)if(K in Z&&"function"==typeof Z[K])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:K,complete:fe},void 0===F.next&&(F.next=Qn),void 0===F.error&&(F.error=Qn),void 0===F.complete&&(F.complete=Qn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch(z){}}),this.observers.push(F),V}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,$)}sendOne($,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{K(this.observers[$])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qn(){}function Zi(Z,$=1e3,K=2){const fe=$*Math.pow(K,Z),F=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+F)}function pt(Z){return Z&&Z._delegate?Z._delegate:Z}function Wn(Z,$){return new Promise((K,fe)=>{Z.onsuccess=F=>{K(F.target.result)},Z.onerror=F=>{var V;fe(`${$}: ${null===(V=F.target.error)||void 0===V?void 0:V.message}`)}})}class Wt{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,K="readonly"){return new Ge(this._db.transaction.call(this._db,$,K))}createObjectStore($,K){return new Se(this._db.createObjectStore($,K))}close(){this._db.close()}}class Ge{constructor($){this._transaction=$,this.complete=new Promise((K,fe)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore($){return new Se(this._transaction.objectStore($))}}class Se{constructor($){this._store=$}index($){return new Qe(this._store.index($))}createIndex($,K,fe){return new Qe(this._store.createIndex($,K,fe))}get($){return Wn(this._store.get($),"Error reading from IndexedDB")}put($,K){return Wn(this._store.put($,K),"Error writing to IndexedDB")}delete($){return Wn(this._store.delete($),"Error deleting from IndexedDB")}clear(){return Wn(this._store.clear(),"Error clearing IndexedDB object store")}}class Qe{constructor($){this._index=$}get($){return Wn(this._index.get($),"Error reading from IndexedDB")}}function dt(Z,$,K){return new Promise((fe,F)=>{try{const V=indexedDB.open(Z,$);V.onsuccess=z=>{fe(new Wt(z.target.result))},V.onerror=z=>{var de;F(`Error opening indexedDB: ${null===(de=z.target.error)||void 0===de?void 0:de.message}`)},V.onupgradeneeded=z=>{K(new Wt(V.result),z.oldVersion,z.newVersion,new Ge(V.transaction))}}catch(V){F(`Error opening indexedDB: ${V.message}`)}})}function Pt(Z){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(Z){return new Promise(($,K)=>{try{const fe=indexedDB.deleteDatabase(Z);fe.onsuccess=()=>{$()},fe.onerror=F=>{var V;K(`Error deleting indexedDB database "${Z}": ${null===(V=F.target.error)||void 0===V?void 0:V.message}`)}}catch(fe){K(`Error deleting indexedDB database "${Z}": ${fe.message}`)}})})).apply(this,arguments)}},3051:(ot,Ae,N)=>{var s=N(5e3);let H=null;function k(){return H}const ae=new s.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function J(){return(0,s.LFG)(q)}()},providedIn:"platform"}),n})();const P=new s.OlP("Location Initialized");let q=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){G()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){G()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ie(){return new q((0,s.LFG)(ae))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function be(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function _e(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function xe(n){const t=(0,s.LFG)(ae).location;return new Ke((0,s.LFG)(X),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ve=new s.OlP("appBaseHref");let Ke=(()=>{class n extends we{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return be(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+_e(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const u=this.prepareExternalUrl(i+_e(a));this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,a){const u=this.prepareExternalUrl(i+_e(a));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(Ve,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n extends we{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=be(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let u=this.prepareExternalUrl(i+_e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,a){let u=this.prepareExternalUrl(i+_e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(Ve,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),un=(()=>{class n{constructor(e,r){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ee(Ce(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+_e(r))}normalize(e){return n.stripTrailingSlash(function Ln(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ce(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_e(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=_e,n.joinWithSlash=be,n.stripTrailingSlash=Ee,n.\u0275fac=function(e){return new(e||n)(s.LFG(we),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Dt(){return new un((0,s.LFG)(we),(0,s.LFG)(X))}()},providedIn:"root"}),n})();function Ce(n){return n.replace(/\/index.html$/,"")}function Ta(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}let mi=(()=>{class n{constructor(e,r,i,a){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ki{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jn=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ki(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,u),Vs(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Vs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Vs(n,t){n.context.$implicit=t.item}let kn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function zo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class fu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Br=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),_i=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new fu(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Br,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),so=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,a]=e.split(".");null!=(r=null!=r&&a?`${r}${a}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),oo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ni="browser";function _n(n){return n===Ni}function si(n){return"server"===n}let yu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new fl((0,s.LFG)(ae),window)}),n})();class fl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ao(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Hs(this.window.history)||Hs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Hs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mn{}class co extends class lo extends class Q{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){H||(H=n)}(new co)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function oc(){return An=An||document.querySelector("base"),An?An.getAttribute("href"):null}();return null==e?null:function js(n){Jo=Jo||document.createElement("a"),Jo.setAttribute("href",n);const t=Jo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){An=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ta(document.cookie,t)}}let Jo,An=null;const Ir=new s.OlP("TRANSITION_ID"),pl=[{provide:s.ip1,useFactory:function er(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const r=k(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ir,ae,s.zs3],multi:!0}];class vi{static init(){(0,s.VLi)(new vi)}addToWindow(t){s.dqk.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const h=function(m){u=u||m,a--,0==a&&r(u)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Wr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _s=new s.OlP("EventManagerPlugins");let uo=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_s),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=k().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Pi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qi=(()=>{class n extends Pi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ys),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ys))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ys(n){k().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ra=/%COMP%/g;function Me(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Me(n,i,e):(i=i.replace(Ra,n),e.push(i))}return e}function Ht(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Rn=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new gl(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ac(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case s.ifc.ShadowDom:return new Oa(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Me(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uo),s.LFG(Qi),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class gl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const a=gt[i];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=gt[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,r,i&s.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ht(r)):this.eventManager.addEventListener(t,e,Ht(r))}}class ac extends gl{constructor(t,e,r,i){super(t),this.component=r;const a=Me(i+"-"+r.id,r.styles,[]);e.addStyles(a),this.contentAttr=function oh(n){return"_ngcontent-%COMP%".replace(Ra,n)}(i+"-"+r.id),this.hostAttr=function ka(n){return"_nghost-%COMP%".replace(Ra,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Oa extends gl{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Me(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fp=(()=>{class n extends Xo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=["alt","control","meta","shift"],ra={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ji={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ia=(()=>{class n extends Xo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(lc.forEach(m=>{const v=r.indexOf(m);v>-1&&(r.splice(v,1),u+=m+".")}),u+=a,0!=r.length||0===a.length)return null;const h={};return h.domEventName=i,h.fullKey=u,h}static getEventFullKey(e){let r="",i=function sa(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&dr.hasOwnProperty(t)&&(t=dr[t]))}return ra[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lc.forEach(a=>{a!=i&&Ji[a](e)&&(r+=a+".")}),r+=i,r}static eventCallback(e,r,i){return a=>{n.getEventFullKey(a)===e&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Fa=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ni},{provide:s.g9A,useValue:function oi(){co.makeCurrent(),vi.init()},multi:!0},{provide:ae,useFactory:function oa(){return(0,s.RDi)(document),document},deps:[]}]),cc=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function lh(){return new s.qLn},deps:[]},{provide:_s,useClass:Fp,multi:!0,deps:[ae,s.R0b,s.Lbi]},{provide:_s,useClass:ia,multi:!0,deps:[ae]},{provide:Rn,useClass:Rn,deps:[uo,Qi,s.AFp]},{provide:s.FYo,useExisting:Rn},{provide:Pi,useExisting:Qi},{provide:Qi,useClass:Qi,deps:[ae]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:uo,useClass:uo,deps:[_s,s.R0b]},{provide:Mn,useClass:Wr,deps:[]}];let zs=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ir,useExisting:s.AFp},pl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:cc,imports:[oo,s.hGG]}),n})();"undefined"!=typeof window&&window;let Bi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):s.LFG(Tu),r},providedIn:"root"}),n})(),Tu=(()=>{class n extends Bi{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(r),(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function mc(n){return new Tu(n.get(ae))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var yn=N(5254),Ye=N(1086),at=N(8929),_c=N(5279);class Mr extends at.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _c.N;return this._value}next(t){super.next(this._value=t)}}var bi=N(2866),aa=N(6688),cn=N(3489);class bs extends cn.L{notifyNext(t,e,r,i,a){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class yc extends cn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ys=N(9249),Bn=N(2916);function go(n,t,e,r,i=new yc(n,e,r)){if(!i.closed)return t instanceof Bn.y?t.subscribe(i):(0,Ys.s)(t)(i)}var fh=N(3009);const vl={};class bl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new wl(t,this.resultSelector))}}class wl extends bs{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(vl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(go(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,u=this.toRespond?i[r]===vl?--this.toRespond:this.toRespond:0;i[r]=e,0===u&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}var ai=N(1737);const la=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var yr=N(9146);function ua(...n){return function ca(){return(0,yr.J)(1)}()((0,Ye.of)(...n))}var li=N(8896);function _o(n){return new Bn.y(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?(0,yn.D)(e):(0,li.c)()).subscribe(t)})}var Cl=N(1762),ht=N(4850),Zr=N(1177);function vr(n,t){return"function"==typeof t?e=>e.pipe(vr((r,i)=>(0,yn.D)(n(r,i)).pipe((0,ht.U)((a,u)=>t(r,a,i,u))))):e=>e.lift(new Ba(n))}class Ba{constructor(t){this.project=t}call(t,e){return e.subscribe(new Va(t,this.project))}}class Va extends Zr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Zr.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,Zr.ft)(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ua=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function wi(n){return t=>0===n?(0,li.c)():t.lift(new Zs(n))}class Zs{constructor(t){if(this.total=t,this.total<0)throw new Ua}call(t,e){return e.subscribe(new vc(t,this.total))}}class vc extends cn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Zn(...n){const t=n[n.length-1];return(0,bi.K)(t)?(n.pop(),e=>ua(n,e,t)):e=>ua(n,e)}function yo(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new Ks(n,t,e))}}class Ks{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new ws(t,this.accumulator,this.seed,this.hasSeed))}}class ws extends cn.L{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function vn(n,t){return function(r){return r.lift(new ph(n,t))}}class ph{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bc(t,this.predicate,this.thisArg))}}class bc extends cn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function Vr(n){return function(e){const r=new Su(n),i=e.lift(r);return r.caught=i}}class Su{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Pp(t,this.selector,this.caught))}}class Pp extends Zr.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const r=new Zr.IY(this);this.add(r);const i=(0,Zr.ft)(e,r);i!==r&&this.add(i)}}}var en=N(1709);function Ga(n,t){return(0,en.zg)(n,t,1)}function gh(n){return function(e){return 0===n?(0,li.c)():e.lift(new mh(n))}}class mh{constructor(t){if(this.total=t,this.total<0)throw new Ua}call(t,e){return e.subscribe(new _h(t,this.total))}}class _h extends cn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let a=0;a<r;a++){const u=e++%r;t.next(i[u])}}t.complete()}}function Iu(n=Ha){return t=>t.lift(new Lp(n))}class Lp{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mu(t,this.errorFactory))}}class Mu extends cn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ha(){return new la}function El(n=null){return t=>t.lift(new nr(n))}class nr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new vo(t,this.defaultValue))}}class vo extends cn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var bo=N(5379);function Ci(n,t){const e=arguments.length>=2;return r=>r.pipe(n?vn((i,a)=>n(i,a,r)):bo.y,wi(1),e?El(t):Iu(()=>new la))}var on=N(2868),Ei=N(4327),Ur=N(2654);function wo(n){return t=>t.lift(new ci(n))}class ci{constructor(t){this.callback=t}call(t,e){return e.subscribe(new da(t,this.callback))}}class da extends cn.L{constructor(t,e){super(t),this.add(new Ur.w(e))}}class Qs{constructor(t,e){this.id=t,this.url=e}}class ku extends Qs{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends Qs{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cc extends Qs{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ec extends Qs{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends Qs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dl extends Qs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js extends Qs{constructor(t,e,r,i,a){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bp extends Qs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends Qs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ou{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class es{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vp{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xl{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class D{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function T(n){return new D(n)}const R="ngNavigationCancelingError";function j(n){const t=Error("NavigationCancelingError: "+n);return t[R]=!0,t}function ue(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],h=n[a];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function je(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!St(n[i],t[i]))return!1;return!0}function St(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,a)=>r[a]===i)}return n===t}function yt(n){return Array.prototype.concat.apply([],n)}function Kt(n){return n.length>0?n[n.length-1]:null}function It(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function bn(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,yn.D)(Promise.resolve(n)):(0,Ye.of)(n)}const Co={exact:function za(n,t,e){if(!ha(n.segments,t.segments)||!Do(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!za(n.children[r],t.children[r],e))return!1;return!0},subset:qa},Di={exact:function Eo(n,t){return je(n,t)},subset:function Nu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>St(n[e],t[e]))},ignored:()=>!0};function ts(n,t,e){return Co[e.paths](n.root,t.root,e.matrixParams)&&Di[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function qa(n,t,e){return Pu(n,t,t.segments,e)}function Pu(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!ha(i,e)||t.hasChildren()||!Do(i,e,r))}if(n.segments.length===e.length){if(!ha(n.segments,e)||!Do(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!qa(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(ha(n.segments,i)&&Do(n.segments,i,r)&&n.children[Rt])&&Pu(n.children[Rt],t,a,r)}}function Do(n,t,e){return t.every((r,i)=>Di[e](n[i].parameters,r.parameters))}class Wa{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=T(this.queryParams)),this._queryParamMap}toString(){return xc.serialize(this)}}class Qt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,It(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tc(this)}}class xo{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=T(this.parameters)),this._parameterMap}toString(){return Ac(this)}}function ha(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class Bu{}class Ya{parse(t){const e=new Ch(t);return new Wa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vu(t.root,!0)}`,r=function Al(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Uu(e)}=${Uu(i)}`).join("&"):`${Uu(e)}=${Uu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Nb(n){return encodeURI(n)}(t.fragment)}`:""}`}}const xc=new Ya;function Tc(n){return n.segments.map(t=>Ac(t)).join("/")}function Vu(n,t){if(!n.hasChildren())return Tc(n);if(t){const e=n.children[Rt]?Vu(n.children[Rt],!1):"",r=[];return It(n.children,(i,a)=>{a!==Rt&&r.push(`${a}:${Vu(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function $m(n,t){let e=[];return It(n.children,(r,i)=>{i===Rt&&(e=e.concat(t(r,i)))}),It(n.children,(r,i)=>{i!==Rt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Rt?[Vu(n.children[Rt],!1)]:[`${i}:${Vu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Tc(n)}/${e[0]}`:`${Tc(n)}/(${e.join("//")})`}}function Tl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uu(n){return Tl(n).replace(/%3B/gi,";")}function yh(n){return Tl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(n){return decodeURIComponent(n)}function Up(n){return Gu(n.replace(/\+/g,"%20"))}function Ac(n){return`${yh(n.path)}${function vh(n){return Object.keys(n).map(t=>`;${yh(t)}=${yh(n[t])}`).join("")}(n.parameters)}`}const bh=/^[^\/()?;=#]+/;function Hu(n){const t=n.match(bh);return t?t[0]:""}const Pb=/^[^=?&#]+/,wh=/^[^&#]+/;class Ch{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Rt]=new Qt(t,e)),r}parseSegment(){const t=Hu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xo(Gu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Hu(this.remaining);i&&(r=i,this.capture(r))}t[Gu(e)]=Gu(r)}parseQueryParam(t){const e=function ju(n){const t=n.match(Pb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function Gp(n){const t=n.match(wh);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Up(e),a=Up(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(a)}else t[i]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Rt);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[Rt]:new Qt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Eh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=To(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=To(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Dh(t,this._root).map(e=>e.value)}}function To(n,t){if(n===t.value)return t;for(const e of t.children){const r=To(n,e);if(r)return r}return null}function Dh(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Dh(n,e);if(r.length)return r.unshift(t),r}return[]}class Ao{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Hp extends Eh{constructor(t,e){super(t),this.snapshot=e,qu(this,t)}toString(){return this.snapshot.toString()}}function $u(n,t){const e=function So(n,t){const u=new zu([],{},{},"",{},Rt,t,null,n.root,-1,{});return new Ah("",new Ao(u,[]))}(n,t),r=new Mr([new xo("",{})]),i=new Mr({}),a=new Mr({}),u=new Mr({}),h=new Mr(""),m=new ns(r,i,u,h,a,Rt,t,e.root);return m.snapshot=e.root,new Hp(new Ao(m,[]),e)}class ns{constructor(t,e,r,i,a,u,h,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>T(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>T(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xh(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],a=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Th(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class zu{constructor(t,e,r,i,a,u,h,m,v,x,A){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=T(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=T(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ah extends Eh{constructor(t,e){super(e),this.url=t,qu(this,e)}toString(){return jp(this._root)}}function qu(n,t){t.value._routerState=n,t.children.forEach(e=>qu(n,e))}function jp(n){const t=n.children.length>0?` { ${n.children.map(jp).join(", ")} } `:"";return`${n.value}${t}`}function Wu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,je(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),je(t.params,e.params)||n.params.next(e.params),function Fe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!je(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),je(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sh(n,t){const e=je(n.params,t.params)&&function Lu(n,t){return ha(n,t)&&n.every((e,r)=>je(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Sh(n.parent,t.parent))}function b(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function g(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return b(n,r,i);return b(n,r)})}(n,t,e);return new Ao(r,i)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>b(n,h)),u}}const r=function _(n){return new ns(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(a=>b(n,a));return new Ao(r,i)}}function I(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function L(n){return"object"==typeof n&&null!=n&&n.outlets}function ne(n,t,e,r,i){let a={};if(r&&It(r,(h,m)=>{a[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===t)return new Wa(e,a,i);const u=Re(n,t,e);return new Wa(u,a,i)}function Re(n,t,e){const r={};return It(n.children,(i,a)=>{r[a]=i===t?e:Re(i,t,e)}),new Qt(n.segments,r)}class it{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&I(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(L);if(i&&i!==Kt(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vt{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Ka(n,t,e){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return Qa(n,t,e);const r=function Sc(n,t,e){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return a;const u=n.segments[i],h=e[r];if(L(h))break;const m=`${h}`,v=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Mh(m,v,u))return a;r+=2}else{if(!Mh(m,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Qt(n.segments.slice(0,r.pathIndex),{});return a.children[Rt]=new Qt(n.segments.slice(r.pathIndex),n.children),Qa(a,0,i)}return r.match&&0===i.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?Ih(n,t,e):r.match?Qa(n,0,i):Ih(n,t,e)}function Qa(n,t,e){if(0===e.length)return new Qt(n.segments,{});{const r=function Za(n){return L(n[0])?n[0].outlets:{[Rt]:n}}(e),i={};return It(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Ka(n.children[u],t,a))}),It(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Qt(n.segments,i)}}function Ih(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const a=e[i];if(L(a)){const m=qm(a.outlets);return new Qt(r,m)}if(0===i&&I(e[0])){r.push(new xo(n.segments[t].path,Ic(e[0]))),i++;continue}const u=L(a)?a.outlets[Rt]:`${a}`,h=i<e.length-1?e[i+1]:null;u&&h&&I(h)?(r.push(new xo(u,Ic(h))),i+=2):(r.push(new xo(u,{})),i++)}return new Qt(r,{})}function qm(n){const t={};return It(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Ih(new Qt([],{}),0,e))}),t}function Ic(n){const t={};return It(n,(e,r)=>t[r]=`${e}`),t}function Mh(n,t,e){return n==e.path&&je(t,e.parameters)}class Rh{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Wu(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=fa(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),It(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=fa(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=fa(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=fa(e);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Fu(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Vp(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(Wu(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Wu(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function zp(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),m=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=m,u.outlet&&u.outlet.activateWith(i,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class Yu{constructor(t,e){this.routes=t,this.module=e}}function Vi(n){return"function"==typeof n}function Ja(n){return n instanceof Wa}const Mc=Symbol("INITIAL_VALUE");function Zu(){return vr(n=>function Au(...n){let t,e;return(0,bi.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,aa.k)(n[0])&&(n=n[0]),(0,fh.n)(n,e).lift(new bl(t))}(n.map(t=>t.pipe(wi(1),Zn(Mc)))).pipe(yo((t,e)=>{let r=!1;return e.reduce((i,a,u)=>i!==Mc?i:(a===Mc&&(r=!0),r||!1!==a&&u!==e.length-1&&!Ja(a)?i:a),t)},Mc),vn(t=>t!==Mc),(0,ht.U)(t=>Ja(t)?t:!0===t),wi(1)))}class MD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kh,this.attachRef=null}}class kh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new MD,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Wm=(()=>{class n{constructor(e,r,i,a,u){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=a||Rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new RD(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kh),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class RD{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ns?this.route:t===kh?this.childContexts:this.parent.get(t,e)}}let Bb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&s._UZ(0,"router-outlet")},directives:[Wm],encapsulation:2}),n})();function kD(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];wO(r,Oh(t,r))}}function wO(n,t){n.children&&kD(n.children,t)}function Oh(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function ui(n){const t=n.children&&n.children.map(ui),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=Bb),e}function rs(n){return n.outlet||Rt}function Ym(n,t){const e=n.filter(r=>rs(r)===t);return e.push(...n.filter(r=>rs(r)!==t)),e}const Zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gr(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Zm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||ue)(e,n,t);if(!a)return Object.assign({},Zm);const u={};It(a.posParams,(m,v)=>{u[v]=m.path});const h=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:h,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Sl(n,t,e,r,i="corrected"){if(e.length>0&&function FD(n,t,e){return e.some(r=>Wp(n,t,r)&&rs(r)!==Rt)}(n,e,r)){const u=new Qt(t,function OD(n,t,e,r){const i={};i[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&rs(a)!==Rt){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,i[rs(a)]=u}return i}(n,t,r,new Qt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Vb(n,t,e){return e.some(r=>Wp(n,t,r))}(n,e,r)){const u=new Qt(n.segments,function Km(n,t,e,r,i,a){const u={};for(const h of r)if(Wp(n,e,h)&&!i[rs(h)]){const m=new Qt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[rs(h)]=m}return Object.assign(Object.assign({},i),u)}(n,t,e,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Qt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Wp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Qm(n,t,e,r){return!!(rs(n)===r||r!==Rt&&Wp(t,e,n))&&("**"===n.path||Gr(t,n,e).matched)}function Ub(n,t,e){return 0===t.length&&!n.children[e]}class Fh{constructor(t){this.segmentGroup=t||null}}class Gb{constructor(t){this.urlTree=t}}function Nh(n){return(0,ai._)(new Fh(n))}function Yp(n){return(0,ai._)(new Gb(n))}class LD{constructor(t,e,r,i,a){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=Sl(this.urlTree.root,[],[],this.config).segmentGroup,e=new Qt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rt).pipe((0,ht.U)(a=>this.createUrlTree(Ku(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vr(a=>{if(a instanceof Gb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Fh?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rt).pipe((0,ht.U)(i=>this.createUrlTree(Ku(i),t.queryParams,t.fragment))).pipe(Vr(i=>{throw i instanceof Fh?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new Qt([],{[Rt]:t}):t;return new Wa(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ht.U)(a=>new Qt([],a))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,yn.D)(i).pipe(Ga(a=>{const u=r.children[a],h=Ym(e,a);return this.expandSegmentGroup(t,h,u,a).pipe((0,ht.U)(m=>({segment:m,outlet:a})))}),yo((a,u)=>(a[u.outlet]=u.segment,a),{}),function Ru(n,t){const e=arguments.length>=2;return r=>r.pipe(n?vn((i,a)=>n(i,a,r)):bo.y,gh(1),e?El(t):Iu(()=>new la))}())}expandSegment(t,e,r,i,a,u){return(0,yn.D)(r).pipe(Ga(h=>this.expandSegmentAgainstRoute(t,e,r,h,i,a,u).pipe(Vr(v=>{if(v instanceof Fh)return(0,Ye.of)(null);throw v}))),Ci(h=>!!h),Vr((h,m)=>{if(h instanceof la||"EmptyError"===h.name)return Ub(e,i,a)?(0,Ye.of)(new Qt([],{})):Nh(e);throw h}))}expandSegmentAgainstRoute(t,e,r,i,a,u,h){return Qm(i,e,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u):Nh(e):Nh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Yp(a):this.lineralizeSegments(r,a).pipe((0,en.zg)(u=>{const h=new Qt(u,{});return this.expandSegment(t,h,e,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=Gr(e,i,a);if(!h)return Nh(e);const A=this.applyRedirectCommands(m,i.redirectTo,x);return i.redirectTo.startsWith("/")?Yp(A):this.lineralizeSegments(i,A).pipe((0,en.zg)(O=>this.expandSegment(t,e,r,O.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ye.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ht.U)(A=>(r._loadedConfig=A,new Qt(i,{})))):(0,Ye.of)(new Qt(i,{}));const{matched:u,consumedSegments:h,remainingSegments:m}=Gr(e,r,i);return u?this.getChildConfig(t,r,i).pipe((0,en.zg)(x=>{const A=x.module,O=x.routes,{segmentGroup:U,slicedSegments:W}=Sl(e,h,m,O),re=new Qt(U.segments,U.children);if(0===W.length&&re.hasChildren())return this.expandChildren(A,O,re).pipe((0,ht.U)(et=>new Qt(h,et)));if(0===O.length&&0===W.length)return(0,Ye.of)(new Qt(h,{}));const ve=rs(r)===a;return this.expandSegment(A,re,O,W,ve?Rt:a,!0).pipe((0,ht.U)(Ze=>new Qt(h.concat(Ze.segments),Ze.children)))})):Nh(e)}getChildConfig(t,e,r){return e.children?(0,Ye.of)(new Yu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ye.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,en.zg)(i=>i?this.configLoader.load(t.injector,e).pipe((0,ht.U)(a=>(e._loadedConfig=a,a))):function PD(n){return(0,ai._)(j(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,Ye.of)(new Yu([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;if(!i||0===i.length)return(0,Ye.of)(!0);const a=i.map(u=>{const h=t.get(u);let m;if(function SD(n){return n&&Vi(n.canLoad)}(h))m=h.canLoad(e,r);else{if(!Vi(h))throw new Error("Invalid CanLoad guard");m=h(e,r)}return bn(m)});return(0,Ye.of)(a).pipe(Zu(),(0,on.b)(u=>{if(!Ja(u))return;const h=j(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,ht.U)(u=>!0===u))}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Ye.of)(r);if(i.numberOfChildren>1||!i.children[Rt])return(0,ai._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[Rt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const a=this.createSegmentGroup(t,e.root,r,i);return new Wa(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return It(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=e[h]}else r[a]=i}),r}createSegmentGroup(t,e,r,i){const a=this.createSegments(t,e.segments,r,i);let u={};return It(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,r,i)}),new Qt(a,u)}createSegments(t,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function Ku(n){const t={};for(const r of Object.keys(n.children)){const a=Ku(n.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function BD(n){if(1===n.numberOfChildren&&n.children[Rt]){const t=n.children[Rt];return new Qt(n.segments.concat(t.segments),t.children)}return n}(new Qt(n.segments,t))}class Hb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zp{constructor(t,e){this.component=t,this.route=e}}function UD(n,t,e){const r=n._root;return Lh(r,t?t._root:null,e,[r.value])}function Ph(n,t,e){const r=function HD(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Lh(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=fa(t);return n.children.forEach(u=>{(function jD(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const m=function $D(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ha(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ha(n.url,t.url)||!je(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sh(n,t)||!je(n.queryParams,t.queryParams);default:return!Sh(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Hb(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Lh(n,t,a.component?h?h.children:null:e,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Zp(h.outlet.component,u))}else u&&Bh(t,h,i),i.canActivateChecks.push(new Hb(r)),Lh(n,null,a.component?h?h.children:null:e,r,i)})(u,a[u.value.outlet],e,r.concat([u.value]),i),delete a[u.value.outlet]}),It(a,(u,h)=>Bh(u,e.getContext(h),i)),i}function Bh(n,t,e){const r=fa(n),i=n.value;It(r,(a,u)=>{Bh(a,i.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Zp(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class DO{}function Mo(n){return new Bn.y(t=>t.error(n))}class e_{constructor(t,e,r,i,a,u){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const t=Sl(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rt);if(null===e)return null;const r=new zu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ao(r,e),a=new Ah(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,r=xh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const a of Object.keys(e.children)){const u=e.children[a],h=Ym(t,a),m=this.processSegmentGroup(h,u,a);if(null===m)return null;r.push(...m)}const i=t_(r);return function YD(n){n.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const a of t){const u=this.processSegmentAgainstRoute(a,e,r,i);if(null!==u)return u}return Ub(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!Qm(t,e,r,i))return null;let a,u=[],h=[];if("**"===t.path){const U=r.length>0?Kt(r).parameters:{};a=new zu(r,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,n_(t),rs(t),t.component,t,Kp(e),Qp(e)+r.length,KD(t))}else{const U=Gr(e,t,r);if(!U.matched)return null;u=U.consumedSegments,h=U.remainingSegments,a=new zu(u,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,n_(t),rs(t),t.component,t,Kp(e),Qp(e)+u.length,KD(t))}const m=function $b(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:x}=Sl(e,u,h,m.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);if(0===x.length&&v.hasChildren()){const U=this.processChildren(m,v);return null===U?null:[new Ao(a,U)]}if(0===m.length&&0===x.length)return[new Ao(a,[])];const A=rs(t)===i,O=this.processSegment(m,v,x,A?Rt:i);return null===O?null:[new Ao(a,O)]}}function Vh(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function t_(n){const t=[],e=new Set;for(const r of n){if(!Vh(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=t_(r.children);t.push(new Ao(r.value,i))}return t.filter(r=>!e.has(r))}function Kp(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Qp(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function n_(n){return n.data||{}}function KD(n){return n.resolve||{}}function Jp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function i_(n){return vr(t=>{const e=n(t);return e?(0,yn.D)(e).pipe((0,ht.U)(()=>t)):(0,Ye.of)(t)})}class tx extends class ex{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const s_=new s.OlP("ROUTES");class o_{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe((0,ht.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=a.create(t);return new Yu(yt(u.injector.get(s_,void 0,s.XFs.Self|s.XFs.Optional)).map(ui),u)}),Vr(a=>{throw e._loader$=void 0,a}));return e._loader$=new Cl.c(i,()=>new at.xQ).pipe((0,Ei.x)()),e._loader$}loadModuleFactory(t){return bn(t()).pipe((0,en.zg)(e=>e instanceof s.YKP?(0,Ye.of)(e):(0,yn.D)(this.compiler.compileModuleAsync(e))))}}class qb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function l_(n){throw n}function nx(n,t,e){return t.parse("/")}function Wb(n,t){return(0,Ye.of)(null)}const Yb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class n{constructor(e,r,i,a,u,h,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new at.xQ,this.errorHandler=l_,this.malformedUriErrorHandler=nx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wb,afterPreactivation:Wb},this.urlHandlingStrategy=new qb,this.routeReuseStrategy=new tx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const A=u.get(s.R0b);this.isNgZoneEnabled=A instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function $a(){return new Wa(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new o_(u,h,O=>this.triggerEvent(new Ou(O)),O=>this.triggerEvent(new es(O))),this.routerState=$u(this.currentUrlTree,this.rootComponentType),this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(vn(i=>0!==i.id),(0,ht.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),vr(i=>{let a=!1,u=!1;return(0,Ye.of)(i).pipe((0,on.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return c_(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,Ye.of)(h).pipe(vr(A=>{const O=this.transitions.getValue();return r.next(new ku(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?li.E:Promise.resolve(A)}),function VD(n,t,e,r){return vr(i=>function Jm(n,t,e,r,i){return new LD(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,ht.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,on.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function Ju(n,t,e,r,i){return(0,en.zg)(a=>function Xm(n,t,e,r,i="emptyOnly",a="legacy"){try{const u=new e_(n,t,e,r,i,a).recognize();return null===u?Mo(new DO):(0,Ye.of)(u)}catch(u){return Mo(u)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),r,i).pipe((0,ht.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,on.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(U,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new hr(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(O)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:U,source:W,restoredState:re,extras:ve}=h,ke=new ku(O,this.serializeUrl(U),W,re);r.next(ke);const Ze=$u(U,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},h),{targetSnapshot:Ze,urlAfterRedirects:U,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),li.E}),i_(h=>{const{targetSnapshot:m,id:v,extractedUrl:x,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:U}}=h;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:x,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!U})}),(0,on.b)(h=>{const m=new Dl(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,ht.U)(h=>Object.assign(Object.assign({},h),{guards:UD(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function zD(n,t){return(0,en.zg)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?(0,Ye.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function qD(n,t,e,r){return(0,yn.D)(n).pipe((0,en.zg)(i=>function jb(n,t,e,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Ye.of)(!0);const u=a.map(h=>{const m=Ph(h,t,i);let v;if(function ID(n){return n&&Vi(n.canDeactivate)}(m))v=bn(m.canDeactivate(n,t,e,r));else{if(!Vi(m))throw new Error("Invalid CanDeactivate guard");v=bn(m(n,t,e,r))}return v.pipe(Ci())});return(0,Ye.of)(u).pipe(Zu())}(i.component,i.route,e,t,r)),Ci(i=>!0!==i,!0))}(u,r,i,n).pipe((0,en.zg)(h=>h&&function qp(n){return"boolean"==typeof n}(h)?function WD(n,t,e,r){return(0,yn.D)(t).pipe(Ga(i=>ua(function pa(n,t){return null!==n&&t&&t(new Dc(n)),(0,Ye.of)(!0)}(i.route.parent,r),function Qu(n,t){return null!==n&&t&&t(new ja(n)),(0,Ye.of)(!0)}(i.route,r),function EO(n,t,e){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function GD(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>_o(()=>{const h=u.guards.map(m=>{const v=Ph(m,u.node,e);let x;if(function Lb(n){return n&&Vi(n.canActivateChild)}(v))x=bn(v.canActivateChild(r,n));else{if(!Vi(v))throw new Error("Invalid CanActivateChild guard");x=bn(v(r,n))}return x.pipe(Ci())});return(0,Ye.of)(h).pipe(Zu())}));return(0,Ye.of)(a).pipe(Zu())}(n,i.path,e),function CO(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ye.of)(!0);const i=r.map(a=>_o(()=>{const u=Ph(a,t,e);let h;if(function br(n){return n&&Vi(n.canActivate)}(u))h=bn(u.canActivate(t,n));else{if(!Vi(u))throw new Error("Invalid CanActivate guard");h=bn(u(t,n))}return h.pipe(Ci())}));return(0,Ye.of)(i).pipe(Zu())}(n,i.route,e))),Ci(i=>!0!==i,!0))}(r,a,n,t):(0,Ye.of)(h)),(0,ht.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,on.b)(h=>{if(Ja(h.guardsResult)){const v=j(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const m=new Js(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),vn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),i_(h=>{if(h.guards.canActivateChecks.length)return(0,Ye.of)(h).pipe((0,on.b)(m=>{const v=new Bp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),vr(m=>{let v=!1;return(0,Ye.of)(m).pipe(function r_(n,t){return(0,en.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Ye.of)(e);let a=0;return(0,yn.D)(i).pipe(Ga(u=>function zb(n,t,e,r){return function QD(n,t,e,r){const i=Jp(n);if(0===i.length)return(0,Ye.of)({});const a={};return(0,yn.D)(i).pipe((0,en.zg)(u=>function JD(n,t,e,r){const i=Ph(n,t,r);return bn(i.resolve?i.resolve(t,e):i(t,e))}(n[u],t,e,r).pipe((0,on.b)(h=>{a[u]=h}))),gh(1),(0,en.zg)(()=>Jp(a).length===i.length?(0,Ye.of)(a):li.E))}(n._resolve,n,t,r).pipe((0,ht.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),xh(n,e).resolve),null)))}(u.route,r,n,t)),(0,on.b)(()=>a++),gh(1),(0,en.zg)(u=>a===i.length?(0,Ye.of)(e):li.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,on.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,on.b)(m=>{const v=new Xi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),i_(h=>{const{targetSnapshot:m,id:v,extractedUrl:x,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:U}}=h;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:x,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!U})}),(0,ht.U)(h=>{const m=function zm(n,t,e){const r=b(n,t._root,e?e._root:void 0);return new Hp(r,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),(0,on.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ht.U)(r=>(new Rh(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,on.b)({next(){a=!0},complete(){a=!0}}),wo(()=>{var h;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),Vr(h=>{if(u=!0,function ee(n){return n&&n[R]}(h)){const m=Ja(h.url);m||(this.navigated=!0,this.restoreHistory(i,!0));const v=new Cc(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(v),m?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||c_(i.source)};this.scheduleNavigation(x,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new Ec(i.id,this.serializeUrl(i.extractedUrl),h);r.next(m);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return li.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){kD(e),this.config=e.map(ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:m}=r,v=i||this.routerState.root,x=m?this.currentUrlTree.fragment:u;let A=null;switch(h){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function C(n,t,e,r,i){if(0===e.length)return ne(t.root,t.root,t.root,r,i);const a=function vt(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new it(!0,0,n);let t=0,e=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return It(a.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new it(e,t,r)}(e);if(a.toRoot())return ne(t.root,t.root,new Qt([],{}),r,i);const u=function Kn(n,t,e){if(n.isAbsolute)return new Vt(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new Vt(a,a===t.root,0)}const r=I(n.commands[0])?0:1;return function Io(n,t,e){let r=n,i=t,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vt(r,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,t,n),h=u.processChildren?Qa(u.segmentGroup,u.index,a.commands):Ka(u.segmentGroup,u.index,a.commands);return ne(t.root,u.segmentGroup,h,r,i)}(v,this.currentUrlTree,e,A,null!=x?x:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Ja(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Kb(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},Yb):!1===r?Object.assign({},Zb):r,Ja(e))return ts(this.currentUrlTree,e,i);const a=this.parseUrl(e);return ts(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const a=e[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,a,u){var h,m;if(this.disposed)return Promise.resolve(!1);let v,x,A;u?(v=u.resolve,x=u.reject,A=u.promise):A=new Promise((W,re)=>{v=W,x=re});const O=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),U=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):U=0,this.setTransition({id:O,targetPageId:U,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:v,reject:x,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(W=>Promise.reject(W))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(e,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new Cc(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function c_(n){return"imperative"!==n}let Il=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new at.xQ,this.subscription=e.events.subscribe(a=>{a instanceof wc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,a,u){if(0!==e||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Xu(this.skipLocationChange),replaceUrl:Xu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rr),s.Y36(ns),s.Y36(we))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&s.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function Xu(n){return""===n||!!n}class d_{}class f_{preload(t,e){return(0,Ye.of)(null)}}let Uh=(()=>{class n{constructor(e,r,i,a){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new o_(i,r,m=>e.triggerEvent(new Ou(m)),m=>e.triggerEvent(new es(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(vn(e=>e instanceof wc),Ga(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(e,a)):a.children&&i.push(this.processRoutes(e,a.children));return(0,yn.D)(i).pipe((0,yr.J)(),(0,ht.U)(a=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ye.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,en.zg)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(d_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ed=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ku?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new xl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=new s.OlP("ROUTER_CONFIGURATION"),p_=new s.OlP("ROUTER_FORROOT_GUARD"),g_=[un,{provide:Bu,useClass:Ya},{provide:rr,useFactory:function __(n,t,e,r,i,a,u={},h,m){const v=new rr(null,n,t,e,r,i,yt(a));return h&&(v.urlHandlingStrategy=h),m&&(v.routeReuseStrategy=m),function tw(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(x=>{var A,O;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(O=console.groupEnd)||void 0===O||O.call(console)}),v},deps:[Bu,kh,un,s.zs3,s.Sil,s_,Xa,[class a_{},new s.FiY],[class XD{},new s.FiY]]},kh,{provide:ns,useFactory:function xO(n){return n.routerState.root},deps:[rr]},Uh,f_,class h_{preload(t,e){return e().pipe(Vr(()=>(0,Ye.of)(null)))}},{provide:Xa,useValue:{enableTracing:!1}}];function Gh(){return new s.PXZ("Router",rr)}let Xb=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[g_,m_(e),{provide:p_,useFactory:sx,deps:[[rr,new s.FiY,new s.tp0]]},{provide:Xa,useValue:r||{}},{provide:we,useFactory:ix,deps:[X,[new s.tBr(Ve),new s.FiY],Xa]},{provide:ed,useFactory:ew,deps:[rr,yu,Xa]},{provide:d_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:f_},{provide:s.PXZ,multi:!0,useFactory:Gh},[Xp,{provide:s.ip1,multi:!0,useFactory:ox,deps:[Xp]},{provide:rw,useFactory:nw,deps:[Xp]},{provide:s.tb,multi:!0,useExisting:rw}]]}}static forChild(e){return{ngModule:n,providers:[m_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(p_,8),s.LFG(rr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function ew(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ed(n,t,e)}function ix(n,t,e={}){return e.useHash?new _t(n,t):new Ke(n,t)}function sx(n){return"guarded"}function m_(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:s_,multi:!0,useValue:n}]}let Xp=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new at.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),a=this.injector.get(rr),u=this.injector.get(Xa);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(Xa),i=this.injector.get(Uh),a=this.injector.get(ed),u=this.injector.get(rr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ox(n){return n.appInitializer.bind(n)}function nw(n){return n.bootstrapListener.bind(n)}const rw=new s.OlP("Router Initializer");var Yt=N(6351),ma=N(5867);class Rc{constructor(t){return t}}class eg{constructor(){return(0,ma.C6)()}}const tg=new s.OlP("angularfire2._apps"),cx={provide:Rc,useFactory:function lx(n){return n&&1===n.length?n[0]:new Rc((0,ma.Mq)())},deps:[[new s.FiY,tg]]},ux={provide:eg,deps:[[new s.FiY,tg]]};function dx(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Rc(r)}}let Gt=(()=>{class n{constructor(e){(0,ma.KN)("angularfire",Yt.q4.full,"core"),(0,ma.KN)("angularfire",Yt.q4.full,"app"),(0,ma.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cx,ux]}),n})();function iw(n,...t){return{ngModule:Gt,providers:[{provide:tg,useFactory:dx(n),multi:!0,deps:[s.R0b,s.zs3,Yt.HU,...t]}]}}const Ro=(0,Yt.u3)(ma.ZF,!0);var me=N(5861),di=N(9681),kc=N(4859),Ct=N(2090),Oc=N(1877);const v_=new Map,SO={activated:!1,tokenObservers:[]},ng={initialized:!1,enabled:!1};function wr(n){return v_.get(n)||SO}function Cs(n,t){v_.set(n,t)}function td(){return ng}class aw{constructor(t,e,r,i,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,me.Z)(function*(){e.stop();try{e.pending=new Ct.BH,yield function MO(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ct.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const is=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function b_(n){if(!wr(n).activated)throw is.create("use-before-activation",{appName:n.name})}function lw(n,t){return cw.apply(this,arguments)}function cw(){return(cw=(0,me.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(t),headers:r};let u,h;try{u=yield fetch(n,a)}catch(A){throw is.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw is.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(A){throw is.create("fetch-parse-error",{originalErrorMessage:A.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function OO(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const rg="firebase-app-check-store";let ko=null;function ig(){return ko||(ko=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(is.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(rg,{keyPath:"compositeKey"})}}catch(e){t(is.create("storage-open",{originalErrorMessage:e.message}))}}),ko)}function E_(){return(E_=(0,me.Z)(function*(n,t){const r=(yield ig()).transaction(rg,"readwrite"),a=r.objectStore(rg).put({compositeKey:n,value:t});return new Promise((u,h)=>{a.onsuccess=m=>{u()},r.onerror=m=>{var v;h(is.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Fc=new Oc.Yd("@firebase/app-check");function fw(n,t){return(0,Ct.hl)()?function uw(n,t){return function sg(n,t){return E_.apply(this,arguments)}(function hw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Fc.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Pc(){return td().enabled}function lg(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,me.Z)(function*(){const n=td();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nd={error:"UNKNOWN_ERROR"};function Dx(n){return Ct.US.encodeString(JSON.stringify(n),!1)}function qh(n){return cg.apply(this,arguments)}function cg(){return(cg=(0,me.Z)(function*(n,t=!1){const e=n.app;b_(e);const r=wr(e);let a,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&Zh(m)&&(i=m)}if(!t&&i&&Zh(i))return{token:i.token};let h,u=!1;if(Pc()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lw(OO(e,yield lg()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),u=!0);const m=yield r.exchangeTokenPromise;return yield fw(e,m),Cs(e,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),u=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Fc.warn(m.message):Fc.error(m),a=m}return i?(h={token:i.token},Cs(e,Object.assign(Object.assign({},r),{token:i})),yield fw(e,i)):h=PO(a),u&&pw(e,h),h})).apply(this,arguments)}function Yh(n,t){const e=wr(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Cs(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function D_(n){const{app:t}=n,e=wr(t);let r=e.tokenRefresher;r||(r=function ug(n){const{app:t}=n;return new aw((0,me.Z)(function*(){let r;if(r=wr(t).token?yield qh(n,!0):yield qh(n),r.error)throw r.error}),()=>!0,()=>{const e=wr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Cs(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function pw(n,t){const e=wr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(i){}}function Zh(n){return n.expireTimeMillis-Date.now()>0}function PO(n){return{token:Dx(nd),error:n}}class gw{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)Yh(this.app,e.next);return Promise.resolve()}}const hg="app-check-internal";!function Nx(){(0,di._registerComponent)(new kc.wA("app-check",n=>function mw(n,t){return new gw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(hg).initialize()})),(0,di._registerComponent)(new kc.wA(hg,n=>function xx(n){return{getToken:t=>qh(n,t),addTokenListener:t=>function Wh(n,t,e,r){const{app:i}=n,a=wr(i),u={next:e,error:r,type:t};if(Cs(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Zh(a.token)){const h=a.token;Promise.resolve().then(()=>{e({token:h.token}),D_(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>D_(n))}(n,"INTERNAL",t),removeTokenListener:t=>Yh(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,di.registerVersion)("@firebase/app-check","0.5.7")}();class Rl{constructor(){return(0,Yt.vb)("app-check")}}"undefined"!=typeof window&&window;var Bx=N(573);function Vx(n){return new Bn.y(function(t){return{unsubscribe:(0,Bx.t)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Kh{constructor(t){return t}}class pg{constructor(){return(0,Yt.vb)("auth")}}const rd=new s.OlP("angularfire2.auth-instances");function Hx(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Kh(r)}}const zO={provide:pg,deps:[[new s.FiY,rd]]},O_={provide:Kh,useFactory:function Gx(n,t){const e=(0,Yt.JM)("auth",n,t);return e&&new Kh(e)},deps:[[new s.FiY,rd],Rc]};let Mw=(()=>{class n{constructor(){(0,ma.KN)("angularfire",Yt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[O_,zO]}),n})();function F_(n,...t){return{ngModule:Mw,providers:[{provide:rd,useFactory:Hx(n),multi:!0,deps:[s.R0b,s.zs3,Yt.HU,eg,[new s.FiY,Rl],...t]}]}}const Qh=(0,Yt.u3)(Vx,!0),id=(0,Yt.u3)(Bx.n,!0);var va=N(6787),Xh=N(2102),oT=N(341),aT=N(5283);class lT extends at.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new cT(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;let u;if(this.closed)throw new _c.N;if(this.isStopped||this.hasError?u=Ur.w.EMPTY:(this.observers.push(t),u=new aT.W(this,t)),i&&t.add(t=new Xh.ht(t,i)),e)for(let h=0;h<a&&!t.closed;h++)t.next(r[h]);else for(let h=0;h<a&&!t.closed;h++)t.next(r[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||oT.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,a=i.length;let u=0;for(;u<a&&!(t-i[u].time<r);)u++;return a>e&&(u=Math.max(u,a-e)),u>0&&i.splice(0,u),i}}class cT{constructor(t,e){this.time=t,this.value=e}}function N_(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},i=>i.lift(function gg({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let i,u,a=0,h=!1,m=!1;return function(x){let A;a++,!i||h?(h=!1,i=new lT(n,t,r),A=i.subscribe(this),u=x.subscribe({next(O){i.next(O)},error(O){h=!0,i.error(O)},complete(){m=!0,u=void 0,i.complete()}}),m&&(u=void 0)):A=i.subscribe(this),this.add(()=>{a--,A.unsubscribe(),A=void 0,u&&!m&&e&&0===a&&(u.unsubscribe(),u=void 0,i=void 0)})}}(r))}function Lc(n,t){return t?vr(()=>n,t):vr(()=>n)}var P_=N(3334),Hr=N(2011);N(127);const mg=new s.OlP("angularfire2.auth.use-emulator"),Oo=new s.OlP("angularfire2.auth.settings"),sd=new s.OlP("angularfire2.auth.tenant-id"),hi=new s.OlP("angularfire2.auth.langugage-code"),Ol=new s.OlP("angularfire2.auth.use-device-language"),ef=new s.OlP("angularfire.auth.persistence"),Ds=(n,t,e,r,i,a,u,h)=>(0,Hr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),u)for(const[v,x]of Object.entries(u))m.settings[v]=x;return h&&m.setPersistence(h),m},[e,r,i,a,u,h]);let od=(()=>{class n{constructor(e,r,i,a,u,h,m,v,x,A,O,U){const W=new at.xQ,re=(0,Ye.of)(void 0).pipe((0,Xh.QV)(u.outsideAngular),vr(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,ht.U)(()=>(0,Hr.on)(e,a,r)),(0,ht.U)(ve=>Ds(ve,a,h,v,x,A,m,O)),N_({bufferSize:1,refCount:!1}));if(si(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ye.of)(null);else{re.pipe(Ci()).subscribe();const ke=re.pipe(vr(ze=>ze.getRedirectResult().then(Tt=>Tt,()=>null)),Yt.iC,N_({bufferSize:1,refCount:!1})),Ze=re.pipe(vr(ze=>new Bn.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>ze.onAuthStateChanged(kt=>Tt.next(kt),kt=>Tt.error(kt),()=>Tt.complete()))})))),et=re.pipe(vr(ze=>new Bn.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>ze.onIdTokenChanged(kt=>Tt.next(kt),kt=>Tt.error(kt),()=>Tt.complete()))}))));this.authState=ke.pipe(Lc(Ze),(0,P_.R)(u.outsideAngular),(0,Xh.QV)(u.insideAngular)),this.user=ke.pipe(Lc(et),(0,P_.R)(u.outsideAngular),(0,Xh.QV)(u.insideAngular)),this.idToken=this.user.pipe(vr(ze=>ze?(0,yn.D)(ze.getIdToken()):(0,Ye.of)(null))),this.idTokenResult=this.user.pipe(vr(ze=>ze?(0,yn.D)(ze.getIdTokenResult()):(0,Ye.of)(null))),this.credential=(0,va.T)(ke,W,this.authState.pipe(vn(ze=>!ze))).pipe((0,ht.U)(ze=>(null==ze?void 0:ze.user)?ze:null),(0,P_.R)(u.outsideAngular),(0,Xh.QV)(u.insideAngular))}return(0,Hr.pX)(this,re,a,{spy:{apply:(ve,ke,Ze)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Ze.then(et=>W.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hr.Dh),s.LFG(Hr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Yt.HU),s.LFG(mg,8),s.LFG(Oo,8),s.LFG(sd,8),s.LFG(hi,8),s.LFG(Ol,8),s.LFG(ef,8),s.LFG(Rl,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fl=(()=>{class n{constructor(e,r){this.auth=e,this.auth2=r,this.currentUser$=Qh(this.auth2)}login(e,r){return(0,yn.D)(this.auth.signInWithEmailAndPassword(e,r))}signUp(e,r,i){return(0,yn.D)(this.auth.createUserWithEmailAndPassword(r,i))}logout(){return(0,yn.D)(this.auth.signOut())}isUserLoggedIn(){return this.auth.user}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(od),s.LFG(Kh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ud=N(353);function xs(n,t=ud.P){return e=>e.lift(new JT(n,t))}class JT{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new XT(t,this.dueTime,this.scheduler))}}class XT extends cn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ba,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ba(n){n.debouncedNext()}class No{constructor(t){this.total=t}call(t,e){return e.subscribe(new eC(t,this.total))}}class eC extends cn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function dd(n,t){return e=>e.lift(new eA(n,t))}class eA{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tA(t,this.compare,this.keySelector))}}class tA extends cn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}function tn(n){return t=>t.lift(new nA(n))}class nA{constructor(t){this.notifier=t}call(t,e){const r=new z_(t),i=(0,Zr.ft)(this.notifier,new Zr.IY(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r}}class z_ extends Zr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ft(n){return null!=n&&"false"!=`${n}`}function Ts(n,t=0){return function tC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function wa(n){return n instanceof s.SBq?n.nativeElement:n}let W_;try{W_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){W_=!1}let Ll,On=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?_n(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.Lbi))},token:n,providedIn:"root"}),n})(),Bc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const cf=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Y_(){if(Ll)return Ll;if("object"!=typeof document||!document)return Ll=new Set(cf),Ll;let n=document.createElement("input");return Ll=new Set(cf.filter(t=>(n.setAttribute("type",t),n.type===t))),Ll}let hd,uf,Bl,Z_;function fd(n){return function nC(){if(null==hd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hd=!0}))}finally{hd=hd||!1}return hd}()?n:!!n.capture}function pd(){if("object"!=typeof document||!document)return 0;if(null==uf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),uf=0,0===n.scrollLeft&&(n.scrollLeft=1,uf=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return uf}function df(n){return n.composedPath?n.composedPath()[0]:n.target}let K_=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),iC=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=wa(e);return new Bn.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new at.xQ,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K_))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(K_))},token:n,providedIn:"root"}),n})(),Q_=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ft(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ts(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(xs(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iC),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),J_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[K_]}),n})(),vg=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Vc(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function ey(n){try{return n.frameElement}catch(t){return null}}(function wt(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===ny(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),a=ny(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function lC(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function QF(n){return!function yA(n){return function KF(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function _A(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gd(n){return function ty(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vA(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(On))},token:n,providedIn:"root"}),n})();function vA(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function ny(n){if(!vA(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class bA{constructor(t,e,r,i,a=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(wi(1)).subscribe(t)}}let cC=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new bA(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vg),s.LFG(s.R0b),s.LFG(ae))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(vg),s.LFG(s.R0b),s.LFG(ae))},token:n,providedIn:"root"}),n})();function iy(n){return 0===n.offsetX&&0===n.offsetY}function sy(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const oy=new s.OlP("cdk-input-modality-detector-options"),uC={ignoreKeys:[18,17,224,91,16]},md=fd({passive:!0,capture:!0});let hC=(()=>{class n{constructor(e,r,i,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Mr(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,m;(null===(m=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===m?void 0:m.some(v=>v===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=df(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(iy(u)?"keyboard":"mouse"),this._mostRecentTarget=df(u))},this._onTouchstart=u=>{sy(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=df(u))},this._options=Object.assign(Object.assign({},uC),a),this.modalityDetected=this._modality.pipe(function Fo(n){return t=>t.lift(new No(n))}(1)),this.modalityChanged=this.modalityDetected.pipe(dd()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,md),i.addEventListener("mousedown",this._onMousedown,md),i.addEventListener("touchstart",this._onTouchstart,md)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,md),document.removeEventListener("mousedown",this._onMousedown,md),document.removeEventListener("touchstart",this._onTouchstart,md))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b),s.LFG(ae),s.LFG(oy,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(On),s.LFG(s.R0b),s.LFG(ae),s.LFG(oy,8))},token:n,providedIn:"root"}),n})();const ly=new s.OlP("cdk-focus-monitor-default-options"),hf=fd({passive:!0,capture:!0});let Vl=(()=>{class n{constructor(e,r,i,a,u){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new at.xQ,this._rootNodeFocusAndBlurListener=h=>{const m=df(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let x=m;x;x=x.parentElement)v.call(this,h,x)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,r=!1){const i=wa(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Ye.of)(null);const a=function sA(n){if(function iA(){if(null==Z_){const n="undefined"!=typeof document?document.head:null;Z_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Z_}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new at.xQ,rootNode:a};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=wa(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const a=wa(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,m])=>this._originChanged(h,r,m)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,i){i?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),a=df(e);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,hf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,hf)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(tn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,a)=>{(a===e||i.checkChildren&&a.contains(e))&&r.push([a,i])}),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(On),s.LFG(hC),s.LFG(ae,8),s.LFG(ly,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.R0b),s.LFG(On),s.LFG(hC),s.LFG(ae,8),s.LFG(ly,8))},token:n,providedIn:"root"}),n})();const yd="cdk-high-contrast-black-on-white",vd="cdk-high-contrast-white-on-black",cy="cdk-high-contrast-active";let pC=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(cy),e.remove(yd),e.remove(vd),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(cy),e.add(yd)):2===r&&(e.add(cy),e.add(vd))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(ae))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(On),s.LFG(ae))},token:n,providedIn:"root"}),n})(),xA=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pC))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Bc,J_]]}),n})();const uy=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function gC(){return(0,s.f3M)(ae)}});let xi=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const i=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||i;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uy,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(uy,8))},token:n,providedIn:"root"}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const mC=new s.GfV("12.2.13");class _C{}const Ul="*";function yC(n,t){return{type:7,name:n,definitions:t,options:{}}}function ff(n,t=null){return{type:4,styles:t,timings:n}}function pf(n,t=null){return{type:2,steps:n,options:t}}function Po(n){return{type:6,styles:n,offset:null}}function wd(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ca(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function dy(n){Promise.resolve(null).then(n)}class gf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class vC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const a=this.players.length;0==a?dy(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const dn=!1;function bC(n){return new s.vHH(3e3,dn)}function YA(){return"undefined"!=typeof window&&void 0!==window.document}function _f(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hl(n){switch(n.length){case 0:return new gf;case 1:return n[0];default:return new vC(n)}}function my(n,t,e,r,i={},a={}){const u=[],h=[];let m=-1,v=null;if(r.forEach(x=>{const A=x.offset,O=A==m,U=O&&v||{};Object.keys(x).forEach(W=>{let re=W,ve=x[W];if("offset"!==W)switch(re=t.normalizePropertyName(re,u),ve){case"!":ve=i[W];break;case Ul:ve=a[W];break;default:ve=t.normalizeStyleValue(W,re,ve,u)}U[re]=ve}),O||h.push(U),v=U,m=A}),u.length)throw function AC(n){return new s.vHH(3502,dn)}();return h}function _y(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Cg(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Cg(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Cg(e,"destroy",n)))}}function Cg(n,t,e){const r=e.totalTime,a=yy(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function yy(n,t,e,r,i="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function ss(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function ZA(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vy=(n,t)=>!1,yf=(n,t,e)=>[],RC=null;function jl(n){const t=n.parentNode||n.host;return t===RC?null:t}(_f()||"undefined"!=typeof Element)&&(YA()?(RC=(()=>document.documentElement)(),vy=(n,t)=>{for(;t;){if(t===n)return!0;t=jl(t)}return!1}):vy=(n,t)=>n.contains(t),yf=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Cd=null,by=!1;function kC(n){Cd||(Cd=function QA(){return"undefined"!=typeof document?document.body:null}()||{},by=!!Cd.style&&"WebkitAppearance"in Cd.style);let t=!0;return Cd.style&&!function KA(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cd.style,!t&&by&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cd.style)),t}const OC=vy,FC=yf;let wy=(()=>{class n{validateStyleProperty(e){return kC(e)}matchesElement(e,r){return!1}containsElement(e,r){return OC(e,r)}getParentElement(e){return jl(e)}query(e,r,i){return FC(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,a,u,h=[],m){return new gf(i,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),vf=(()=>{class n{}return n.NOOP=new wy,n})();const xg="ng-enter",bf="ng-leave",Tg="ng-trigger",Ag=".ng-trigger",Sg="ng-animating",Cy=".ng-animating";function Dd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ey(parseFloat(t[1]),t[2])}function Ey(n,t){return"s"===t?1e3*n:n}function Ig(n,t,e){return n.hasOwnProperty("duration")?n:function xd(n,t,e){let i,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(bC()),{duration:0,delay:0,easing:""};i=Ey(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(a=Ey(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else i=n;if(!e){let h=!1,m=t.length;i<0&&(t.push(function wC(){return new s.vHH(3100,dn)}()),h=!0),a<0&&(t.push(function SA(){return new s.vHH(3101,dn)}()),h=!0),h&&t.splice(m,0,bC())}return{duration:i,delay:a,easing:u}}(n,t,e)}function Uc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Hc(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Uc(n,e);return e}function Dy(n,t,e){return e?t+":"+e+";":""}function NC(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Dy(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Dy(0,tS(e),n.style[e]));n.setAttribute("style",t)}function nl(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=xy(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),_f()&&NC(n))}function $l(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=xy(e);n.style[r]=""}),_f()&&NC(n))}function Mg(n){return Array.isArray(n)?1==n.length?n[0]:pf(n):n}const wf=new RegExp("{{\\s*(.+?)\\s*}}","g");function LC(n){let t=[];if("string"==typeof n){let e;for(;e=wf.exec(n);)t.push(e[1]);wf.lastIndex=0}return t}function Cf(n,t,e){const r=n.toString(),i=r.replace(wf,(a,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function IA(n){return new s.vHH(3003,dn)}()),h=""),h.toString()});return i==r?n:i}function Ef(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const eS=/-+([a-z0-9])/g;function xy(n){return n.replace(eS,(...t)=>t[1].toUpperCase())}function tS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function As(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function hy(n){return new s.vHH(3004,dn)}()}}function BC(n,t){return window.getComputedStyle(n)[t]}function sS(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function oS(n,t,e){if(":"==n[0]){const m=function aS(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function VA(n){return new s.vHH(3016,dn)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function BA(n){return new s.vHH(3015,dn)}()),t;const i=r[1],a=r[2],u=r[3];t.push(Td(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&t.push(Td(u,i))}(r,e,t)):e.push(n),e}const kg=new Set(["true","1"]),Og=new Set(["false","0"]);function Td(n,t){const e=kg.has(n)||Og.has(n),r=kg.has(t)||Og.has(t);return(i,a)=>{let u="*"==n||n==i,h="*"==t||t==a;return!u&&e&&"boolean"==typeof i&&(u=i?kg.has(n):Og.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?kg.has(t):Og.has(t)),u&&h}}const Ty=new RegExp("s*:selfs*,?","g");function Xs(n,t,e,r){return new Fg(n).build(t,e,r)}class Fg{constructor(t){this._driver=t}build(t,e,r){const i=new cS(e);this._resetContextStyleTimingState(i);const a=As(this,Mg(t),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function EC(){return new s.vHH(3006,dn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,a.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);r+=m.queryCount,i+=m.depCount,u.push(m)}else e.errors.push(function DC(){return new s.vHH(3007,dn)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(h=>{if(jc(h)){const m=h;Object.keys(m).forEach(v=>{LC(m[v]).forEach(x=>{u.hasOwnProperty(x)||a.add(x)})})}}),a.size&&(Ef(a.values()),e.errors.push(function RA(n,t){return new s.vHH(3008,dn)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=As(this,Mg(t.animation),e);return{type:1,matchers:sS(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:$c(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>As(this,r,e)),options:$c(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const a=t.steps.map(u=>{e.currentTime=r;const h=As(this,u,e);return i=Math.max(i,e.currentTime),h});return e.currentTime=i,{type:3,steps:a,options:$c(t.options)}}visitAnimate(t,e){const r=function Ng(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ay(Ig(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Ay(0,0,"");return a.dynamic=!0,a.strValue=e,a}const i=Ig(e,t);return Ay(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,a=t.styles?t.styles:Po({});if(5==a.type)i=this.visitKeyframes(a,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=Po(v)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,i=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Ul?r.push(u):e.errors.push(function kA(n){return new s.vHH(3002,dn)}()):r.push(u)}):r.push(t.styles);let i=!1,a=null;return r.forEach(u=>{if(jc(u)){const h=u,m=h.easing;if(m&&(a=m,delete h.easing),!i)for(let v in h)if(h[v].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const m=e.collectedStyles[e.currentQuerySelector],v=m[h];let x=!0;v&&(a!=i&&a>=v.startTime&&i<=v.endTime&&(e.errors.push(function fy(n,t,e,r,i){return new s.vHH(3010,dn)}()),x=!1),a=v.startTime),x&&(m[h]={startTime:a,endTime:i}),e.options&&function PC(n,t,e){const r=t.params||{},i=LC(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||e.push(function CC(n){return new s.vHH(3001,dn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function OA(){return new s.vHH(3011,dn)}()),r;let a=0;const u=[];let h=!1,m=!1,v=0;const x=t.steps.map(ke=>{const Ze=this._makeStyleAst(ke,e);let et=null!=Ze.offset?Ze.offset:function uS(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(jc(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(jc(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ze.styles),ze=0;return null!=et&&(a++,ze=Ze.offset=et),m=m||ze<0||ze>1,h=h||ze<v,v=ze,u.push(ze),Ze});m&&e.errors.push(function xC(){return new s.vHH(3012,dn)}()),h&&e.errors.push(function FA(){return new s.vHH(3200,dn)}());const A=t.steps.length;let O=0;a>0&&a<A?e.errors.push(function NA(){return new s.vHH(3202,dn)}()):0==a&&(O=1/(A-1));const U=A-1,W=e.currentTime,re=e.currentAnimateTimings,ve=re.duration;return x.forEach((ke,Ze)=>{const et=O>0?Ze==U?1:O*Ze:u[Ze],ze=et*ve;e.currentTime=W+re.delay+ze,re.duration=ze,this._validateStyleAst(ke,e),ke.offset=et,r.styles.push(ke)}),r}visitReference(t,e){return{type:8,animation:As(this,Mg(t.animation),e),options:$c(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:$c(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$c(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function xf(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ty,"")),n=n.replace(/@\*/g,Ag).replace(/@\w+/g,e=>Ag+"-"+e.substr(1)).replace(/:animating/g,Cy),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+a:a,ss(e.collectedStyles,e.currentQuerySelector,{});const h=As(this,Mg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:$c(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function PA(){return new s.vHH(3013,dn)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ig(t.timings,e.errors,!0);return{type:12,animation:As(this,Mg(t.animation),e),timings:r,options:null}}}class cS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jc(n){return!Array.isArray(n)&&"object"==typeof n}function $c(n){return n?(n=Uc(n)).params&&(n.params=function lS(n){return n?Uc(n):null}(n.params)):n={},n}function Ay(n,t,e){return{duration:n,delay:t,easing:e}}function Pg(n,t,e,r,i,a,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:h}}class Tf{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dS=new RegExp(":enter","g"),h1=new RegExp(":leave","g");function Af(n,t,e,r,i,a={},u={},h,m,v=[]){return(new Iy).buildKeyframes(n,t,e,r,i,a,u,h,m,v)}class Iy{buildKeyframes(t,e,r,i,a,u,h,m,v,x=[]){v=v||new Tf;const A=new If(t,e,v,i,a,x,[]);A.options=m,A.currentTimeline.setStyles([u],null,A.errors,m),As(this,r,A);const O=A.timelines.filter(U=>U.containsAnimation());if(Object.keys(h).length){let U;for(let W=O.length-1;W>=0;W--){const re=O[W];if(re.element===e){U=re;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,A.errors,m)}return O.length?O.map(U=>U.buildKeyframes()):[Pg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let a=e.currentTimeline.currentTime;const u=null!=r.duration?Dd(r.duration):null,h=null!=r.delay?Dd(r.delay):null;return 0!==u&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,u,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),As(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const a=t.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sf);const u=Dd(a.delay);i.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>As(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Dd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);a&&h.delayNextStep(a),As(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Ig(e.params?Cf(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(a):r.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,a=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*a),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(i+a),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},a=i.delay?Dd(i.delay):0;a&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sf);let u=r;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,x)=>{e.currentQueryIndex=x;const A=e.createSubContext(t.options,v);a&&A.delayNextStep(a),v===e.element&&(m=A.currentTimeline),As(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const x=e.currentTimeline;m&&x.delayNextStep(m);const A=x.currentTime;As(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const Sf={};class If{constructor(t,e,r,i,a,u,h,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Ad(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Dd(r.duration)),null!=r.delay&&(i.delay=Dd(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Cf(a[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,a=new If(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Sf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},a=new fS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,a,u){let h=[];if(i&&h.push(this.element),t.length>0){t=(t=t.replace(dS,"."+this._enterClassName)).replace(h1,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!a&&0==h.length&&u.push(function LA(n){return new s.vHH(3014,dn)}()),h}}class Ad{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ad(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ul,this._currentKeyframe[e]=Ul}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const a=i&&i.params||{},u=function pS(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(a=>{e[a]=Ul})):Hc(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const m=Cf(u[h],a,r);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Ul),this._updateStyle(h,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const v=Hc(h,!0);Object.keys(v).forEach(x=>{const A=v[x];"!"==A?t.add(x):A==Ul&&e.add(x)}),r||(v.offset=m/this.duration),i.push(v)});const a=t.size?Ef(t.values()):[],u=e.size?Ef(e.values()):[];if(r){const h=i[0],m=Uc(h);h.offset=0,m.offset=1,i=[h,m]}return Pg(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class fS extends Ad{constructor(t,e,r,i,a,u,h=!1){super(t,e,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=r+e,h=e/u,m=Hc(t[0],!1);m.offset=0,a.push(m);const v=Hc(t[0],!1);v.offset=zC(h),a.push(v);const x=t.length-1;for(let A=1;A<=x;A++){let O=Hc(t[A],!1);O.offset=zC((e+O.offset*r)/u),a.push(O)}r=u,e=0,i="",t=a}return Pg(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function zC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Lg{}class WC extends Lg{normalizePropertyName(t,e){return xy(t)}normalizeStyleValue(t,e,r,i){let a="";const u=r.toString().trim();if(YC[e]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function MA(n,t){return new s.vHH(3005,dn)}())}return u+a}}const YC=(()=>function ZC(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function My(n,t,e,r,i,a,u,h,m,v,x,A,O){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:a,toState:r,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:A,errors:O}}const Ry={};class ky{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function KC(n,t,e,r,i){return n.some(a=>a(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],a=this._stateStyles[t],u=i?i.buildStyles(e,r):{};return a?a.buildStyles(e,r):u}build(t,e,r,i,a,u,h,m,v,x){const A=[],O=this.ast.options&&this.ast.options.params||Ry,W=this.buildStyles(r,h&&h.params||Ry,A),re=m&&m.params||Ry,ve=this.buildStyles(i,re,A),ke=new Set,Ze=new Map,et=new Map,ze="void"===i,Tt={params:Object.assign(Object.assign({},O),re)},kt=x?[]:Af(t,e,this.ast.animation,a,u,W,ve,Tt,v,A);let gn=0;if(kt.forEach(jo=>{gn=Math.max(jo.duration+jo.delay,gn)}),A.length)return My(e,this._triggerName,r,i,ze,W,ve,[],[],Ze,et,gn,A);kt.forEach(jo=>{const hu=jo.element,lH=ss(Ze,hu,{});jo.preStyleProps.forEach(Dp=>lH[Dp]=!0);const kb=ss(et,hu,{});jo.postStyleProps.forEach(Dp=>kb[Dp]=!0),hu!==e&&ke.add(hu)});const xr=Ef(ke.values());return My(e,this._triggerName,r,i,ze,W,ve,kt,xr,Ze,et,gn)}}class gS{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=Uc(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(h=>{let m=u[h];m.length>1&&(m=Cf(m,i,e));const v=this.normalizer.normalizePropertyName(h,e);m=this.normalizer.normalizeStyleValue(h,v,m,e),r[v]=m})}}),r}}class JC{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new gS(i.style,i.options&&i.options.params||{},r)}),zc(this.states,"true","1"),zc(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new ky(t,i,this.states))}),this.fallbackTransition=function Ui(n,t,e){return new ky(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(u=>u.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function zc(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const mS=new Tf;class _S{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],a=Xs(this._driver,e,r,[]);if(r.length)throw function HA(n){return new s.vHH(3503,dn)}();this._animations[t]=a}_buildPlayer(t,e,r){const i=t.element,a=my(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],a=this._animations[t];let u;const h=new Map;if(a?(u=Af(this._driver,e,a,xg,bf,{},{},r,mS,i),u.forEach(x=>{const A=ss(h,x.element,{});x.postStyleProps.forEach(O=>A[O]=null)})):(i.push(function jA(){return new s.vHH(3300,dn)}()),u=[]),i.length)throw function SC(n){return new s.vHH(3504,dn)}();h.forEach((x,A)=>{Object.keys(x).forEach(O=>{x[O]=this._driver.computeStyle(A,O,Ul)})});const v=Hl(u.map(x=>{const A=h.get(x.element);return this._buildPlayer(x,{},A)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function $A(n){return new s.vHH(3301,dn)}();return e}listen(t,e,r,i){const a=yy(e,"","","");return _y(this._getPlayer(t),r,a,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const a=this._getPlayer(t);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const yS="ng-animate-queued",Oy="ng-animate-disabled",bS=[],e0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ny={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ss="__ng_removed";class Bg{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Vg(n){return null!=n?n:null}(r?t.value:t),r){const a=Uc(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const ql="void",Rf=new Bg(ql);class p1{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,eo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw function zA(n,t){return new s.vHH(3302,dn)}();if(null==r||0==r.length)throw function qA(n){return new s.vHH(3303,dn)}();if(!function wS(n){return"start"==n||"done"==n}(r))throw function py(n,t){return new s.vHH(3400,dn)}();const a=ss(this._elementListeners,t,[]),u={name:e,phase:r,callback:i};a.push(u);const h=ss(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(eo(t,Tg),eo(t,Tg+"-"+e),h[e]=Rf),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(u);m>=0&&a.splice(m,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function gy(n){return new s.vHH(3401,dn)}();return e}trigger(t,e,r,i=!0){const a=this._getTrigger(e),u=new Py(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(eo(t,Tg),eo(t,Tg+"-"+e),this._engine.statesByElement.set(t,h={}));let m=h[e];const v=new Bg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h[e]=v,m||(m=Rf),v.value!==ql&&m.value===v.value){if(!function a0(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(m.params,v.params)){const re=[],ve=a.matchStyles(m.value,m.params,re),ke=a.matchStyles(v.value,v.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{$l(t,ve),nl(t,ke)})}return}const O=ss(this._engine.playersByElement,t,[]);O.forEach(re=>{re.namespaceId==this.id&&re.triggerName==e&&re.queued&&re.destroy()});let U=a.matchTransition(m.value,v.value,t,v.params),W=!1;if(!U){if(!i)return;U=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:m,toState:v,player:u,isFallbackTransition:W}),W||(eo(t,yS),u.onStart(()=>{Sd(t,yS)})),u.onDone(()=>{let re=this.players.indexOf(u);re>=0&&this.players.splice(re,1);const ve=this._engine.playersByElement.get(t);if(ve){let ke=ve.indexOf(u);ke>=0&&ve.splice(ke,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Ag,!0);r.forEach(i=>{if(i[Ss])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const h=[];if(Object.keys(a).forEach(m=>{if(u.set(m,a[m].value),this._triggers[m]){const v=this.trigger(t,m,ql,i);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),r&&Hl(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const m=this._triggers[u].fallbackTransition,v=r[u]||Rf,x=new Bg(ql),A=new Py(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:v,toState:x,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(t):[];if(a&&a.length)i=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Ss];(!a||a===e0)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){eo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==r.triggerName){const m=yy(a,r.triggerName,r.fromState.value,r.toState.value);m._data=t,_y(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class t0{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new p1(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const m=i.get(h);if(m){const v=r.indexOf(m);r.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=a;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,e)){r.splice(h+1,0,t),u=!0;break}u||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,r,i){if(kf(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!kf(e))return;const a=e[Ss];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),eo(t,Oy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sd(t,Oy))}removeNode(t,e,r,i){if(kf(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,a){this.collectedLeaveElements.push(e),e[Ss]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,r,i,a){return kf(e)?this._fetchNamespace(t).listen(e,r,i,a):()=>{}}_buildInstruction(t,e,r,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Ag,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Cy,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Ss];if(r&&r.setForRemoval){if(t[Ss]=e0,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Oy))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)eo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Hl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function IC(n){return new s.vHH(3402,dn)}()}_flushAnimations(t,e){const r=new Tf,i=[],a=new Map,u=[],h=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(ft=>{x.add(ft);const Et=this.driver.query(ft,".ng-animate-queued",!0);for(let Nt=0;Nt<Et.length;Nt++)x.add(Et[Nt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),U=CS(O,this.collectedEnterElements),W=new Map;let re=0;U.forEach((ft,Et)=>{const Nt=xg+re++;W.set(Et,Nt),ft.forEach(Sn=>eo(Sn,Nt))});const ve=[],ke=new Set,Ze=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Et=this.collectedLeaveElements[ft],Nt=Et[Ss];Nt&&Nt.setForRemoval&&(ve.push(Et),ke.add(Et),Nt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(Sn=>ke.add(Sn)):Ze.add(Et))}const et=new Map,ze=CS(O,Array.from(ke));ze.forEach((ft,Et)=>{const Nt=bf+re++;et.set(Et,Nt),ft.forEach(Sn=>eo(Sn,Nt))}),t.push(()=>{U.forEach((ft,Et)=>{const Nt=W.get(Et);ft.forEach(Sn=>Sd(Sn,Nt))}),ze.forEach((ft,Et)=>{const Nt=et.get(Et);ft.forEach(Sn=>Sd(Sn,Nt))}),ve.forEach(ft=>{this.processLeaveNode(ft)})});const Tt=[],kt=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(e).forEach(Nt=>{const Sn=Nt.player,ki=Nt.element;if(Tt.push(Sn),this.collectedEnterElements.length){const Bs=ki[Ss];if(Bs&&Bs.setForMove){if(Bs.previousTriggersValues&&Bs.previousTriggersValues.has(Nt.triggerName)){const xp=Bs.previousTriggersValues.get(Nt.triggerName),rh=this.statesByElement.get(Nt.element);rh&&rh[Nt.triggerName]&&(rh[Nt.triggerName].value=xp)}return void Sn.destroy()}}const nc=!A||!this.driver.containsElement(A,ki),$o=et.get(ki),nh=W.get(ki),Tr=this._buildInstruction(Nt,r,nh,$o,nc);if(Tr.errors&&Tr.errors.length)return void kt.push(Tr);if(nc)return Sn.onStart(()=>$l(ki,Tr.fromStyles)),Sn.onDestroy(()=>nl(ki,Tr.toStyles)),void i.push(Sn);if(Nt.isFallbackTransition)return Sn.onStart(()=>$l(ki,Tr.fromStyles)),Sn.onDestroy(()=>nl(ki,Tr.toStyles)),void i.push(Sn);const dH=[];Tr.timelines.forEach(Bs=>{Bs.stretchStartingKeyframe=!0,this.disabledNodes.has(Bs.element)||dH.push(Bs)}),Tr.timelines=dH,r.append(ki,Tr.timelines),u.push({instruction:Tr,player:Sn,element:ki}),Tr.queriedElements.forEach(Bs=>ss(h,Bs,[]).push(Sn)),Tr.preStyleProps.forEach((Bs,xp)=>{const rh=Object.keys(Bs);if(rh.length){let Tp=m.get(xp);Tp||m.set(xp,Tp=new Set),rh.forEach(bO=>Tp.add(bO))}}),Tr.postStyleProps.forEach((Bs,xp)=>{const rh=Object.keys(Bs);let Tp=v.get(xp);Tp||v.set(xp,Tp=new Set),rh.forEach(bO=>Tp.add(bO))})});if(kt.length){const ft=[];kt.forEach(Et=>{ft.push(function WA(n,t){return new s.vHH(3505,dn)}())}),Tt.forEach(Et=>Et.destroy()),this.reportError(ft)}const gn=new Map,xr=new Map;u.forEach(ft=>{const Et=ft.element;r.has(Et)&&(xr.set(Et,Et),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,gn))}),i.forEach(ft=>{const Et=ft.element;this._getPreviousPlayers(Et,!1,ft.namespaceId,ft.triggerName,null).forEach(Sn=>{ss(gn,Et,[]).push(Sn),Sn.destroy()})});const jo=ve.filter(ft=>Ly(ft,m,v)),hu=new Map;Gg(hu,this.driver,Ze,v,Ul).forEach(ft=>{Ly(ft,m,v)&&jo.push(ft)});const kb=new Map;U.forEach((ft,Et)=>{Gg(kb,this.driver,new Set(ft),m,"!")}),jo.forEach(ft=>{const Et=hu.get(ft),Nt=kb.get(ft);hu.set(ft,Object.assign(Object.assign({},Et),Nt))});const Dp=[],cH=[],uH={};u.forEach(ft=>{const{element:Et,player:Nt,instruction:Sn}=ft;if(r.has(Et)){if(x.has(Et))return Nt.onDestroy(()=>nl(Et,Sn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Sn.totalTime),void i.push(Nt);let ki=uH;if(xr.size>1){let $o=Et;const nh=[];for(;$o=$o.parentNode;){const Tr=xr.get($o);if(Tr){ki=Tr;break}nh.push($o)}nh.forEach(Tr=>xr.set(Tr,ki))}const nc=this._buildAnimation(Nt.namespaceId,Sn,gn,a,kb,hu);if(Nt.setRealPlayer(nc),ki===uH)Dp.push(Nt);else{const $o=this.playersByElement.get(ki);$o&&$o.length&&(Nt.parentPlayer=Hl($o)),i.push(Nt)}}else $l(Et,Sn.fromStyles),Nt.onDestroy(()=>nl(Et,Sn.toStyles)),cH.push(Nt),x.has(Et)&&i.push(Nt)}),cH.forEach(ft=>{const Et=a.get(ft.element);if(Et&&Et.length){const Nt=Hl(Et);ft.setRealPlayer(Nt)}}),i.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<ve.length;ft++){const Et=ve[ft],Nt=Et[Ss];if(Sd(Et,bf),Nt&&Nt.hasAnimation)continue;let Sn=[];if(h.size){let nc=h.get(Et);nc&&nc.length&&Sn.push(...nc);let $o=this.driver.query(Et,Cy,!0);for(let nh=0;nh<$o.length;nh++){let Tr=h.get($o[nh]);Tr&&Tr.length&&Sn.push(...Tr)}}const ki=Sn.filter(nc=>!nc.destroyed);ki.length?r0(this,Et,ki):this.processLeaveNode(Et)}return ve.length=0,Dp.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Et=this.players.indexOf(ft);this.players.splice(Et,1)}),ft.play()}),Dp}elementContainsData(t,e){let r=!1;const i=e[Ss];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,a){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!a||a==ql;h.forEach(v=>{v.queued||!m&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(t,e,r){const a=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,x=v!==a,A=ss(r,v,[]);this._getPreviousPlayers(v,x,u,h,e.toState).forEach(U=>{const W=U.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),U.destroy(),A.push(U)})}$l(a,e.fromStyles)}_buildAnimation(t,e,r,i,a,u){const h=e.triggerName,m=e.element,v=[],x=new Set,A=new Set,O=e.timelines.map(W=>{const re=W.element;x.add(re);const ve=re[Ss];if(ve&&ve.removedBeforeQueried)return new gf(W.duration,W.delay);const ke=re!==m,Ze=function s0(n){const t=[];return o0(n,t),t}((r.get(re)||bS).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===re),et=a.get(re),ze=u.get(re),Tt=my(0,this._normalizer,0,W.keyframes,et,ze),kt=this._buildPlayer(W,Tt,Ze);if(W.subTimeline&&i&&A.add(re),ke){const gn=new Py(t,h,re);gn.setRealPlayer(kt),v.push(gn)}return kt});v.forEach(W=>{ss(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function n0(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,W.element,W))}),x.forEach(W=>eo(W,Sg));const U=Hl(O);return U.onDestroy(()=>{x.forEach(W=>Sd(W,Sg)),nl(m,e.toStyles)}),A.forEach(W=>{ss(i,W,[]).push(U)}),U}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new gf(t.duration,t.delay)}}class Py{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new gf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>_y(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function kf(n){return n&&1===n.nodeType}function Ug(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Gg(n,t,e,r,i){const a=[];e.forEach(m=>a.push(Ug(m)));const u=[];r.forEach((m,v)=>{const x={};m.forEach(A=>{const O=x[A]=t.computeStyle(v,A,i);(!O||0==O.length)&&(v[Ss]=Ny,u.push(v))}),n.set(v,x)});let h=0;return e.forEach(m=>Ug(m,a[h++])),u}function CS(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=new Set(t),a=new Map;function u(h){if(!h)return 1;let m=a.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:i.has(v)?1:u(v),a.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}function eo(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Sd(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function r0(n,t,e){Hl(e).onDone(()=>n.processLeaveNode(t))}function o0(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof vC?o0(r.players,t):t.push(r)}}function Ly(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(a=>i.add(a)):t.set(n,r),e.delete(n),!0}class Hg{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new t0(t,e,r),this._timelineEngine=new _S(t,e,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(t,e,r,i,a){const u=t+"-"+i;let h=this._triggerCache[u];if(!h){const m=[],x=Xs(this._driver,a,m,[]);if(m.length)throw function TC(n,t){return new s.vHH(3404,dn)}();h=function QC(n,t,e){return new JC(n,t,e)}(i,x,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,i,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[a,u]=ZA(r);this._timelineEngine.command(a,e,u,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,a){if("@"==r.charAt(0)){const[u,h]=ZA(r);return this._timelineEngine.listen(u,e,h,a)}return this._transitionEngine.listen(t,e,r,i,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let l0=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nl(this._element,this._initialStyles),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($l(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($l(this._element,this._endStyles),this._endStyles=null),nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function By(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];c0(i)&&(t=t||{},t[i]=n[i])}return t}function c0(n){return"display"===n||"position"===n}class Vy{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:BC(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class u0{validateStyleProperty(t){return kC(t)}matchesElement(t,e){return!1}containsElement(t,e){return OC(t,e)}getParentElement(t){return jl(t)}query(t,e,r){return FC(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,a,u=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const v={},x=u.filter(O=>O instanceof Vy);(function nS(n,t){return 0===n||0===t})(r,i)&&x.forEach(O=>{let U=O.currentSnapshot;Object.keys(U).forEach(W=>v[W]=U[W])}),e=function rS(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let a=t[0],u=[];if(r.forEach(h=>{a.hasOwnProperty(h)||u.push(h),a[h]=e[h]}),u.length)for(var i=1;i<t.length;i++){let h=t[i];u.forEach(function(m){h[m]=BC(n,m)})}}return t}(t,e=e.map(O=>Hc(O,!1)),v);const A=function ES(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=By(t[0]),t.length>1&&(r=By(t[t.length-1]))):t&&(e=By(t)),e||r?new l0(n,e,r):null}(t,e);return new Vy(t,e,m,A)}}let d0=(()=>{class n extends _C{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?pf(e):e;return TS(this._renderer,null,r,"register",[i]),new DS(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class DS extends class i1{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xS(this._id,t,e||{},this._renderer)}}class xS{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function TS(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const AS="@.disabled";let g1=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const h=null==u?void 0:u.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(e,r){const a=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(a);return x||(x=new SS("",a,this.engine),this._rendererCache.set(a,x)),x}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(u,h,e,x.name,x)};return r.data.animation.forEach(m),new m1(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Hg),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class SS{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==AS?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class m1 extends SS{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==AS?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function _1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function y1(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(t,e,r)}}let v1=(()=>{class n extends Hg{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(vf),s.LFG(Lg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Qr=new s.OlP("AnimationModuleType"),Uy=[{provide:_C,useClass:d0},{provide:Lg,useFactory:function b1(){return new WC}},{provide:Hg,useClass:v1},{provide:s.FYo,useFactory:function jg(n,t,e){return new g1(n,t,e)},deps:[Rn,Hg,s.R0b]}],$g=[{provide:vf,useFactory:()=>new u0},{provide:Qr,useValue:"BrowserAnimations"},...Uy],h0=[{provide:vf,useClass:wy},{provide:Qr,useValue:"NoopAnimations"},...Uy];let f0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?h0:$g}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:$g,imports:[zs]}),n})();const _0=new s.GfV("12.2.13"),x1=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function D1(){return!0}});let Wc,jn=(()=>{class n{constructor(e,r,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,s.X6Q)()||function aA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&_0.full!==mC.full&&console.warn("The Angular Material version ("+_0.full+") does not match the Angular CDK version ("+mC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pC),s.LFG(x1,8),s.LFG(ae))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[bd],bd]}),n})();function Id(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ft(t)}}}function Ff(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function qc(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ft(t)}}}function MS(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new at.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}try{Wc="undefined"!=typeof Intl}catch(n){Wc=!1}let $y=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Pf(n,t,e){const r=n.nativeElement.classList;e?r.add(t):r.remove(t)}let D0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn],jn]}),n})();class VS{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zy={enterDuration:225,exitDuration:150},qy=fd({passive:!0}),GS=["mousedown","touchstart"],zg=["mouseup","mouseleave","touchend","touchcancel"];class Wy{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=wa(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},zy),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const u=r.radius||function jS(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),h=t-i.left,m=e-i.top,v=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-u+"px",x.style.top=m-u+"px",x.style.height=2*u+"px",x.style.width=2*u+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x),function HS(n){window.getComputedStyle(n).getPropertyValue("opacity")}(x),x.style.transform="scale(1)";const A=new VS(this,x,r);return A.state=0,this._activeRipples.add(A),r.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const O=A===this._mostRecentTransientRipple;A.state=1,!r.persistent&&(!O||!this._isPointerDown)&&A.fadeOut()},v),A}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,i=Object.assign(Object.assign({},zy),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=wa(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(GS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zg),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=iy(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,qy)})})}_removeTriggerEvents(){this._triggerElement&&(GS.forEach(t=>{this._triggerElement.removeEventListener(t,this,qy)}),this._pointerUpEventsRegistered&&zg.forEach(t=>{this._triggerElement.removeEventListener(t,this,qy)}))}}const qg=new s.OlP("mat-ripple-global-options");let Bo=(()=>{class n{constructor(e,r,i,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Wy(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(On),s.Y36(qg,8),s.Y36(Qr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),Rd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Bc],jn]}),n})(),Zy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();const S1=["*",[["mat-toolbar-row"]]],I1=["*","mat-toolbar-row"],YS=Ff(class{constructor(n){this._elementRef=n}});let Wg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),ZS=(()=>{class n extends YS{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(On),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&s.Suo(i,Wg,5),2&e){let a;s.iGM(a=s.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&s.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:I1,decls:2,vars:0,template:function(e,r){1&e&&(s.F$t(S1),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),S0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn],jn]}),n})();var Yc=N(7830);function Qy(...n){if(1===n.length){const t=n[0];if((0,aa.k)(t))return kd(t,null);if((0,Yc.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return kd(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return kd(n=1===n.length&&(0,aa.k)(n[0])?n[0]:n,null).pipe((0,ht.U)(e=>t(...e)))}return kd(n,null)}function kd(n,t){return new Bn.y(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let a=0,u=0;for(let h=0;h<r;h++){const m=(0,yn.D)(n[h]);let v=!1;e.add(m.subscribe({next:x=>{v||(v=!0,u++),i[h]=x},error:x=>e.error(x),complete:()=>{a++,(a===r||!v)&&(u===r&&e.next(t?t.reduce((x,A,O)=>(x[A]=i[O],x),{}):i),e.complete())}}))}})}var Jy=N(2474);class I0{}class Yg{}class Vo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),a=i.toLowerCase(),u=e.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Vo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Vo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Vo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===a.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Zg{encodeKey(t){return KS(t)}encodeValue(t){return KS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const k1=/%(\d[a-f0-9])/gi,O1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function KS(n){return encodeURIComponent(n).replace(k1,(t,e)=>{var r;return null!==(r=O1[e])&&void 0!==r?r:t})}function Xy(n){return`${n}`}class Wl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R1(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,h]=-1==a?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,a)),t.decodeValue(i.slice(a+1))],m=e.get(u)||[];m.push(h),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(a=>{e.push({param:r,value:a,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Xy(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Xy(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class QS{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ev(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function tv(n){return"undefined"!=typeof Blob&&n instanceof Blob}function nv(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Lf{constructor(t,e,r,i){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function JS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Vo),this.context||(this.context=new QS),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Wl,this.urlWithParams=e}serializeBody(){return null===this.body?null:ev(this.body)||tv(this.body)||nv(this.body)||function XS(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nv(this.body)?null:tv(this.body)?this.body.type||null:ev(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,x=t.params||this.params;const A=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((O,U)=>O.set(U,t.setHeaders[U]),v)),t.setParams&&(x=Object.keys(t.setParams).reduce((O,U)=>O.set(U,t.setParams[U]),x)),new Lf(r,i,u,{params:x,headers:v,context:A,reportProgress:m,responseType:a,withCredentials:h})}}var Cr=(()=>((Cr=Cr||{})[Cr.Sent=0]="Sent",Cr[Cr.UploadProgress=1]="UploadProgress",Cr[Cr.ResponseHeader=2]="ResponseHeader",Cr[Cr.DownloadProgress=3]="DownloadProgress",Cr[Cr.Response=4]="Response",Cr[Cr.User=5]="User",Cr))();class Bf{constructor(t,e=200,r="OK"){this.headers=t.headers||new Vo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class M0 extends Bf{constructor(t={}){super(t),this.type=Cr.ResponseHeader}clone(t={}){return new M0({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vf extends Bf{constructor(t={}){super(t),this.type=Cr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kg extends Bf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function rv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qg=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let a;if(e instanceof Lf)a=e;else{let m,v;m=i.headers instanceof Vo?i.headers:new Vo(i.headers),i.params&&(v=i.params instanceof Wl?i.params:new Wl({fromObject:i.params})),a=new Lf(e,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,Ye.of)(a).pipe(Ga(m=>this.handler.handle(m)));if(e instanceof Lf||"events"===i.observe)return u;const h=u.pipe(vn(m=>m instanceof Vf));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,ht.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Wl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,rv(i,r))}post(e,r,i={}){return this.request("POST",e,rv(i,r))}put(e,r,i={}){return this.request("PUT",e,rv(i,r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(I0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class eI{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const tI=new s.OlP("HTTP_INTERCEPTORS");let nI=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const L1=/^\)\]\}',?\n/;let rI=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bn.y(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((U,W)=>i.setRequestHeader(U,W.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const U=e.detectContentTypeHeader();null!==U&&i.setRequestHeader("Content-Type",U)}if(e.responseType){const U=e.responseType.toLowerCase();i.responseType="json"!==U?U:"text"}const a=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const U=i.statusText||"OK",W=new Vo(i.getAllResponseHeaders()),re=function B1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return u=new M0({headers:W,status:i.status,statusText:U,url:re}),u},m=()=>{let{headers:U,status:W,statusText:re,url:ve}=h(),ke=null;204!==W&&(ke=void 0===i.response?i.responseText:i.response),0===W&&(W=ke?200:0);let Ze=W>=200&&W<300;if("json"===e.responseType&&"string"==typeof ke){const et=ke;ke=ke.replace(L1,"");try{ke=""!==ke?JSON.parse(ke):null}catch(ze){ke=et,Ze&&(Ze=!1,ke={error:ze,text:ke})}}Ze?(r.next(new Vf({body:ke,headers:U,status:W,statusText:re,url:ve||void 0})),r.complete()):r.error(new Kg({error:ke,headers:U,status:W,statusText:re,url:ve||void 0}))},v=U=>{const{url:W}=h(),re=new Kg({error:U,status:i.status||0,statusText:i.statusText||"Unknown Error",url:W||void 0});r.error(re)};let x=!1;const A=U=>{x||(r.next(h()),x=!0);let W={type:Cr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(W.total=U.total),"text"===e.responseType&&!!i.responseText&&(W.partialText=i.responseText),r.next(W)},O=U=>{let W={type:Cr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(W.total=U.total),r.next(W)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),e.reportProgress&&(i.addEventListener("progress",A),null!==a&&i.upload&&i.upload.addEventListener("progress",O)),i.send(a),r.next({type:Cr.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),e.reportProgress&&(i.removeEventListener("progress",A),null!==a&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const o=new s.OlP("XSRF_COOKIE_NAME"),l=new s.OlP("XSRF_HEADER_NAME");class c{}let d=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ta(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(s.Lbi),s.LFG(o))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),f=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(c),s.LFG(l))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),p=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(tI,[]);this.chain=r.reduceRight((i,a)=>new eI(i,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yg),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),E=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:f,useClass:nI}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:o,useValue:e.cookieName}:[],e.headerName?{provide:l,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[f,{provide:tI,useExisting:f,multi:!0},{provide:c,useClass:d},{provide:o,useValue:"XSRF-TOKEN"},{provide:l,useValue:"X-XSRF-TOKEN"}]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qg,{provide:I0,useClass:p},rI,{provide:Yg,useExisting:rI}],imports:[[E.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Y=["*"];function te(n){return Error(`Unable to find icon with the name "${n}"`)}function Pe(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function He(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Xe{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Ie=(()=>{class n{constructor(e,r,i,a){this._httpClient=e,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,a){return this._addSvgIconConfig(e,r,new Xe(i,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,a){const u=this._sanitizer.sanitize(s.q3G.HTML,i);if(!u)throw He(i);return this._addSvgIconConfig(e,r,new Xe("",u,a))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Xe(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw He(r);return this._addSvgIconSetConfig(e,new Xe("",a,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!r)throw Pe(e);const i=this._cachedIconsByUrl.get(r);return i?(0,Ye.of)(wn(i)):this._loadSvgIconFromConfig(new Xe(e,null)).pipe((0,on.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,ht.U)(a=>wn(a)))}getNamedSvgIcon(e,r=""){const i=os(r,e);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,e),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(e,u):(0,ai._)(te(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ye.of)(wn(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ht.U)(r=>wn(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?(0,Ye.of)(i):Qy(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Vr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,Ye.of)(null)})))).pipe((0,ht.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,r);if(!u)throw te(e);return u}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.indexOf(e)>-1){const u=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(u,e,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,on.b)(r=>e.svgText=r),(0,ht.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ye.of)(null):this._fetchIcon(e).pipe((0,on.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const a=e.querySelector(`[id="${r}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString("<svg></svg>");return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let a=0;a<i.length;a++){const{name:u,value:h}=i[a];"id"!==u&&r.setAttribute(u,h)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:i,options:a}=e,u=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function De(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!h)throw Pe(i);const m=this._inProgressUrlFetches.get(h);if(m)return m;const v=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe(wo(()=>this._inProgressUrlFetches.delete(h)),(0,Jy.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(os(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,e);if(a)return Zc(a)?new Xe(a.url,null,a.options):new Xe(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qg,8),s.LFG(Bi),s.LFG(ae,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(Qg,8),s.LFG(Bi),s.LFG(ae,8),s.LFG(s.qLn))},token:n,providedIn:"root"}),n})();function wn(n){return n.cloneNode(!0)}function os(n,t){return n+":"+t}function Zc(n){return!(!n.url||!n.options)}const iv=Ff(class{constructor(n){this._elementRef=n}}),sv=new s.OlP("mat-icon-location",{providedIn:"root",factory:function ov(){const n=(0,s.f3M)(ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Jg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],av=n=>`[${n}]`,lv=Jg.map(av).join(", "),cv=/^url\(['"]?#(.*?)['"]?\)$/;let uv=(()=>{class n extends iv{constructor(e,r,i,a,u){super(e),this._iconRegistry=r,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Ur.w.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ft(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let a=0;a<r.length;a++)r[a].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(lv),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)Jg.forEach(u=>{const h=r[a],m=h.getAttribute(u),v=m?m.match(cv):null;if(v){let x=i.get(h);x||(x=[],i.set(h,x)),x.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(wi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ie),s.$8M("aria-hidden"),s.Y36(sv),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(s.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),s.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Y,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn],jn]}),n})();const V1=["mat-button",""],U1=["*"],G1=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",BH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],VH=Ff(Id(qc(class{constructor(n){this._elementRef=n}})));let R0=(()=>{class n extends VH{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of BH)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vl),s.Y36(Qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&s.Gf(Bo,5),2&e){let i;s.iGM(i=s.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:V1,ngContentSelectors:U1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Bo],styles:[G1],encapsulation:2,changeDetection:0}),n})(),UH=(()=>{class n extends R0{constructor(e,r,i){super(r,e,i)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vl),s.Y36(s.SBq),s.Y36(Qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){1&e&&s.NdJ("click",function(a){return r._haltDisabledEvents(a)}),2&e&&(s.uIk("tabindex",r.disabled?-1:r.tabIndex||0)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:V1,ngContentSelectors:U1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Bo],styles:[G1],encapsulation:2,changeDetection:0}),n})(),GH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Rd,jn],jn]}),n})();var HH=N(7043);function Kc(n,t,e,r){return(0,HH.m)(e)&&(r=e,e=void 0),r?Kc(n,t,e).pipe((0,ht.U)(i=>(0,aa.k)(i)?r(...i):r(i))):new Bn.y(i=>{H1(n,t,function a(u){i.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},i,e)})}function H1(n,t,e,r,i){let a;if(function zH(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,i),a=()=>u.removeEventListener(t,e,i)}else if(function $H(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),a=()=>u.off(t,e)}else if(function jH(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),a=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,h=n.length;u<h;u++)H1(n[u],t,e,r,i)}r.add(a)}var qH=N(6686),YH=N(2268);new class ZH extends YH.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,a=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<a&&(t=e.shift()));if(this.active=!1,r){for(;++i<a&&(t=e.shift());)t.unsubscribe();throw r}}}(class WH extends qH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});N(8139);class XH{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ej(t,this.durationSelector))}}class ej extends Zr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:i}=this;e=i(t)}catch(i){return this.destination.error(i)}const r=(0,Zr.ft)(e,new Zr.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var j1=N(4241);function tj(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function k0(n,t=ud.P){return function JH(n){return function(e){return e.lift(new XH(n))}}(()=>function $1(n=0,t,e){let r=-1;return(0,j1.k)(t)?r=Number(t)<1?1:Number(t):(0,bi.K)(t)&&(e=t),(0,bi.K)(e)||(e=ud.P),new Bn.y(i=>{const a=(0,j1.k)(n)?n:+n-e.now();return e.schedule(tj,a,{index:0,period:r,subscriber:i})})}(n,t))}function O0(){return n=>n.lift(new nj)}class nj{call(t,e){return e.subscribe(new rj(t))}}class rj extends cn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}let N0=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new at.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(k0(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ye.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(vn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=wa(r),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(On),s.LFG(ae,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.R0b),s.LFG(On),s.LFG(ae,8))},token:n,providedIn:"root"}),n})(),Xg=(()=>{class n{constructor(e,r,i,a){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new at.xQ,this._elementScrolled=new Bn.y(u=>this.ngZone.runOutsideAngular(()=>Kc(this.elementRef.nativeElement,"scroll").pipe(tn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=pd()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==pd()?e.left=e.right:1==pd()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function rC(){if(null==Bl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bl=!1,Bl;if("scrollBehavior"in document.documentElement.style)Bl=!0;else{const n=Element.prototype.scrollTo;Bl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Bl}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?i:r:"end"==e&&(e=u?r:i),u&&2==pd()?e==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==pd()?e==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(N0),s.Y36(s.R0b),s.Y36(xi,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Od=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new at.xQ,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(k0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b),s.LFG(ae,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(On),s.LFG(s.R0b),s.LFG(ae,8))},token:n,providedIn:"root"}),n})(),P0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[bd,Bc,P0],bd,P0]}),n})();function Z1(n){return t=>t.lift(new mj(n))}class mj{constructor(t){this.value=t}call(t,e){return e.subscribe(new _j(t,this.value))}}class _j extends cn.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const L0=["*"];function yj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function vj(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const bj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wj=["mat-drawer","mat-drawer-content","*"];function Cj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Ej(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content",3),s.Hsn(1,2),s.qZA())}const Dj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],xj=["mat-sidenav","mat-sidenav-content","*"],K1=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Q1={transformDrawer:yC("transform",[wd("open, open-instant",Po({transform:"none",visibility:"visible"})),wd("void",Po({"box-shadow":"none",visibility:"hidden"})),Ca("void => open-instant",ff("0ms")),Ca("void <=> open, open-instant => void",ff("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Tj=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Aj(){return!1}}),oI=new s.OlP("MAT_DRAWER_CONTAINER");let B0=(()=>{class n extends Xg{constructor(e,r,i,a,u){super(i,a,u),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>X1)),s.Y36(s.SBq),s.Y36(N0),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&s.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[s.qOj],ngContentSelectors:L0,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),J1=(()=>{class n{constructor(e,r,i,a,u,h,m){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=a,this._ngZone=u,this._doc=h,this._container=m,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new at.xQ,this._animationEnd=new at.xQ,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(vn(v=>v),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(vn(v=>v.fromState!==v.toState&&0===v.toState.indexOf("open")),Z1(void 0)),this._closedStream=this.openedChange.pipe(vn(v=>!v),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(vn(v=>v.fromState!==v.toState&&"void"===v.toState),Z1(void 0)),this._destroyed=new at.xQ,this.onPositionChanged=new s.vpe,this._modeChanged=new at.xQ,this.openedChange.subscribe(v=>{v?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Kc(this._elementRef.nativeElement,"keydown").pipe(vn(v=>27===v.keyCode&&!this.disableClose&&!function Pl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(v)),tn(this._destroyed)).subscribe(v=>this._ngZone.run(()=>{this.close(),v.stopPropagation(),v.preventDefault()}))}),this._animationEnd.pipe(dd((v,x)=>v.fromState===x.fromState&&v.toState===x.toState)).subscribe(v=>{const{fromState:x,toState:A}=v;(0===A.indexOf("open")&&"void"===x||"void"===A&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ft(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Ft(e)}get opened(){return this._opened}set opened(e){this.toggle(Ft(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const r=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,r){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),r)}_setOpen(e,r,i="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",r&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(wi(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(cC),s.Y36(Vl),s.Y36(On),s.Y36(s.R0b),s.Y36(ae,8),s.Y36(oI,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&s.WFA("@transform.start",function(a){return r._animationStartListener(a)})("@transform.done",function(a){return r._animationDoneListener(a)}),2&e&&(s.uIk("align",null),s.d8E("@transform",r._animationState),s.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:L0,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},directives:[Xg],encapsulation:2,data:{animation:[Q1.transformDrawer]},changeDetection:0}),n})(),X1=(()=>{class n{constructor(e,r,i,a,u,h=!1,m){this._dir=e,this._element=r,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new at.xQ,this._doCheckSubject=new at.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new at.xQ,e&&e.change.pipe(tn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(tn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ft(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Ft(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Zn(this._allDrawers),tn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Zn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(xs(10),tn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,e-=i}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(vn(r=>r.fromState!==r.toState),tn(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(tn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(tn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(wi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(tn((0,va.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Od),s.Y36(Tj),s.Y36(Qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,B0,5),s.Suo(i,J1,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._content=a.first),s.iGM(a=s.CRH())&&(r._allDrawers=a)}},viewQuery:function(e,r){if(1&e&&s.Gf(B0,5),2&e){let i;s.iGM(i=s.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:oI,useExisting:n}])],ngContentSelectors:wj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(s.F$t(bj),s.YNc(0,yj,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,vj,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",r.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!r._content))},directives:[kn,B0],styles:[K1],encapsulation:2,changeDetection:0}),n})(),aI=(()=>{class n extends B0{constructor(e,r,i,a,u){super(e,r,i,a,u)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>tN)),s.Y36(s.SBq),s.Y36(N0),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,r){2&e&&s.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[s.qOj],ngContentSelectors:L0,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),eN=(()=>{class n extends J1{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ft(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ts(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ts(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,r){2&e&&(s.uIk("align",null),s.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:L0,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},directives:[Xg],encapsulation:2,data:{animation:[Q1.transformDrawer]},changeDetection:0}),n})(),tN=(()=>{class n extends X1{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,aI,5),s.Suo(i,eN,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._content=a.first),s.iGM(a=s.CRH())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:oI,useExisting:n}]),s.qOj],ngContentSelectors:xj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,r){1&e&&(s.F$t(Dj),s.YNc(0,Cj,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,Ej,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",r.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!r._content))},directives:[kn,aI,Xg],styles:[K1],encapsulation:2,changeDetection:0}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oo,jn,Bc,P0],P0,jn]}),n})(),nN=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Gf=(()=>{class n extends nN{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const rl=new s.OlP("NgValueAccessor"),Mj={provide:rl,useExisting:(0,s.Gpc)(()=>hv),multi:!0},kj=new s.OlP("CompositionEventMode");let hv=(()=>{class n extends nN{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rj(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(kj,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([Mj]),s.qOj]}),n})();function Fd(n){return null==n||0===n.length}function iN(n){return null!=n&&"number"==typeof n.length}const as=new s.OlP("NgValidators"),Nd=new s.OlP("NgAsyncValidators"),Oj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pd{static min(t){return function sN(n){return t=>{if(Fd(t.value)||Fd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function oN(n){return t=>{if(Fd(t.value)||Fd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function aN(n){return Fd(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function lN(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function cN(n){return Fd(n.value)||Oj.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function uN(n){return t=>Fd(t.value)||!iN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function dN(n){return t=>iN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function hN(n){if(!n)return V0;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Fd(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return yN(t)}static composeAsync(t){return vN(t)}}function V0(n){return null}function fN(n){return null!=n}function pN(n){const t=(0,s.QGY)(n)?(0,yn.D)(n):n;return(0,s.CqO)(t),t}function gN(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function mN(n,t){return t.map(e=>e(n))}function _N(n){return n.map(t=>function Fj(n){return!n.validate}(t)?t:e=>t.validate(e))}function yN(n){if(!n)return null;const t=n.filter(fN);return 0==t.length?null:function(e){return gN(mN(e,t))}}function lI(n){return null!=n?yN(_N(n)):null}function vN(n){if(!n)return null;const t=n.filter(fN);return 0==t.length?null:function(e){return Qy(mN(e,t).map(pN)).pipe((0,ht.U)(gN))}}function cI(n){return null!=n?vN(_N(n)):null}function bN(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wN(n){return n._rawValidators}function CN(n){return n._rawAsyncValidators}function uI(n){return n?Array.isArray(n)?n:[n]:[]}function U0(n,t){return Array.isArray(n)?n.includes(t):n===t}function EN(n,t){const e=uI(t);return uI(n).forEach(i=>{U0(e,i)||e.push(i)}),e}function DN(n,t){return uI(t).filter(e=>!U0(n,e))}class xN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qc extends xN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends xN{get formDirective(){return null}get path(){return null}}class TN{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let dI=(()=>{class n extends TN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qc,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[s.qOj]}),n})(),hI=(()=>{class n extends TN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Is,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[s.qOj]}),n})();function fv(n,t){gI(n,t),t.valueAccessor.writeValue(n.value),function Hj(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SN(n,t)})}(n,t),function $j(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function jj(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SN(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Gj(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function j0(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),z0(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gI(n,t){const e=wN(n);null!==t.validator?n.setValidators(bN(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=CN(n);null!==t.asyncValidator?n.setAsyncValidators(bN(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$0(t._rawValidators,i),$0(t._rawAsyncValidators,i)}function z0(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=wN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.validator);a.length!==i.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const i=CN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.asyncValidator);a.length!==i.length&&(e=!0,n.setAsyncValidators(a))}}}const r=()=>{};return $0(t._rawValidators,r),$0(t._rawAsyncValidators,r),e}function SN(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IN(n,t){gI(n,t)}function RN(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const pv="VALID",q0="INVALID",em="PENDING",gv="DISABLED";function bI(n){return(W0(n)?n.validators:n)||null}function kN(n){return Array.isArray(n)?lI(n):n||null}function wI(n,t){return(W0(t)?t.asyncValidators:n)||null}function ON(n){return Array.isArray(n)?cI(n):n||null}function W0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const FN=n=>n instanceof Ld,CI=n=>n instanceof mv;function NN(n){return FN(n)?n.value:n.getRawValue()}function PN(n,t){const e=CI(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")}function LN(n,t){CI(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})}class EI{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=kN(this._rawValidators),this._composedAsyncValidatorFn=ON(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===pv}get invalid(){return this.status===q0}get pending(){return this.status==em}get disabled(){return this.status===gv}get enabled(){return this.status!==gv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=kN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ON(t)}addValidators(t){this.setValidators(EN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(EN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(DN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(DN(t,this._rawAsyncValidators))}hasValidator(t){return U0(this._rawValidators,t)}hasAsyncValidator(t){return U0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=em,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gv,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pv,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pv||this.status===em)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gv:pv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=em,this._hasOwnPendingAsyncValidator=!0;const e=pN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Yj(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=CI(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Kj)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?gv:this.errors?q0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(em)?em:this._anyControlsHaveStatus(q0)?q0:pv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){W0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ld extends EI{constructor(t=null,e,r){super(bI(e),wI(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W0(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class mv extends EI{constructor(t,e,r){super(bI(e),wI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){LN(this,t),Object.keys(t).forEach(r=>{PN(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=NN(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Kj extends EI{constructor(t,e,r){super(bI(e),wI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){LN(this,t),t.forEach((r,i)=>{PN(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>NN(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Qj={provide:Is,useExisting:(0,s.Gpc)(()=>Y0)},_v=(()=>Promise.resolve(null))();let Y0=(()=>{class n extends Is{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new mv({},lI(e),cI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_v.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),fv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_v.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_v.then(()=>{const r=this._findContainer(e.path),i=new mv({});IN(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_v.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){_v.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,RN(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(as,10),s.Y36(Nd,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Qj]),s.qOj]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),jN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const xI=new s.OlP("NgModelWithFormControlWarning"),s3={provide:Is,useExisting:(0,s.Gpc)(()=>tm)};let tm=(()=>{class n extends Is{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(z0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return fv(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){j0(e.control||null,e,!1),yI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,RN(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(j0(r||null,e),FN(i)&&(fv(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);IN(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function zj(n,t){return z0(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gI(this.form,this),this._oldForm&&z0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(as,10),s.Y36(Nd,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([s3]),s.qOj,s.TTD]}),n})();const l3={provide:Qc,useExisting:(0,s.Gpc)(()=>Z0)};let Z0=(()=>{class n extends Qc{constructor(e,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function _I(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===hv?e=a:function Wj(n){return Object.getPrototypeOf(n.constructor)===Gf}(a)?r=a:i=a}),i||r||e||null}(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function mI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function H0(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Is,13),s.Y36(as,10),s.Y36(Nd,10),s.Y36(rl,10),s.Y36(xI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([l3]),s.qOj,s.TTD]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jN]]}),n})(),x3=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[D3]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn],jn]}),n})();const RI=["*"],A3=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],S3=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],sP=Id(qc(class{})),O3=qc(class{}),oP=new s.OlP("MatList"),aP=new s.OlP("MatNavList");let F3=(()=>{class n extends sP{constructor(){super(...arguments),this._stateChanges=new at.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s._Bn([{provide:aP,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:RI,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),N3=(()=>{class n extends O3{constructor(e,r,i,a){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new at.xQ,this._disabled=!1,this._isInteractiveList=!!(i||a&&"action-list"===a._getListType()),this._list=i||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(tn(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Ft(e)}ngAfterContentInit(){!function BS(n,t,e="mat"){n.changes.pipe(Zn(n)).subscribe(({length:r})=>{Pf(t,`${e}-2-line`,!1),Pf(t,`${e}-3-line`,!1),Pf(t,`${e}-multi-line`,!1),2===r||3===r?Pf(t,`${e}-${r}-line`,!0):r>3&&Pf(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(aP,8),s.Y36(oP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,lP,5),s.Suo(i,cP,5),s.Suo(i,E0,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._avatar=a.first),s.iGM(a=s.CRH())&&(r._icon=a.first),s.iGM(a=s.CRH())&&(r._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,r){2&e&&s.ekj("mat-list-item-disabled",r.disabled)("mat-list-item-avatar",r._avatar||r._icon)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:S3,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,r){1&e&&(s.F$t(A3),s.TgZ(0,"div",0),s._UZ(1,"div",1),s.Hsn(2),s.TgZ(3,"div",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},directives:[Bo],encapsulation:2,changeDetection:0}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[D0,Rd,jn,Zy,oo],D0,jn,Zy,T3]}),n})();function H3(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"a",12),s.NdJ("click",function(){return s.CHM(e),s.oxw().logout()}),s._uU(2,"Logout"),s.qZA(),s.BQk()}}function j3(n,t){1&n&&(s.TgZ(0,"a",13),s._uU(1,"Login"),s.qZA())}let yv=(()=>{class n{constructor(e,r){this.authService=e,this.router=r,this.save=new s.vpe}onSave(e){this.save.emit(e)}ngOnInit(){this.authService.isUserLoggedIn().subscribe(e=>{this.loggedInUser=e,console.log(this.loggedInUser)},e=>{console.error(e)})}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fl),s.Y36(rr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],inputs:{variable:"variable"},outputs:{save:"save"},decls:28,vars:2,consts:[[3,"click"],[1,"spacer"],[4,"ngIf","ngIfElse"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/cart"],["mat-button","","routerLink","/aboutus"],["asdasd",""],["sidenav",""],["mat-list-item","",3,"click"],["value","trousers","mat-list-item","",3,"click"],["value","jacket","mat-list-item","",3,"click"],["value","shoes","mat-list-item","",3,"click"],["mat-button","",3,"click"],["mat-button","","routerLink","/login"]],template:function(e,r){if(1&e){const i=s.EpF();s.TgZ(0,"mat-toolbar")(1,"mat-icon",0),s.NdJ("click",function(){return s.CHM(i),s.MAs(15).toggle()}),s._uU(2,"menu"),s.qZA(),s._UZ(3,"div",1),s.YNc(4,H3,3,0,"ng-container",2),s.TgZ(5,"a",3),s._uU(6,"Home"),s.qZA(),s.TgZ(7,"a",4),s._uU(8,"Cart"),s.qZA(),s.TgZ(9,"a",5),s._uU(10,"About Us"),s.qZA(),s.YNc(11,j3,2,0,"ng-template",null,6,s.W1O),s.qZA(),s.TgZ(13,"mat-sidenav-container")(14,"mat-sidenav",null,7)(16,"mat-nav-list")(17,"a",8),s.NdJ("click",function(){return r.onSave("P\xf3l\xf3")}),s._uU(18,"P\xf3l\xf3"),s.qZA(),s.TgZ(19,"a",8),s.NdJ("click",function(){return r.onSave("Farmer")}),s._uU(20,"Farmer"),s.qZA(),s.TgZ(21,"a",9),s.NdJ("click",function(){return r.onSave("Nadr\xe1g")}),s._uU(22,"Nadr\xe1g"),s.qZA(),s.TgZ(23,"a",10),s.NdJ("click",function(){return r.onSave("Dzseki")}),s._uU(24,"Dzseki"),s.qZA(),s.TgZ(25,"a",11),s.NdJ("click",function(){return r.onSave("Cip\u0151")}),s._uU(26,"Cip\u0151"),s.qZA()()(),s._UZ(27,"mat-sidenav-content"),s.qZA()}if(2&e){const i=s.MAs(12);s.xp6(4),s.Q6J("ngIf",r.loggedInUser)("ngIfElse",i)}},directives:[ZS,uv,kn,UH,Il,tN,eN,F3,N3,aI],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{background-color:#fff0;position:fixed;top:0;z-index:10}mat-sidenav-container[_ngcontent-%COMP%]{padding-top:70px}mat-sidenav[_ngcontent-%COMP%]{position:fixed;width:250px}mat-nav-list[_ngcontent-%COMP%]{padding-top:70px}"]}),n})();const $3=["*",[["mat-card-footer"]]],z3=["*","mat-card-footer"],q3=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],W3=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let dP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),K3=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),hP=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:z3,decls:2,vars:0,template:function(e,r){1&e&&(s.F$t($3),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:W3,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,r){1&e&&(s.F$t(q3),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn],jn]}),n})();const e$=["*"];let t$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-us"]],ngContentSelectors:e$,decls:7,vars:0,consts:[[1,"main_component","div-flex"],[1,"div-flex"]],template:function(e,r){1&e&&(s.F$t(),s._UZ(0,"app-navbar"),s.Hsn(1),s.TgZ(2,"div",0)(3,"mat-card",1),s._UZ(4,"mat-card-header"),s.TgZ(5,"mat-card-content"),s._uU(6," Under developing.. "),s.qZA()()())},directives:[yv,hP,J3,dP],styles:["mat-card[_ngcontent-%COMP%]{width:80%;height:80%;align-self:center}mat-card-header[_ngcontent-%COMP%]{display:initial}.div-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;height:80%}.main_component[_ngcontent-%COMP%]{height:100vh}"]}),n})();N(5881);var st,fP=N(3942),n$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jc={},OI=OI||{},jt=n$||self;function K0(){}function FI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function vv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var NI="closure_uid_"+(1e9*Math.random()>>>0),i$=0;function s$(n,t,e){return n.call.apply(n.bind,arguments)}function o$(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function Gi(n,t,e){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s$:o$).apply(null,arguments)}function Q0(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[i].apply(r,u)}}function Bd(){this.s=this.s,this.o=this.o}var l$={};Bd.prototype.s=!1,Bd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function r$(n){return Object.prototype.hasOwnProperty.call(n,NI)&&n[NI]||(n[NI]=++i$)}(this);delete l$[n]}},Bd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pP=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},gP=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&t.call(e,i[a],a,n)};function mP(n){return Array.prototype.concat.apply([],arguments)}function PI(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function J0(n){return/^[\s\xa0]*$/.test(n)}var Rs,_P=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ms(n,t){return-1!=n.indexOf(t)}function LI(n,t){return n<t?-1:n>t?1:0}e:{var yP=jt.navigator;if(yP){var vP=yP.userAgent;if(vP){Rs=vP;break e}}Rs=""}function BI(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function bP(n){const t={};for(const e in n)t[e]=n[e];return t}var wP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CP(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let a=0;a<wP.length;a++)e=wP[a],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function VI(n){return VI[" "](n),n}VI[" "]=K0;var X0,n,d$=Ms(Rs,"Opera"),nm=Ms(Rs,"Trident")||Ms(Rs,"MSIE"),EP=Ms(Rs,"Edge"),UI=EP||nm,DP=Ms(Rs,"Gecko")&&!(Ms(Rs.toLowerCase(),"webkit")&&!Ms(Rs,"Edge"))&&!(Ms(Rs,"Trident")||Ms(Rs,"MSIE"))&&!Ms(Rs,"Edge"),h$=Ms(Rs.toLowerCase(),"webkit")&&!Ms(Rs,"Edge");function xP(){var n=jt.document;return n?n.documentMode:void 0}e:{var GI="",HI=(n=Rs,DP?/rv:([^\);]+)(\)|;)/.exec(n):EP?/Edge\/([\d\.]+)/.exec(n):nm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):h$?/WebKit\/(\S+)/.exec(n):d$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HI&&(GI=HI?HI[1]:""),nm){var jI=xP();if(null!=jI&&jI>parseFloat(GI)){X0=String(jI);break e}}X0=GI}var f$={};var g$=jt.document&&nm&&(xP()||parseInt(X0,10))||void 0,m$=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",K0,t),jt.removeEventListener("test",K0,t)}catch(e){}return n}();function ls(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function bv(n,t){if(ls.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(DP){e:{try{VI(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bv.Z.h.call(this)}}ls.prototype.h=function(){this.defaultPrevented=!0},Hi(bv,ls);var _$={2:"touch",3:"pen",4:"mouse"};bv.prototype.h=function(){bv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wv="closure_listenable_"+(1e6*Math.random()|0),y$=0;function v$(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++y$,this.ca=this.fa=!1}function eE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function tE(n){this.src=n,this.g={},this.h=0}function zI(n,t){var e=t.type;if(e in n.g){var a,r=n.g[e],i=pP(r,t);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(eE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function qI(n,t,e,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==r)return i}return-1}tE.prototype.add=function(n,t,e,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=qI(n,t,r,i);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new v$(t,this.src,a,!!r,i)).fa=e,n.push(t)),t};var WI="closure_lm_"+(1e6*Math.random()|0),YI={};function AP(n,t,e,r,i){if(r&&r.once)return IP(n,t,e,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)AP(n,t[a],e,r,i);return null}return e=JI(e),n&&n[wv]?n.N(t,e,vv(r)?!!r.capture:!!r,i):SP(n,t,e,!1,r,i)}function SP(n,t,e,r,i,a){if(!t)throw Error("Invalid event type");var u=vv(i)?!!i.capture:!!i,h=KI(n);if(h||(n[WI]=h=new tE(n)),(e=h.add(t,e,r,u,a)).proxy)return e;if(r=function b$(){var t=w$;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)m$||(i=u),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(RP(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function IP(n,t,e,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)IP(n,t[a],e,r,i);return null}return e=JI(e),n&&n[wv]?n.O(t,e,vv(r)?!!r.capture:!!r,i):SP(n,t,e,!0,r,i)}function MP(n,t,e,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)MP(n,t[a],e,r,i);else r=vv(r)?!!r.capture:!!r,e=JI(e),n&&n[wv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=qI(a=n.g[t],e,r,i))&&(eE(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=KI(n))&&(t=n.g[t.toString()],n=-1,t&&(n=qI(t,e,r,i)),(e=-1<n?t[n]:null)&&ZI(e))}function ZI(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[wv])zI(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(RP(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=KI(t))?(zI(e,n),0==e.h&&(e.src=null,t[WI]=null)):eE(n)}}}function RP(n){return n in YI?YI[n]:YI[n]="on"+n}function w$(n,t){if(n.ca)n=!0;else{t=new bv(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&ZI(n),n=e.call(r,t)}return n}function KI(n){return(n=n[WI])instanceof tE?n:null}var QI="__closure_events_fn_"+(1e9*Math.random()>>>0);function JI(n){return"function"==typeof n?n:(n[QI]||(n[QI]=function(t){return n.handleEvent(t)}),n[QI])}function Ti(){Bd.call(this),this.i=new tE(this),this.P=this,this.I=null}function ji(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new ls(t,n);else if(t instanceof ls)t.target=t.target||n;else{var i=t;CP(t=new ls(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];i=nE(u,r,!0,t)&&i}if(i=nE(u=t.g=n,r,!0,t)&&i,i=nE(u,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=nE(u=t.g=e[a],r,!1,t)&&i}function nE(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var h=u.listener,m=u.ia||u.src;u.fa&&zI(n.i,u),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}Hi(Ti,Bd),Ti.prototype[wv]=!0,Ti.prototype.removeEventListener=function(n,t,e,r){MP(this,n,t,e,r)},Ti.prototype.M=function(){if(Ti.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)eE(e[r]);delete n.g[t],n.h--}}this.I=null},Ti.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Ti.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var XI=jt.JSON.stringify;function C$(){var n=OP;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tM,kP=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new D$,n=>n.reset());class D${constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function x$(n){jt.setTimeout(()=>{throw n},0)}function eM(n,t){tM||function T$(){var n=jt.Promise.resolve(void 0);tM=function(){n.then(A$)}}(),nM||(tM(),nM=!0),OP.add(n,t)}var nM=!1,OP=new class E${constructor(){this.h=this.g=null}add(t,e){const r=kP.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function A$(){for(var n;n=C$();){try{n.h.call(n.g)}catch(e){x$(e)}var t=kP;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}nM=!1}function rE(n,t){Ti.call(this),this.h=n||1,this.g=t||jt,this.j=Gi(this.kb,this),this.l=Date.now()}function rM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function iM(n,t,e){if("function"==typeof n)e&&(n=Gi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gi(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function FP(n){n.g=iM(()=>{n.g=null,n.i&&(n.i=!1,FP(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Hi(rE,Ti),(st=rE.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ji(this,"tick"),this.da&&(rM(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){rE.Z.M.call(this),rM(this),delete this.g};class S$ extends Bd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FP(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cv(n){Bd.call(this),this.h=n,this.g={}}Hi(Cv,Bd);var NP=[];function PP(n,t,e,r){Array.isArray(e)||(e&&(NP[0]=e.toString()),e=NP);for(var i=0;i<e.length;i++){var a=AP(t,e[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function LP(n){BI(n.g,function(t,e){this.g.hasOwnProperty(e)&&ZI(t)},n),n.g={}}function iE(){this.g=!0}function rm(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function k$(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return XI(e)}catch(h){return t}}(n,e)+(r?" "+r:"")})}Cv.prototype.M=function(){Cv.Z.M.call(this),LP(this)},Cv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iE.prototype.Aa=function(){this.g=!1},iE.prototype.info=function(){};var jf={},BP=null;function sE(){return BP=BP||new Ti}function VP(n){ls.call(this,jf.Ma,n)}function Ev(n){const t=sE();ji(t,new VP(t,n))}function UP(n,t){ls.call(this,jf.STAT_EVENT,n),this.stat=t}function ks(n){const t=sE();ji(t,new UP(t,n))}function GP(n,t){ls.call(this,jf.Na,n),this.size=t}function Dv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}jf.Ma="serverreachability",Hi(VP,ls),jf.STAT_EVENT="statevent",Hi(UP,ls),jf.Na="timingevent",Hi(GP,ls);var oE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sM(){}function $P(){}sM.prototype.h=null;var lM,xv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oM(){ls.call(this,"d")}function aM(){ls.call(this,"c")}function aE(){}function Tv(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Cv(this),this.P=O$,this.W=new rE(n=UI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zP}function zP(){this.i=null,this.g="",this.h=!1}Hi(oM,ls),Hi(aM,ls),Hi(aE,sM),aE.prototype.g=function(){return new XMLHttpRequest},aE.prototype.i=function(){return{}},lM=new aE;var O$=45e3,cM={},lE={};function uM(n,t,e){n.K=1,n.v=fE(Xc(t)),n.s=e,n.U=!0,qP(n,null)}function qP(n,t){n.F=Date.now(),Av(n),n.A=Xc(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),tL(e.h,"t",r),n.C=0,e=n.l.H,n.h=new zP,n.g=DL(n.l,e?t:null,!n.s),0<n.O&&(n.L=new S$(Gi(n.Ia,n,n.g),n.O)),PP(n.V,n.g,"readystatechange",n.gb),t=n.H?bP(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Ev(1),function I$(n,t,e,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var x=v[0];v=v[1];var A=x.split("_");u=2<=A.length&&"type"==A[1]?u+(x+"=")+v+"&":u+(x+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function WP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function YP(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=F$(n,e),i==lE){4==t&&(n.o=4,ks(14),r=!1),rm(n.j,n.m,null,"[Incomplete Response]");break}if(i==cM){n.o=4,ks(15),rm(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}rm(n.j,n.m,i,null),dM(n,i)}WP(n)&&i!=lE&&i!=cM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ks(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),CM(t),t.L=!0,ks(11))):(rm(n.j,n.m,e,"[Invalid Chunked Response]"),$f(n),Sv(n))}function F$(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?lE:(e=Number(t.substring(e,r)),isNaN(e)?cM:(r+=1)+e>t.length?lE:(t=t.substr(r,e),n.C=r+e,t))}function Av(n){n.Y=Date.now()+n.P,ZP(n,n.P)}function ZP(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dv(Gi(n.eb,n),t)}function cE(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Sv(n){0==n.l.G||n.I||bL(n.l,n)}function $f(n){cE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,rM(n.W),LP(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function dM(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||pM(e.i,n)))if(e.I=n.N,!n.J&&pM(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(e.u)e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=Dv(Gi(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;vE(e),_E(e)}wM(e),ks(18)}if(1>=iL(e.i)&&e.ka){try{e.ka()}catch(v){}e.ka=void 0}}else Wf(e,11)}else if((n.J||e.g==n)&&vE(e),!J0(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let v=i[t];if(e.U=v[0],v=v[1],2==e.G)if("c"==v[0]){e.J=v[1],e.la=v[2];const x=v[3];null!=x&&(e.ma=x,e.h.info("VER="+e.ma));const A=v[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(e.K=r=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const U=n.g;if(U){const W=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=r.i;!a.g&&(Ms(W,"spdy")||Ms(W,"quic")||Ms(W,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(gM(a,a.h),a.h=null))}if(r.D){const re=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.sa=re,pr(r.F,r.D,re))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((r=e).oa=EL(r,r.H?r.la:null,r.W),u.J){sL(r.i,u);var h=u,m=r.K;m&&h.setTimeout(m),h.B&&(cE(h),Av(h)),r.g=u}else yL(r);0<e.l.length&&yE(e)}else"stop"!=v[0]&&"close"!=v[0]||Wf(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Wf(e,7):vM(e):"noop"!=v[0]&&e.j&&e.j.wa(v),e.A=0)}Ev(4)}catch(v){}}function hM(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(FI(n)||"string"==typeof n)gP(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(FI(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;r=function N$(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(FI(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],e&&e[a],n)}}function im(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof im)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function fM(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];zf(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)zf(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function zf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(st=Tv.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const t=this.L;t&&3==eu(n)?t.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const x=eu(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>x)&&(3!=x||UI||this.g&&(this.h.h||this.g.ga()||fL(this.g)))){this.I||4!=x||7==t||Ev(8==t||0>=A?3:2),cE(this);var e=this.g.ba();this.N=e;t:if(WP(this)){var r=fL(this.g);n="";var i=r.length,a=4==eu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$f(this),Sv(this);var u="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function M$(n,t,e,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,x,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J0(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,ks(12),$f(this),Sv(this);break e}rm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dM(this,e)}this.U?(YP(this,x,u),UI&&this.i&&3==x&&(PP(this.V,this.W,"tick",this.fb),this.W.start())):(rm(this.j,this.m,u,null),dM(this,u)),4==x&&$f(this),this.i&&!this.I&&(4==x?bL(this.l,this):(this.i=!1,Av(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,ks(12)):(this.o=0,ks(13)),$f(this),Sv(this)}}}catch(x){}},st.fb=function(){if(this.g){var n=eu(this.g),t=this.g.ga();this.C<t.length&&(cE(this),YP(this,n,t),this.i&&4!=n&&Av(this))}},st.cancel=function(){this.I=!0,$f(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function R$(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ev(3),ks(17)),$f(this),this.o=2,Sv(this)):ZP(this,this.Y-n)},(st=im.prototype).R=function(){fM(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},st.T=function(){return fM(this),this.g.concat()},st.get=function(n,t){return zf(this.h,n)?this.h[n]:t},st.set=function(n,t){zf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},st.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],a=this.get(i);n.call(t,a,i,this)}};var KP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qf(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof qf){this.g=void 0!==t?t:n.g,uE(this,n.j),this.s=n.s,dE(this,n.i),hE(this,n.m),this.l=n.l,t=n.h;var e=new Rv;e.i=t.i,t.g&&(e.g=new im(t.g),e.h=t.h),QP(this,e),this.o=n.o}else n&&(e=String(n).match(KP))?(this.g=!!t,uE(this,e[1]||"",!0),this.s=Iv(e[2]||""),dE(this,e[3]||"",!0),hE(this,e[4]),this.l=Iv(e[5]||"",!0),QP(this,e[6]||"",!0),this.o=Iv(e[7]||"")):(this.g=!!t,this.h=new Rv(null,this.g))}function Xc(n){return new qf(n)}function uE(n,t,e){n.j=e?Iv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function dE(n,t,e){n.i=e?Iv(t,!0):t}function hE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function QP(n,t,e){t instanceof Rv?(n.h=t,function $$(n,t){t&&!n.j&&(Vd(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(XP(this,r),tL(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Mv(t,H$)),n.h=new Rv(t,n.g))}function pr(n,t,e){n.h.set(t,e)}function fE(n){return pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Iv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,V$),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function V$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Mv(t,JP,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Mv(t,JP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Mv(e,"/"==e.charAt(0)?G$:U$,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Mv(e,j$)),n.join("")};var JP=/[#\/\?@]/g,U$=/[#\?:]/g,G$=/[#\?]/g,H$=/[#\?@]/g,j$=/#/g;function Rv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Vd(n){n.g||(n.g=new im,n.h=0,n.i&&function P$(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var a=n[e].substring(0,r);i=n[e].substring(r+1)}else a=n[e];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function XP(n,t){Vd(n),t=sm(n,t),zf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,zf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&fM(n)))}function eL(n,t){return Vd(n),t=sm(n,t),zf(n.g.h,t)}function tL(n,t,e){XP(n,t),0<e.length&&(n.i=null,n.g.set(sm(n,t),PI(e)),n.h+=e.length)}function sm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function nL(n){this.l=n||q$,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Rv.prototype).add=function(n,t){Vd(this),this.i=null,n=sm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){Vd(this),this.g.forEach(function(e,r){gP(e,function(i){n.call(t,i,r,this)},this)},this)},st.T=function(){Vd(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],a=0;a<i.length;a++)e.push(t[r]);return e},st.R=function(n){Vd(this);var t=[];if("string"==typeof n)eL(this,n)&&(t=mP(t,this.g.get(sm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=mP(t,n[e])}return t},st.set=function(n,t){return Vd(this),this.i=null,eL(this,n=sm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var q$=10;function rL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iL(n){return n.h?1:n.g?n.g.size:0}function pM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gM(n,t){n.g?n.g.add(t):n.h=t}function sL(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function oL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return PI(n.i)}function mM(){}function W$(){this.g=new mM}function Y$(n,t,e){const r=e||"";try{hM(n,function(i,a){let u=i;vv(i)&&(u=XI(i)),t.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pE(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kv(n){this.l=n.$b||null,this.j=n.ib||!1}function gE(n,t){Ti.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=_M,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nL.prototype.cancel=function(){if(this.i=oL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mM.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},mM.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Hi(kv,sM),kv.prototype.g=function(){return new gE(this.l,this.j)},kv.prototype.i=function(n){return function(){return n}}({}),Hi(gE,Ti);var _M=0;function aL(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ov(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fv(n)}function Fv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=gE.prototype).open=function(n,t){if(this.readyState!=_M)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Fv(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ov(this)),this.readyState=_M},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fv(this)),this.g&&(this.readyState=3,Fv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aL(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ov(this):Fv(this),3==this.readyState&&aL(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,Ov(this))},st.Ta=function(n){this.g&&(this.response=n,Ov(this))},st.ha=function(){this.g&&Ov(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(gE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var K$=jt.JSON.parse;function Jr(n){Ti.call(this),this.headers=new im,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lL,this.K=this.L=!1}Hi(Jr,Ti);var lL="",Q$=/^https?$/i,J$=["POST","PUT"];function ez(n){return"content-type"==n.toLowerCase()}function cL(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,uL(n),mE(n)}function uL(n){n.D||(n.D=!0,ji(n,"complete"),ji(n,"error"))}function dL(n){if(n.h&&void 0!==OI&&(!n.C[1]||4!=eu(n)||2!=n.ba()))if(n.v&&4==eu(n))iM(n.Fa,0,n);else if(ji(n,"readystatechange"),4==eu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===h){var i=String(n.H).match(KP)[1]||null;if(!i&&jt.self&&jt.self.location){var a=jt.self.location.protocol;i=a.substr(0,a.length-1)}r=!Q$.test(i?i.toLowerCase():"")}e=r}if(e)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var u=2<eu(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",uL(n)}}finally{mE(n)}}}function mE(n,t){if(n.g){hL(n);const e=n.g,r=n.C[0]?K0:null;n.g=null,n.C=null,t||ji(n,"ready");try{e.onreadystatechange=r}catch(i){}}}function hL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function eu(n){return n.g?n.g.readyState:0}function fL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yM(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function tz(n){let t="";return BI(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):pr(n,t,e))}function Nv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function pL(n){this.za=0,this.l=[],this.h=new iE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nv("baseRetryDelayMs",5e3,n),this.$a=Nv("retryDelaySeedMs",1e4,n),this.Ya=Nv("forwardChannelMaxRetries",2,n),this.ra=Nv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new nL(n&&n.concurrentRequestLimit),this.Ca=new W$,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function vM(n){if(gL(n),3==n.G){var t=n.V++,e=Xc(n.F);pr(e,"SID",n.J),pr(e,"RID",t),pr(e,"TYPE","terminate"),Pv(n,e),(t=new Tv(n,n.h,t,void 0)).K=2,t.v=fE(Xc(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=DL(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Av(t)}CL(n)}function _E(n){n.g&&(CM(n),n.g.cancel(),n.g=null)}function gL(n){_E(n),n.u&&(jt.clearTimeout(n.u),n.u=null),vE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function bM(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&yE(n)}function yE(n){rL(n.i)||n.m||(n.m=!0,eM(n.Ha,n),n.C=0)}function mL(n,t){var e;e=t?t.m:n.V++;const r=Xc(n.F);pr(r,"SID",n.J),pr(r,"RID",e),pr(r,"AID",n.U),Pv(n,r),n.o&&n.s&&yM(r,n.o,n.s),e=new Tv(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=_L(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gM(n.i,e),uM(e,r,t)}function Pv(n,t){n.j&&hM({},function(e,r){pr(t,r,e)})}function _L(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Gi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let m=0;m<e;m++){let v=i[m].h;const x=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),h=!1;else try{Y$(x,u,"req"+v+"_")}catch(A){r&&r(x)}}if(h){r=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function yL(n){n.g||n.u||(n.Y=1,eM(n.Ga,n),n.A=0)}function wM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dv(Gi(n.Ga,n),wL(n,n.A)),n.A++,0))}function CM(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function vL(n){n.g=new Tv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Xc(n.oa);pr(t,"RID","rpc"),pr(t,"SID",n.J),pr(t,"CI",n.N?"0":"1"),pr(t,"AID",n.U),Pv(n,t),pr(t,"TYPE","xmlhttp"),n.o&&n.s&&yM(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=fE(Xc(t)),e.s=null,e.U=!0,qP(e,n)}function vE(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function bL(n,t){var e=null;if(n.g==t){vE(n),CM(n),n.g=null;var r=2}else{if(!pM(n.i,t))return;e=t.D,sL(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;ji(r=sE(),new GP(r,e,t,i)),yE(n)}else yL(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function nz(n,t){return!(iL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dv(Gi(n.Ha,n,t),wL(n,n.C)),n.C++,0)))}(n,t)||2==r&&wM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:Wf(n,5);break;case 4:Wf(n,10);break;case 3:Wf(n,6);break;default:Wf(n,2)}}function wL(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Wf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Gi(n.jb,n);e||(e=new qf("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||uE(e,"https"),fE(e)),function Z$(n,t){const e=new iE;if(jt.Image){const r=new Image;r.onload=Q0(pE,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Q0(pE,e,r,"TestLoadImage: error",!1,t),r.onabort=Q0(pE,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Q0(pE,e,r,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else ks(2);n.G=0,n.j&&n.j.va(t),CL(n),gL(n)}function CL(n){n.G=0,n.I=-1,n.j&&((0!=oL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,PI(n.l),n.l.length=0),n.j.ua())}function EL(n,t,e){let r=function L$(n){return n instanceof qf?Xc(n):new qf(n,void 0)}(e);if(""!=r.i)t&&dE(r,t+"."+r.i),hE(r,r.m);else{const i=jt.location;r=function B$(n,t,e,r){var i=new qf(null,void 0);return n&&uE(i,n),t&&dE(i,t),e&&hE(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&BI(n.aa,function(i,a){pr(r,a,i)}),e=n.sa,(t=n.D)&&e&&pr(r,t,e),pr(r,"VER",n.ma),Pv(n,r),r}function DL(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Jr(e&&n.Ba&&!n.qa?new kv({ib:!0}):n.qa)).L=n.H,t}function xL(){}function bE(){if(nm&&!(10<=Number(g$)))throw Error("Environmental error: no available transport.")}function Uo(n,t){Ti.call(this),this.g=new pL(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!J0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!J0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new om(this)}function TL(n){oM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function AL(){aM.call(this),this.status=1}function om(n){this.g=n}(st=Jr.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lM.g(),this.C=function jP(n){return n.h||(n.h=n.i())}(this.u?this.u:lM),this.g.onreadystatechange=Gi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void cL(this,a)}n=e||"";const i=new im(this.headers);r&&hM(r,function(a,u){i.set(u,a)}),r=function c$(n){e:{var t=ez;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=jt.FormData&&n instanceof jt.FormData,!(0<=pP(J$,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hL(this),0<this.B&&((this.K=function X$(n){return nm&&function p$(){return function u$(n){var t=f$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=_P(String(X0)).split("."),e=_P("9").split("."),r=Math.max(t.length,e.length);for(let u=0;0==n&&u<r;u++){var i=t[u]||"",a=e[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=LI(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||LI(0==i[2].length,0==a[2].length)||LI(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gi(this.pa,this)):this.A=iM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){cL(this,a)}},st.pa=function(){void 0!==OI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),mE(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mE(this,!0)),Jr.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?dL(this):this.cb())},st.cb=function(){dL(this)},st.ba=function(){try{return 2<eu(this)?this.g.status:-1}catch(n){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},st.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),K$(t)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=pL.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Tv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=bP(a),CP(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=_L(this,i,t),pr(e=Xc(this.F),"RID",n),pr(e,"CVER",22),this.D&&pr(e,"X-HTTP-Session-Id",this.D),Pv(this,e),this.o&&a&&yM(e,this.o,a),gM(this.i,i),this.Ra&&pr(e,"TYPE","init"),this.ja?(pr(e,"$req",t),pr(e,"SID","null"),i.$=!0,uM(i,e,null)):uM(i,e,t),this.G=2}}else 3==this.G&&(n?mL(this,n):0==this.l.length||rL(this.i)||mL(this))},st.Ga=function(){if(this.u=null,vL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dv(Gi(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ks(10),_E(this),vL(this))},st.ab=function(){null!=this.v&&(this.v=null,_E(this),wM(this),ks(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ks(2)):(this.h.info("Failed to ping google.com"),ks(1))},(st=xL.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},bE.prototype.g=function(n,t){return new Uo(n,t)},Hi(Uo,Ti),Uo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),eM(Gi(n.hb,n,t))),ks(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=EL(n,null,n.W),yE(n)},Uo.prototype.close=function(){vM(this.g)},Uo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,bM(this.g,t)}else this.v?((t={}).__data__=XI(n),bM(this.g,t)):bM(this.g,n)},Uo.prototype.M=function(){this.g.j=null,delete this.j,vM(this.g),delete this.g,Uo.Z.M.call(this)},Hi(TL,oM),Hi(AL,aM),Hi(om,xL),om.prototype.xa=function(){ji(this.g,"a")},om.prototype.wa=function(n){ji(this.g,new TL(n))},om.prototype.va=function(n){ji(this.g,new AL(n))},om.prototype.ua=function(){ji(this.g,"b")},bE.prototype.createWebChannel=bE.prototype.g,Uo.prototype.send=Uo.prototype.u,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,oE.NO_ERROR=0,oE.TIMEOUT=8,oE.HTTP_ERROR=6,HP.COMPLETE="complete",$P.EventType=xv,xv.OPEN="a",xv.CLOSE="b",xv.ERROR="c",xv.MESSAGE="d",Ti.prototype.listen=Ti.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var rz=Jc.createWebChannelTransport=function(){return new bE},iz=Jc.getStatEventTarget=function(){return sE()},EM=Jc.ErrorCode=oE,sz=Jc.EventType=HP,oz=Jc.Event=jf,SL=Jc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},az=Jc.FetchXmlHttpFactory=kv,wE=Jc.WebChannel=$P,lz=Jc.XhrIo=Jr;const IL="@firebase/firestore";class $i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let am="9.6.11";const Ud=new Oc.Yd("@firebase/firestore");function DM(){return Ud.logLevel}function Be(n,...t){if(Ud.logLevel<=Oc.in.DEBUG){const e=t.map(xM);Ud.debug(`Firestore (${am}): ${n}`,...e)}}function Xr(n,...t){if(Ud.logLevel<=Oc.in.ERROR){const e=t.map(xM);Ud.error(`Firestore (${am}): ${n}`,...e)}}function Lv(n,...t){if(Ud.logLevel<=Oc.in.WARN){const e=t.map(xM);Ud.warn(`Firestore (${am}): ${n}`,...e)}}function xM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function lt(n="Unexpected state"){const t=`FIRESTORE (${am}) INTERNAL ASSERTION FAILED: `+n;throw Xr(t),new Error(t)}function Ut(n,t){n||lt()}function Je(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ct.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ai{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class ML{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e($i.UNAUTHENTICATED))}shutdown(){}}class hz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fz{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,e(v)):Promise.resolve();let u=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ai,t.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,me.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ai)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new ML(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new $i(t)}}class pz{constructor(t,e,r){this.type="FirstParty",this.user=$i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class gz{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new pz(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mz{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const r=a=>{null!=a.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.p=e.token,new RL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Go{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.I(r),this.T=r=>e.writeSequenceNumber(r))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function _z(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}Go.A=-1;class kL{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=_z(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<e&&(r+=t.charAt(i[a]%t.length))}return r}}function Jt(n,t){return n<t?-1:n>t?1:0}function lm(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function OL(n){return n+"\0"}class jr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jr.fromMillis(Date.now())}static fromDate(t){return jr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new jr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new jr(0,0))}static max(){return new Mt(new jr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function FL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function NL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Bv{constructor(t,e,r){void 0===e?e=0:e>t.length&&lt(),void 0===r?r=t.length-e:r>t.length-e&&lt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Bv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bv?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const a=t.get(i),u=e.get(i);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class En extends Bv{construct(t,e,r){return new En(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new En(e)}static emptyPath(){return new En([])}}const yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends Bv{construct(t,e,r){return new Si(t,e,r)}static isValidIdentifier(t){return yz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;i<t.length;){const h=t[i];if("\\"===h){if(i+1===t.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Si(e)}static emptyPath(){return new Si([])}}class cm{constructor(t){this.fields=t,t.sort(Si.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return lm(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class fi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new fi(e)}static fromUint8Array(t){const e=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(t);return new fi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const bz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gd(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=bz.exec(n);if(Ut(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zf(n){return"string"==typeof n?fi.fromBase64String(n):fi.fromUint8Array(n)}function TM(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function PL(n){const t=n.mapValue.fields.__previous_value__;return TM(t)?PL(t):t}function Vv(n){const t=Gd(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(t.seconds,t.nanos)}class wz{constructor(t,e,r,i,a,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class tu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}function Kf(n){return null==n}function Uv(n){return 0===n&&1/n==-1/0}function LL(n){return"number"==typeof n&&Number.isInteger(n)&&!Uv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(t){this.path=t}static fromPath(t){return new We(En.fromString(t))}static fromName(t){return new We(En.fromString(t).popFirst(5))}static empty(){return new We(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return En.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new En(t.slice()))}}const BL={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VL={nullValue:"NULL_VALUE"};function Qf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TM(n)?4:jL(n)?9:10:lt()}function Yl(n,t){if(n===t)return!0;const e=Qf(n);if(e!==Qf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Vv(n).isEqual(Vv(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Gd(r.timestampValue),u=Gd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,Zf(n.bytesValue).isEqual(Zf(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Rr(r.geoPointValue.latitude)===Rr(i.geoPointValue.latitude)&&Rr(r.geoPointValue.longitude)===Rr(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rr(r.integerValue)===Rr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Rr(r.doubleValue),u=Rr(i.doubleValue);return a===u?Uv(a)===Uv(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return lm(n.arrayValue.values||[],t.arrayValue.values||[],Yl);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(FL(a)!==FL(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Yl(a[h],u[h])))return!1;return!0}(n,t);default:return lt()}var i}function Gv(n,t){return void 0!==(n.values||[]).find(e=>Yl(e,t))}function Hd(n,t){if(n===t)return 0;const e=Qf(n),r=Qf(t);if(e!==r)return Jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(i,a){const u=Rr(i.integerValue||i.doubleValue),h=Rr(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return UL(n.timestampValue,t.timestampValue);case 4:return UL(Vv(n),Vv(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(i,a){const u=Zf(i),h=Zf(a);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(i,a){const u=i.split("/"),h=a.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=Jt(u[m],h[m]);if(0!==v)return v}return Jt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,a){const u=Jt(Rr(i.latitude),Rr(a.latitude));return 0!==u?u:Jt(Rr(i.longitude),Rr(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,a){const u=i.values||[],h=a.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=Hd(u[m],h[m]);if(v)return v}return Jt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,a){const u=i.fields||{},h=Object.keys(u),m=a.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let x=0;x<h.length&&x<v.length;++x){const A=Jt(h[x],v[x]);if(0!==A)return A;const O=Hd(u[h[x]],m[v[x]]);if(0!==O)return O}return Jt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw lt()}}function UL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Jt(n,t);const e=Gd(n),r=Gd(t),i=Jt(e.seconds,r.seconds);return 0!==i?i:Jt(e.nanos,r.nanos)}function um(n){return AM(n)}function AM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Gd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zf(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=AM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${AM(r.fields[h])}`;return a+"}"}(n.mapValue):lt();var t}function Jf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function SM(n){return!!n&&"integerValue"in n}function Hv(n){return!!n&&"arrayValue"in n}function GL(n){return!!n&&"nullValue"in n}function HL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function CE(n){return!!n&&"mapValue"in n}function jv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yf(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=jv(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function jL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cz(n){return"nullValue"in n?VL:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Jf(tu.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function Ez(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Jf(tu.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?BL:lt()}function $L(n,t){return void 0===n?t:void 0===t||Hd(n,t)>0?n:t}function zL(n,t){return void 0===n?t:void 0===t||Hd(n,t)<0?n:t}class cs{constructor(t){this.value=t}static empty(){return new cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!CE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jv(e)}setAll(t){let e=Si.emptyPath(),r={},i=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=h.popLast()}u?r[h.lastSegment()]=jv(u):i.push(h.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,r,i)}delete(t){const e=this.field(t.popLast());CE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];CE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Yf(e,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new cs(jv(this.value))}}function qL(n){const t=[];return Yf(n.fields,(e,r)=>{const i=new Si([e]);if(CE(r)){const a=qL(r.mapValue).fields;if(0===a.length)t.push(i);else for(const u of a)t.push(i.child(u))}else t.push(i)}),new cm(t)}class ir{constructor(t,e,r,i,a,u){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(t){return new ir(t,0,Mt.min(),Mt.min(),cs.empty(),0)}static newFoundDocument(t,e,r){return new ir(t,1,e,Mt.min(),r,0)}static newNoDocument(t,e){return new ir(t,2,e,Mt.min(),cs.empty(),0)}static newUnknownDocument(t,e){return new ir(t,3,e,Mt.min(),cs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ir&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class EE{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function IM(n){return n.fields.find(t=>2===t.kind)}function Xf(n){return n.fields.filter(t=>2!==t.kind)}EE.UNKNOWN_ID=-1;class DE{constructor(t,e){this.fieldPath=t,this.kind=e}}class $v{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new $v(0,nu.min())}}function WL(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new jr(e+1,0):new jr(e,r));return new nu(i,We.empty(),t)}function Dz(n){return new nu(n.readTime,n.key,-1)}class nu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new nu(Mt.min(),We.empty(),-1)}static max(){return new nu(Mt.max(),We.empty(),-1)}}function xz(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=We.comparator(n.documentKey,t.documentKey),0!==e?e:Jt(n.largestBatchId,t.largestBatchId))}class Tz{constructor(t,e=null,r=[],i=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.P=null}}function YL(n,t=null,e=[],r=[],i=null,a=null,u=null){return new Tz(n,t,e,r,i,a,u)}function ep(n){const t=Je(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+um(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Kf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>um(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>um(r)).join(",")),t.P=e}return t.P}function zv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Nz(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Yl(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XL(n.startAt,t.startAt)&&XL(n.endAt,t.endAt)}function xE(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TE(n,t){return n.filters.filter(e=>e instanceof zi&&e.field.isEqual(t))}function ZL(n,t,e){let r,i=!0;for(const a of TE(n,t)){let u,h=!0;switch(a.op){case"<":case"<=":u=Cz(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=VL}$L(r,u)===u&&(r=u,i=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];$L(r,u)===u&&(r=u,i=e.inclusive);break}return{value:r,inclusive:i}}function KL(n,t,e){let r,i=!0;for(const a of TE(n,t)){let u,h=!0;switch(a.op){case">=":case">":u=Ez(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=BL}zL(r,u)===u&&(r=u,i=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];zL(r,u)===u&&(r=u,i=e.inclusive);break}return{value:r,inclusive:i}}class zi extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,r):new Sz(t,e,r):"array-contains"===e?new Rz(t,r):"in"===e?new kz(t,r):"not-in"===e?new Oz(t,r):"array-contains-any"===e?new Fz(t,r):new zi(t,e,r)}static V(t,e,r){return"in"===e?new Iz(t,r):new Mz(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Hd(e,this.value)):null!==e&&Qf(this.value)===Qf(e)&&this.v(Hd(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Sz extends zi{constructor(t,e,r){super(t,e,r),this.key=We.fromName(r.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.v(e)}}class Iz extends zi{constructor(t,e){super(t,"in",e),this.keys=QL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Mz extends zi{constructor(t,e){super(t,"not-in",e),this.keys=QL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function QL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>We.fromName(r.referenceValue))}class Rz extends zi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hv(e)&&Gv(e.arrayValue,this.value)}}class kz extends zi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Gv(this.value.arrayValue,e)}}class Oz extends zi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Gv(this.value.arrayValue,e)}}class Fz extends zi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Gv(this.value.arrayValue,r))}}class jd{constructor(t,e){this.position=t,this.inclusive=e}}class dm{constructor(t,e="asc"){this.field=t,this.dir=e}}function Nz(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function JL(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const a=t[i],u=n.position[i];if(r=a.field.isKeyField()?We.comparator(We.fromName(u.referenceValue),e.key):Hd(u,e.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function XL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Yl(n.position[e],t.position[e]))return!1;return!0}class ru{constructor(t,e=null,r=[],i=[],a=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=m,this.D=null,this.C=null}}function eB(n,t,e,r,i,a,u,h){return new ru(n,t,e,r,i,a,u,h)}function hm(n){return new ru(n)}function AE(n){return!Kf(n.limit)&&"F"===n.limitType}function SE(n){return!Kf(n.limit)&&"L"===n.limitType}function MM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RM(n){for(const t of n.filters)if(t.S())return t.field;return null}function kM(n){return null!==n.collectionGroup}function fm(n){const t=Je(n);if(null===t.D){t.D=[];const e=RM(t),r=MM(t);if(null!==e&&null===r)e.isKeyField()||t.D.push(new dm(e)),t.D.push(new dm(Si.keyField(),"asc"));else{let i=!1;for(const a of t.explicitOrderBy)t.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new dm(Si.keyField(),a))}}}return t.D}function Ea(n){const t=Je(n);if(!t.C)if("F"===t.limitType)t.C=YL(t.path,t.collectionGroup,fm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of fm(t))e.push(new dm(a.field,"desc"===a.dir?"asc":"desc"));const r=t.endAt?new jd(t.endAt.position,!t.endAt.inclusive):null,i=t.startAt?new jd(t.startAt.position,!t.startAt.inclusive):null;t.C=YL(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.C}function tB(n,t,e){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function qv(n,t){return zv(Ea(n),Ea(t))&&n.limitType===t.limitType}function nB(n){return`${ep(Ea(n))}|lt:${n.limitType}`}function OM(n){return`Query(target=${function Az(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${um(r.value)}`;var r}).join(", ")}]`),Kf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>um(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>um(e)).join(",")),`Target(${t})`}(Ea(n))}; limitType=${n.limitType})`}function FM(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):We.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,a,u){const h=JL(i,a,u);return i.inclusive?h<=0:h<0}(e.startAt,fm(e),r)||e.endAt&&!function(i,a,u){const h=JL(i,a,u);return i.inclusive?h>=0:h>0}(e.endAt,fm(e),r)));var e,r}function rB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iB(n){return(t,e)=>{let r=!1;for(const i of fm(n)){const a=Pz(i,t,e);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Pz(n,t,e){const r=n.field.isKeyField()?We.comparator(t.key,e.key):function(i,a,u){const h=a.data.field(i),m=u.data.field(i);return null!==h&&null!==m?Hd(h,m):lt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function sB(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uv(t)?"-0":t}}function oB(n){return{integerValue:""+n}}function aB(n,t){return LL(t)?oB(t):sB(n,t)}class IE{constructor(){this._=void 0}}function Lz(n,t,e){return n instanceof pm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(e,t):n instanceof tp?cB(n,t):n instanceof np?uB(n,t):function(r,i){const a=lB(r,i),u=dB(a)+dB(r.k);return SM(a)&&SM(r.k)?oB(u):sB(r.M,u)}(n,t)}function Bz(n,t,e){return n instanceof tp?cB(n,t):n instanceof np?uB(n,t):e}function lB(n,t){return n instanceof gm?SM(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class pm extends IE{}class tp extends IE{constructor(t){super(),this.elements=t}}function cB(n,t){const e=hB(t);for(const r of n.elements)e.some(i=>Yl(i,r))||e.push(r);return{arrayValue:{values:e}}}class np extends IE{constructor(t){super(),this.elements=t}}function uB(n,t){let e=hB(t);for(const r of n.elements)e=e.filter(i=>!Yl(i,r));return{arrayValue:{values:e}}}class gm extends IE{constructor(t,e){super(),this.M=t,this.k=e}}function dB(n){return Rr(n.integerValue||n.doubleValue)}function hB(n){return Hv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wv{constructor(t,e){this.field=t,this.transform=e}}class Uz{constructor(t,e){this.version=t,this.transformResults=e}}class ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ME(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class RE{}function Gz(n,t,e){n instanceof Yv?function(r,i,a){const u=r.value.clone(),h=mB(r.fieldTransforms,i,a.transformResults);u.setAll(h),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof rp?function(r,i,a){if(!ME(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=mB(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(gB(r)),h.setAll(u),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function NM(n,t,e){var i;n instanceof Yv?function(r,i,a){if(!ME(r.precondition,i))return;const u=r.value.clone(),h=_B(r.fieldTransforms,a,i);u.setAll(h),i.convertToFoundDocument(pB(i),u).setHasLocalMutations()}(n,t,e):n instanceof rp?function(r,i,a){if(!ME(r.precondition,i))return;const u=_B(r.fieldTransforms,a,i),h=i.data;h.setAll(gB(r)),h.setAll(u),i.convertToFoundDocument(pB(i),h).setHasLocalMutations()}(n,t,e):ME(n.precondition,i=t)&&i.convertToNoDocument(Mt.min())}function Hz(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),a=lB(r.transform,i||null);null!=a&&(null==e&&(e=cs.empty()),e.set(r.field,a))}return e||null}function fB(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&lm(e,r,(i,a)=>function Vz(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof tp&&r instanceof tp||e instanceof np&&r instanceof np?lm(e.elements,r.elements,Yl):e instanceof gm&&r instanceof gm?Yl(e.k,r.k):e instanceof pm&&r instanceof pm);var e,r}(i,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function pB(n){return n.isFoundDocument()?n.version:Mt.min()}class Yv extends RE{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}}class rp extends RE{constructor(t,e,r,i,a=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function gB(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function mB(n,t,e){const r=new Map;Ut(n.length===e.length);for(let i=0;i<e.length;i++){const a=n[i],u=a.transform,h=t.data.field(a.field);r.set(a.field,Bz(u,h,e[i]))}return r}function _B(n,t,e){const r=new Map;for(const i of n){const a=i.transform,u=e.data.field(i.field);r.set(i.field,Lz(a,u,t))}return r}class Zv extends RE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class PM extends RE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class jz{constructor(t){this.count=t}}var ti,Dn;function yB(n){switch(n){default:return lt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function vB(n){if(void 0===n)return Xr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ti.OK:return ge.OK;case ti.CANCELLED:return ge.CANCELLED;case ti.UNKNOWN:return ge.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ge.INTERNAL;case ti.UNAVAILABLE:return ge.UNAVAILABLE;case ti.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ti.NOT_FOUND:return ge.NOT_FOUND;case ti.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ti.ABORTED:return ge.ABORTED;case ti.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ti.DATA_LOSS:return ge.DATA_LOSS;default:return lt()}}(Dn=ti||(ti={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class $d{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Yf(this.inner,(e,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return NL(this.inner)}size(){return this.innerSize}}class $r{constructor(t,e){this.comparator=t,this.root=e||qi.EMPTY}insert(t,e){return new $r(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(t){return new $r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kE(this.root,t,this.comparator,!1)}getReverseIterator(){return new kE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kE(this.root,t,this.comparator,!0)}}class kE{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?r(t.key,e):1,e&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qi{constructor(t,e,r,i,a){this.key=t,this.value=e,this.color=null!=r?r:qi.RED,this.left=null!=i?i:qi.EMPTY,this.right=null!=a?a:qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,a){return new qi(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===a?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return qi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,t,e,r,i){return this}insert(n,t,e){return new qi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(t){this.comparator=t,this.data=new $r(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(t){return new bB(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof sr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new sr(this.comparator);return e.data=t,e}}class bB{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mm(n){return n.hasNext()?n.getNext():void 0}const $z=new $r(We.comparator);function Da(){return $z}const zz=new $r(We.comparator);function LM(){return zz}function Kv(){return new $d(n=>n.toString(),(n,t)=>n.isEqual(t))}const qz=new $r(We.comparator),Wz=new sr(We.comparator);function Pn(...n){let t=Wz;for(const e of n)t=t.add(e);return t}const Yz=new sr(Jt);function OE(){return Yz}class Qv{constructor(t,e,r,i,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,Jv.createSynthesizedTargetChangeForCurrentChange(t,e)),new Qv(Mt.min(),r,OE(),Da(),Pn())}}class Jv{constructor(t,e,r,i,a){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Jv(fi.EMPTY_BYTE_STRING,e,Pn(),Pn(),Pn())}}class FE{constructor(t,e,r,i){this.O=t,this.removedTargetIds=e,this.key=r,this.F=i}}class wB{constructor(t,e){this.targetId=t,this.$=e}}class CB{constructor(t,e,r=fi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class EB{constructor(){this.B=0,this.L=xB(),this.U=fi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Pn(),e=Pn(),r=Pn();return this.L.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new Jv(this.U,this.q,t,e,r)}J(){this.K=!1,this.L=xB()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Zz{constructor(t){this.nt=t,this.st=new Map,this.it=Da(),this.rt=DB(),this.ot=new sr(Jt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const r=this.lt(e);switch(t.state){case 0:this.ft(e)&&r.W(t.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(t.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(e);break;case 3:this.ft(e)&&(r.et(),r.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),r.W(t.resumeToken));break;default:lt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((r,i)=>{this.ft(i)&&e(i)})}_t(t){const e=t.targetId,r=t.$.count,i=this.wt(e);if(i){const a=i.target;if(xE(a))if(0===r){const u=new We(a.path);this.ct(e,u,ir.newNoDocument(u,Mt.min()))}else Ut(1===r);else this.gt(e)!==r&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((a,u)=>{const h=this.wt(u);if(h){if(a.current&&xE(h.target)){const m=new We(h.target.path);null!==this.it.get(m)||this.It(u,m)||this.ct(u,m,ir.newNoDocument(m,t))}a.j&&(e.set(u,a.H()),a.J())}});let r=Pn();this.rt.forEach((a,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.wt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.it.forEach((a,u)=>u.setReadTime(t));const i=new Qv(t,e,this.ot,this.it,r);return this.it=Da(),this.rt=DB(),this.ot=new sr(Jt),i}at(t,e){if(!this.ft(t))return;const r=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,r),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,r){if(!this.ft(t))return;const i=this.lt(t);this.It(t,e)?i.Y(e,1):i.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),r&&(this.it=this.it.insert(e,r))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new EB,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new sr(Jt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new EB),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function DB(){return new $r(We.comparator)}function xB(){return new $r(We.comparator)}const Kz={asc:"ASCENDING",desc:"DESCENDING"},Qz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jz{constructor(t,e){this.databaseId=t,this.N=e}}function Xv(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TB(n,t){return n.N?t.toBase64():t.toUint8Array()}function Xz(n,t){return Xv(n,t.toTimestamp())}function Ii(n){return Ut(!!n),Mt.fromTimestamp(function(t){const e=Gd(t);return new jr(e.seconds,e.nanos)}(n))}function BM(n,t){return(e=n,new En(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function AB(n){const t=En.fromString(n);return Ut(PB(t)),t}function eb(n,t){return BM(n.databaseId,t.path)}function Zl(n,t){const e=AB(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new We(IB(e))}function VM(n,t){return BM(n.databaseId,t)}function SB(n){const t=AB(n);return 4===t.length?En.emptyPath():IB(t)}function tb(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IB(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MB(n,t,e){return{name:eb(n,t),fields:e.value.mapValue.fields}}function RB(n,t,e){const r=Zl(n,t.name),i=Ii(t.updateTime),a=new cs({mapValue:{fields:t.fields}}),u=ir.newFoundDocument(r,i,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function nb(n,t){let e;if(t instanceof Yv)e={update:MB(n,t.key,t.value)};else if(t instanceof Zv)e={delete:eb(n,t.key)};else if(t instanceof rp)e={update:MB(n,t.key,t.data),updateMask:l6(t.fieldMask)};else{if(!(t instanceof PM))return lt();e={verify:eb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof tp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof np)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gm)return{fieldPath:a.field.canonicalString(),increment:u.k};throw lt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:Xz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),e;var i}function UM(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?ei.updateTime(Ii(i.updateTime)):void 0!==i.exists?ei.exists(i.exists):ei.none():ei.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(a,u){let h=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),h=new pm):"appendMissingElements"in u?h=new tp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new np(u.removeAllFromArray.values||[]):"increment"in u?h=new gm(a,u.increment):lt();const m=Si.fromServerFormat(u.fieldPath);return new Wv(m,h)}(n,i)):[];var i;if(t.update){const i=Zl(n,t.update.name),a=new cs({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new cm((t.updateMask.fieldPaths||[]).map(v=>Si.fromServerFormat(v)));return new rp(i,a,u,e,r)}return new Yv(i,a,e,r)}if(t.delete){const i=Zl(n,t.delete);return new Zv(i,e)}if(t.verify){const i=Zl(n,t.verify);return new PM(i,e)}return lt()}function kB(n,t){return{documents:[VM(n,t.path)]}}function OB(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=VM(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=VM(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const v=m.map(x=>function(A){if("=="===A.op){if(HL(A.value))return{unaryFilter:{field:_m(A.field),op:"IS_NAN"}};if(GL(A.value))return{unaryFilter:{field:_m(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(HL(A.value))return{unaryFilter:{field:_m(A.field),op:"IS_NOT_NAN"}};if(GL(A.value))return{unaryFilter:{field:_m(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_m(A.field),op:s6(A.op),value:A.value}}}(x));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);i&&(e.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:_m((x=v).field),direction:i6(x.dir)};var x})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(v=t.limit,n.N||Kf(v)?v:{value:v});var v,h,m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function FB(n){let t=SB(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Ut(1===r);const x=e.from[0];x.allDescendants?i=x.collectionId:t=t.child(x.collectionId)}let a=[];e.where&&(a=NB(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(x=>{return new dm(ym((A=x).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let h=null;e.limit&&(h=function(x){let A;return A="object"==typeof x?x.value:x,Kf(A)?null:A}(e.limit));let m=null;var x;e.startAt&&(m=new jd((x=e.startAt).values||[],!!x.before));let v=null;return e.endAt&&(v=function(x){return new jd(x.values||[],!x.before)}(e.endAt)),eB(t,i,u,a,h,"F",m,v)}function NB(n){return n?void 0!==n.unaryFilter?[a6(n)]:void 0!==n.fieldFilter?[o6(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>NB(t)).reduce((t,e)=>t.concat(e)):lt():[]}function i6(n){return Kz[n]}function s6(n){return Qz[n]}function _m(n){return{fieldPath:n.canonicalString()}}function ym(n){return Si.fromServerFormat(n.fieldPath)}function o6(n){return zi.create(ym(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function a6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ym(n.unaryFilter.field);return zi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ym(n.unaryFilter.field);return zi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ym(n.unaryFilter.field);return zi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ym(n.unaryFilter.field);return zi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function l6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function PB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Os(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=LB(t)),t=c6(n.get(e),t);return LB(t)}function c6(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function LB(n){return n+"\x01\x01"}function Kl(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const e=t-2,r=[];let i="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&lt(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let m;0===i.length?m=h:(i+=h,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:lt()}a=u+2}return new En(r)}const BB=["userId","batchId"];function NE(n,t){return[n,Os(t)]}function VB(n,t,e){return[n,Os(t),e]}const u6={},d6=["prefixPath","collectionGroup","readTime","documentId"],h6=["prefixPath","collectionGroup","documentId"],f6=["collectionGroup","readTime","prefixPath","documentId"],p6=["canonicalId","targetId"],g6=["targetId","path"],m6=["path","targetId"],_6=["collectionId","parent"],y6=["indexId","uid"],v6=["uid","sequenceNumber"],b6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],w6=["indexId","uid","orderedDocumentKey"],C6=["userId","collectionPath","documentId"],E6=["userId","collectionPath","largestBatchId"],D6=["userId","collectionGroup","largestBatchId"],UB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x6=[...UB,"documentOverlays"],GB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T6=[...GB,"indexConfiguration","indexState","indexEntries"],HB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ye?e:ye.resolve(e)}catch(e){return ye.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ye.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ye.reject(e)}static resolve(t){return new ye((e,r)=>{e(t)})}static reject(t){return new ye((e,r)=>{r(t)})}static waitFor(t){return new ye((e,r)=>{let i=0,a=0,u=!1;t.forEach(h=>{++i,h.next(()=>{++a,u&&a===i&&e()},m=>r(m))}),u=!0,a===i&&e()})}static or(t){let e=ye.resolve(!1);for(const r of t)e=e.next(i=>i?ye.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,a)=>{r.push(e.call(this,i,a))}),this.waitFor(r)}}class PE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Ai,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new rb(t,e.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=GM(r.target.error);this.At.reject(new rb(t,i))}}static open(t,e,r,i){try{return new PE(e,t.transaction(i,r))}catch(a){throw new rb(e,a)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new S6(e)}}class il{constructor(t,e,r){this.name=t,this.version=e,this.bt=r,12.2===il.Vt((0,Ct.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Ct.hl)())return!1;if(il.St())return!0;const t=(0,Ct.z$)(),e=il.Vt(t),r=0<e&&e<10,i=il.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(t){var e=this;return(0,me.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new rb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Oe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Oe(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new rb(t,h))},a.onupgradeneeded=u=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.bt.kt(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=r=>e.Mt(r)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var a=this;return(0,me.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{a.db=yield a.Nt(t);const m=PE.open(a.db,t,u?"readonly":"readwrite",r),v=i(m).next(x=>(m.Pt(),x)).catch(x=>(m.abort(x),ye.reject(x))).toPromise();return v.catch(()=>{}),yield m.Rt,v}catch(m){const v="FirebaseError"!==m.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),a.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A6{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return sp(this.Ft.delete())}}class rb extends Oe{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ip(n){return"IndexedDbTransactionError"===n.name}class S6{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),sp(r)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))}get(t){return sp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),sp(this.store.count())}qt(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(u,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ye((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}Gt(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new ye((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,u,h)=>h.delete())}Wt(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.Kt(i,e)}zt(t){const e=this.cursor({});return new ye((r,i)=>{e.onerror=a=>{const u=GM(a.target.error);i(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Kt(t,e){const r=[];return new ye((i,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const m=new A6(h),v=e(h.primaryKey,h.value,m);if(v instanceof ye){const x=v.catch(A=>(m.done(),ye.reject(A)));r.push(x)}m.isDone?i():null===m.Lt?h.continue():h.continue(m.Lt)}}).next(()=>ye.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.jt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sp(n){return new ye((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=GM(r.target.error);e(i)}})}let $B=!1;function GM(n){const t=il.Vt((0,Ct.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $B||($B=!0,setTimeout(()=>{throw r},0)),r}}return n}class zB extends jB{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Mi(n,t){const e=Je(n);return il.xt(e.Ht,t)}class HM{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&Gz(a,t,r[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&NM(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&NM(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pn())}isEqual(t){return this.batchId===t.batchId&&lm(this.mutations,t.mutations,(e,r)=>fB(e,r))&&lm(this.baseMutations,t.baseMutations,(e,r)=>fB(e,r))}}class jM{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Ut(t.mutations.length===r.length);let i=qz;const a=t.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new jM(t,e,r,i)}}class $M{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zd{constructor(t,e,r,i,a=Mt.min(),u=Mt.min(),h=fi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new zd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class qB{constructor(t){this.Jt=t}}function WB(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:LE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:eb(i=n.Jt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Xv(i,a.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:op(t.version)};else{if(!t.isUnknownDocument())return lt();r.unknownDocument={path:e.path.toArray(),version:op(t.version)}}var i,a;return r}function LE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function op(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ap(n){const t=new jr(n.seconds,n.nanoseconds);return Mt.fromTimestamp(t)}function vm(n,t){const e=(t.baseMutations||[]).map(a=>UM(n.Jt,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const r=t.mutations.map(a=>UM(n.Jt,a)),i=jr.fromMillis(t.localWriteTimeMs);return new HM(t.batchId,i,e,r)}function ib(n){const t=ap(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ap(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(Ut(1===(i=n.query).documents.length),r=Ea(hm(SB(i.documents[0])))):r=Ea(FB(n.query)),new zd(r,n.targetId,0,n.lastListenSequenceNumber,t,e,fi.fromBase64String(n.resumeToken))}function YB(n,t){const e=op(t.snapshotVersion),r=op(t.lastLimboFreeSnapshotVersion);let i;i=xE(t.target)?kB(n.Jt,t.target):OB(n.Jt,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ep(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zM(n){const t=FB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tB(t,t.limit,"L"):t}function qM(n,t){return new $M(t.largestBatchId,UM(n.Jt,t.overlayMutation))}function ZB(n,t){const e=t.path.lastSegment();return[n,Os(t.path.popLast()),e]}class M6{getBundleMetadata(t,e){return KB(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ap(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return KB(t).put({bundleId:(r=e).id,createTime:op(Ii(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return QB(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:zM(i.bundledQuery),readTime:ap(i.readTime)};var i})}saveNamedQuery(t,e){return QB(t).put({name:(r=e).name,readTime:op(Ii(r.readTime)),bundledQuery:r.bundledQuery});var r}}function KB(n){return Mi(n,"bundles")}function QB(n){return Mi(n,"namedQueries")}class WM{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new WM(t,e.uid||"")}getOverlay(t,e){return sb(t).get(ZB(this.userId,e)).next(r=>r?qM(this.M,r):null)}saveOverlays(t,e,r){const i=[];return r.forEach((a,u)=>{const h=new $M(e,u);i.push(this.Xt(t,h))}),ye.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(u=>i.add(Os(u.getCollectionPath())));const a=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(sb(t).Qt("collectionPathOverlayIndex",h))}),ye.waitFor(a)}getOverlaysForCollection(t,e,r){const i=Kv(),a=Os(e),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sb(t).qt("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=qM(this.M,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const a=Kv();let u;const h=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return sb(t).Wt({index:"collectionGroupOverlayIndex",range:h},(m,v,x)=>{const A=qM(this.M,v);a.size()<i||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):x.done()}).next(()=>a)}Xt(t,e){return sb(t).put(function(r,i,a){const[u,h,m]=ZB(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:nb(r.Jt,a.mutation)}}(this.M,this.userId,e))}}function sb(n){return Mi(n,"documentOverlays")}class lp{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Rr(t.integerValue));else if("doubleValue"in t){const r=Rr(t.doubleValue);isNaN(r)?this.ne(e,13):(this.ne(e,15),Uv(r)?e.se(0):e.se(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ne(e,20),"string"==typeof r?e.ie(r):(e.ie(`${r.seconds||""}`),e.se(r.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Zf(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ne(e,45),e.se(r.latitude||0),e.se(r.longitude||0)}else"mapValue"in t?jL(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):lt()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const r=t.fields||{};this.ne(e,55);for(const i of Object.keys(r))this.re(i,e),this.te(r[i],e)}he(t,e){const r=t.values||[];this.ne(e,50);for(const i of r)this.te(i,e)}ae(t,e){this.ne(e,37),We.fromName(t).path.forEach(r=>{this.ne(e,60),this.le(r,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function R6(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function JB(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const a=R6(255&e[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(t/8)}lp.fe=new lp;class k6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this._e(r.value),r=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.ge(r.value),r=e.next();this.ye()}pe(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(e<"\ud800"||"\udbff"<e)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=e.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=e.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(t){const e=this.Ee(t),r=JB(e);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Re(t){const e=this.Ee(t),r=JB(e);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}_e(t){const e=255&t;0===e?(this.be(0),this.be(255)):255===e?(this.be(255),this.be(0)):this.be(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class O6{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.Pe()}}class F6{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class ob{constructor(){this.De=new k6,this.Ce=new O6(this.De),this.xe=new F6(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class qd{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new qd(this.indexId,this.documentKey,this.arrayValue,r)}}function cp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=XB(n.arrayValue,t.arrayValue),0!==e?e:(e=XB(n.directionalValue,t.directionalValue),0!==e?e:We.comparator(n.documentKey,t.documentKey)))}function XB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class N6{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const r=e;r.S()?this.Fe=r:this.Oe.push(r)}}$e(t){const e=IM(t);if(void 0!==e&&!this.Be(e))return!1;const r=Xf(t);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class P6{constructor(){this.qe=new YM}addToCollectionParentIndex(t,e){return this.qe.add(e),ye.resolve()}getCollectionParents(t,e){return ye.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return ye.resolve()}deleteFieldIndex(t,e){return ye.resolve()}getDocumentsMatchingTarget(t,e){return ye.resolve(null)}getFieldIndex(t,e){return ye.resolve(null)}getFieldIndexes(t,e){return ye.resolve([])}getNextCollectionGroupToUpdate(t){return ye.resolve(null)}updateCollectionGroup(t,e,r){return ye.resolve()}updateIndexEntries(t,e){return ye.resolve()}}class YM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new sr(En.comparator),a=!i.has(r);return this.index[e]=i.add(r),a}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new sr(En.comparator)).toArray()}}const bm=new Uint8Array(0);class L6{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new YM,this.Ge=new $d(r=>ep(r),(r,i)=>zv(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const a={collectionId:r,parent:Os(i)};return eV(t).put(a)}return ye.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[OL(e),""],!1,!0);return eV(t).qt(i).next(a=>{for(const u of a){if(u.collectionId!==e)break;r.push(Kl(u.parent))}return r})}addFieldIndex(t,e){const r=BE(t),i={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(t,e){const r=BE(t),i=VE(t),a=ab(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=ab(t);let i=!0;const a=new Map;return ye.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(h=>{i&&(i=!!h),a.set(u,h)})).next(()=>{if(i){let u=Pn();const h=[];return ye.forEach(a,(m,v)=>{var x;Be("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${ep(e)}`);const A=function(et,ze){const Tt=IM(ze);if(void 0===Tt)return null;for(const kt of TE(et,Tt.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(v,m),O=function(et,ze){const Tt=new Map;for(const kt of Xf(ze))for(const gn of TE(et,kt.fieldPath))switch(gn.op){case"==":case"in":Tt.set(kt.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return Tt.set(kt.fieldPath.canonicalString(),gn.value),Array.from(Tt.values())}return null}(v,m),U=function(et,ze){const Tt=[];let kt=!0;for(const gn of Xf(ze)){const xr=0===gn.kind?ZL(et,gn.fieldPath,et.startAt):KL(et,gn.fieldPath,et.startAt);if(!xr.value)return null;Tt.push(xr.value),kt&&(kt=xr.inclusive)}return new jd(Tt,kt)}(v,m),W=function(et,ze){const Tt=[];let kt=!0;for(const gn of Xf(ze)){const xr=0===gn.kind?KL(et,gn.fieldPath,et.endAt):ZL(et,gn.fieldPath,et.endAt);if(!xr.value)return null;Tt.push(xr.value),kt&&(kt=xr.inclusive)}return new jd(Tt,kt)}(v,m),re=this.je(m,v,U),ve=this.je(m,v,W),ke=this.We(m,v,O),Ze=this.ze(m.indexId,A,re,!!U&&U.inclusive,ve,!!W&&W.inclusive,ke);return ye.forEach(Ze,et=>r.Gt(et,e.limit).next(ze=>{ze.forEach(Tt=>{const kt=We.fromSegments(Tt.documentKey);u.has(kt)||(u=u.add(kt),h.push(kt))})}))}).next(()=>h)}return ye.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}ze(t,e,r,i,a,u,h){const m=(null!=e?e.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),v=m/(null!=e?e.length:1),x=[];for(let A=0;A<m;++A){const O=e?this.He(e[A/v]):bm,U=r?this.Je(t,O,r[A%v],i):this.Ye(t),W=a?this.Xe(t,O,a[A%v],u):this.Ye(t+1);x.push(...this.createRange(U,W,h.map(re=>this.Je(t,O,re,!0))))}return x}Je(t,e,r,i){const a=new qd(t,We.empty(),e,r);return i?a:a.ke()}Xe(t,e,r,i){const a=new qd(t,We.empty(),e,r);return i?a.ke():a}Ye(t){return new qd(t,We.empty(),bm,bm)}getFieldIndex(t,e){const r=new N6(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(a=>{const u=a.filter(h=>r.$e(h));return u.sort((h,m)=>m.fields.length-h.fields.length),u.length>0?u[0]:null})}Ze(t,e){const r=new ob;for(const i of Xf(t)){const a=e.data.field(i.fieldPath);if(null==a)return null;const u=r.Ne(i.kind);lp.fe.Zt(a,u)}return r.Se()}He(t){const e=new ob;return lp.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const r=new ob;return lp.fe.Zt(Jf(this.databaseId,e),r.Ne(function(i){const a=Xf(i);return 0===a.length?0:a[a.length-1].kind}(t))),r.Se()}We(t,e,r){if(null===r)return[];let i=[];i.push(new ob);let a=0;for(const u of Xf(t)){const h=r[a++];for(const m of i)if(this.en(e,u.fieldPath)&&Hv(h))i=this.nn(i,u,h);else{const v=m.Ne(u.kind);lp.fe.Zt(h,v)}}return this.sn(i)}je(t,e,r){return null==r?null:this.We(t,e,r.position)}sn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Se();return e}nn(t,e,r){const i=[...t],a=[];for(const u of r.arrayValue.values||[])for(const h of i){const m=new ob;m.seed(h.Se()),lp.fe.Zt(u,m.Ne(e.kind)),a.push(m)}return a}en(t,e){return!!t.filters.find(r=>r instanceof zi&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=BE(t),i=VE(t);return(e?r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.qt()).next(a=>{const u=[];return ye.forEach(a,h=>i.get([h.indexId,this.uid]).next(m=>{u.push(function(v,x){const A=x?new $v(x.sequenceNumber,new nu(ap(x.readTime),new We(Kl(x.documentKey)),x.largestBatchId)):$v.empty(),O=v.fields.map(([U,W])=>new DE(Si.fromServerFormat(U),W));return new EE(v.indexId,v.collectionGroup,O,A)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Jt(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=BE(t),a=VE(t);return this.rn(t).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ye.forEach(h,m=>{return a.put({indexId:m.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:op((O=r).readTime),documentKey:Os(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(t,e){const r=new Map;return ye.forEach(e,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ye.resolve(u):this.getFieldIndexes(t,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),ye.forEach(h,m=>this.on(t,i,m).next(v=>{const x=this.un(a,m);return v.isEqual(x)?ye.resolve():this.an(t,a,m,v,x)}))))})}cn(t,e,r,i){return ab(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,e.key),documentKey:e.key.path.toArray()})}hn(t,e,r,i){return ab(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,e.key),e.key.path.toArray()])}on(t,e,r){const i=ab(t);let a=new sr(cp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,e)])},(u,h)=>{a=a.add(new qd(r.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>a)}un(t,e){let r=new sr(cp);const i=this.Ze(e,t);if(null==i)return r;const a=IM(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Hv(u))for(const h of u.arrayValue.values||[])r=r.add(new qd(e.indexId,t.key,this.He(h),i))}else r=r.add(new qd(e.indexId,t.key,bm,i));return r}an(t,e,r,i,a){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,m,v,x,A){const O=h.getIterator(),U=m.getIterator();let W=mm(O),re=mm(U);for(;W||re;){let ve=!1,ke=!1;if(W&&re){const Ze=v(W,re);Ze<0?ke=!0:Ze>0&&(ve=!0)}else null!=W?ke=!0:ve=!0;ve?(x(re),re=mm(U)):ke?(A(W),W=mm(O)):(W=mm(O),re=mm(U))}}(i,a,cp,h=>{u.push(this.cn(t,e,r,h))},h=>{u.push(this.hn(t,e,r,h))}),ye.waitFor(u)}rn(t){let e=1;return VE(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((u,h)=>cp(u,h)).filter((u,h,m)=>!h||0!==cp(u,m[h-1]));const i=[];i.push(t);for(const u of r){const h=cp(u,t),m=cp(u,e);if(0===h)i[0]=t.ke();else if(h>0&&m<0)i.push(u),i.push(u.ke());else if(m>0)break}i.push(e);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,bm,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,bm,[]]));return a}}function eV(n){return Mi(n,"collectionParents")}function ab(n){return Mi(n,"indexEntries")}function BE(n){return Mi(n,"indexConfiguration")}function VE(n){return Mi(n,"indexState")}const tV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class to{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new to(t,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nV(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=r.Wt({range:u},(x,A,O)=>(h++,O.delete()));a.push(m.next(()=>{Ut(1===h)}));const v=[];for(const x of e.mutations){const A=VB(t,x.key.path,e.batchId);a.push(i.delete(A)),v.push(x.key)}return ye.waitFor(a).next(()=>v)}function UE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw lt();t=n.noDocument}return JSON.stringify(t).length}to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(41943040,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);class ZM{constructor(t,e,r,i){this.userId=t,this.M=e,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(t,e,r,i){Ut(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new ZM(a,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(t).Wt({index:"userMutationsIndex",range:r},(i,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const a=wm(t),u=Wd(t);return u.add({}).next(h=>{Ut("number"==typeof h);const m=new HM(h,e,r,i),v=function(O,U,W){const re=W.baseMutations.map(ke=>nb(O.Jt,ke)),ve=W.mutations.map(ke=>nb(O.Jt,ke));return{userId:U,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:re,mutations:ve}}(this.M,this.userId,m),x=[];let A=new sr((O,U)=>Jt(O.canonicalString(),U.canonicalString()));for(const O of i){const U=VB(this.userId,O.key.path,h);A=A.add(O.key.path.popLast()),x.push(u.put(v)),x.push(a.put(U,u6))}return A.forEach(O=>{x.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.ln[h]=m.keys()}),ye.waitFor(x).next(()=>m)})}lookupMutationBatch(t,e){return Wd(t).get(e).next(r=>r?(Ut(r.userId===this.userId),vm(this.M,r)):null)}fn(t,e){return this.ln[e]?ye.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.ln[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Wd(t).Wt({index:"userMutationsIndex",range:i},(u,h,m)=>{h.userId===this.userId&&(Ut(h.batchId>=r),a=vm(this.M,h)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wd(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(t).qt("userMutationsIndex",e).next(r=>r.map(i=>vm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=NE(this.userId,e.path),i=IDBKeyRange.lowerBound(r),a=[];return wm(t).Wt({range:i},(u,h,m)=>{const[v,x,A]=u,O=Kl(x);if(v===this.userId&&e.path.isEqual(O))return Wd(t).get(A).next(U=>{if(!U)throw lt();Ut(U.userId===this.userId),a.push(vm(this.M,U))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new sr(Jt);const i=[];return e.forEach(a=>{const u=NE(this.userId,a.path),h=IDBKeyRange.lowerBound(u),m=wm(t).Wt({range:h},(v,x,A)=>{const[O,U,W]=v,re=Kl(U);O===this.userId&&a.path.isEqual(re)?r=r.add(W):A.done()});i.push(m)}),ye.waitFor(i).next(()=>this.dn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,a=NE(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new sr(Jt);return wm(t).Wt({range:u},(m,v,x)=>{const[A,O,U]=m,W=Kl(O);A===this.userId&&r.isPrefixOf(W)?W.length===i&&(h=h.add(U)):x.done()}).next(()=>this.dn(t,h))}dn(t,e){const r=[],i=[];return e.forEach(a=>{i.push(Wd(t).get(a).next(u=>{if(null===u)throw lt();Ut(u.userId===this.userId),r.push(vm(this.M,u))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return nV(t.Ht,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return wm(t).Wt({range:r},(a,u,h)=>{if(a[0]===this.userId){const m=Kl(a[1]);i.push(m)}else h.done()}).next(()=>{Ut(0===i.length)})})}containsKey(t,e){return rV(t,this.userId,e)}wn(t){return iV(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rV(n,t,e){const r=NE(t,e.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return wm(n).Wt({range:a,jt:!0},(h,m,v)=>{const[x,A,O]=h;x===t&&A===i&&(u=!0),v.done()}).next(()=>u)}function Wd(n){return Mi(n,"mutations")}function wm(n){return Mi(n,"documentMutations")}function iV(n){return Mi(n,"mutationQueues")}class up{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new up(0)}static yn(){return new up(-1)}}class B6{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const r=new up(e.highestTargetId);return e.highestTargetId=r.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>Mt.fromTimestamp(new jr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.pn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.In(t,i)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(r=>(r.targetCount+=1,this.En(e,r),this.In(t,r))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Cm(t).delete(e.targetId)).next(()=>this.pn(t)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.In(t,r)))}removeTargets(t,e,r){let i=0;const a=[];return Cm(t).Wt((u,h)=>{const m=ib(h);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(t,m)))}).next(()=>ye.waitFor(a)).next(()=>i)}forEachTarget(t,e){return Cm(t).Wt((r,i)=>{const a=ib(i);e(a)})}pn(t){return sV(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}In(t,e){return sV(t).put("targetGlobalKey",e)}Tn(t,e){return Cm(t).put(YB(this.M,e))}En(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=ep(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Cm(t).Wt({range:i,index:"queryTargetsIndex"},(u,h,m)=>{const v=ib(h);zv(e,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(t,e,r){const i=[],a=Yd(t);return e.forEach(u=>{const h=Os(u.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(t,r,u))}),ye.waitFor(i)}removeMatchingKeys(t,e,r){const i=Yd(t);return ye.forEach(e,a=>{const u=Os(a.path);return ye.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(t,r,a)])})}removeMatchingKeysForTargetId(t,e){const r=Yd(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=Yd(t);let a=Pn();return i.Wt({range:r,jt:!0},(u,h,m)=>{const v=Kl(u[1]),x=new We(v);a=a.add(x)}).next(()=>a)}containsKey(t,e){const r=Os(e.path),i=IDBKeyRange.bound([r],[OL(r)],!1,!0);let a=0;return Yd(t).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,h],m,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}Et(t,e){return Cm(t).get(e).next(r=>r?ib(r):null)}}function Cm(n){return Mi(n,"targets")}function sV(n){return Mi(n,"targetGlobal")}function Yd(n){return Mi(n,"targetDocuments")}function dp(n){return KM.apply(this,arguments)}function KM(){return KM=(0,me.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==HB)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),KM.apply(this,arguments)}function oV([n,t],[e,r]){const i=Jt(n,e);return 0===i?Jt(t,r):i}class V6{constructor(t){this.An=t,this.buffer=new sr(oV),this.Rn=0}Pn(){return++this.Rn}bn(t){const e=[t,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();oV(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const r=this.Vn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(i){ip(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dp(i)}yield e.Sn(t)}))}}class G6{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return ye.resolve(Go.A);const r=new V6(e);return this.Dn.forEachTarget(t,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(t,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Dn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(tV)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tV):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let r,i,a,u,h,m,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(t,i))).next(A=>(r=A,h=Date.now(),this.removeTargets(t,r,e))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(A=>(v=Date.now(),DM()<=Oc.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-x}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(m-h)+`ms\n\tRemoved ${A} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class H6{constructor(t,e){this.db=t,this.garbageCollector=new G6(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}kn(t){let e=0;return this.xn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(r,i)=>e(i))}addReference(t,e,r){return GE(t,r)}removeReference(t,e,r){return GE(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return GE(t,e)}On(t,e){return function(r,i){let a=!1;return iV(r).zt(u=>rV(r,u,i).next(h=>(h&&(a=!0),ye.resolve(!h)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(t,(u,h)=>{if(h<=e){const m=this.On(t,u).next(v=>{if(!v)return a++,r.getEntry(t,u).next(()=>(r.removeEntry(u,Mt.min()),Yd(t).delete([0,Os(u.path)])))});i.push(m)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(t)).next(()=>a)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return GE(t,e)}Mn(t,e){const r=Yd(t);let i,a=Go.A;return r.Wt({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(a!==Go.A&&e(new We(Kl(i)),a),a=v,i=m):a=Go.A}).next(()=>{a!==Go.A&&e(new We(Kl(i)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function GE(n,t){return Yd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Os(t.path),sequenceNumber:r}));var r}class aV{constructor(){this.changes=new $d(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ir.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ye.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class j6{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return hp(t).put(r)}removeEntry(t,e,r){return hp(t).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],LE(a),u[u.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Fn(t,r)))}getEntry(t,e){let r=ir.newInvalidDocument(e);return hp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lb(e))},(i,a)=>{r=this.$n(e,a)}).next(()=>r)}Bn(t,e){let r={size:0,document:ir.newInvalidDocument(e)};return hp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lb(e))},(i,a)=>{r={document:this.$n(e,a),size:UE(a)}}).next(()=>r)}getEntries(t,e){let r=Da();return this.Ln(t,e,(i,a)=>{const u=this.$n(i,a);r=r.insert(i,u)}).next(()=>r)}Un(t,e){let r=Da(),i=new $r(We.comparator);return this.Ln(t,e,(a,u)=>{const h=this.$n(a,u);r=r.insert(a,h),i=i.insert(a,UE(u))}).next(()=>({documents:r,qn:i}))}Ln(t,e,r){if(e.isEmpty())return ye.resolve();let i=new sr(uV);e.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(lb(i.first()),lb(i.last())),u=i.getIterator();let h=u.getNext();return hp(t).Wt({index:"documentKeyIndex",range:a},(m,v,x)=>{const A=We.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&uV(h,A)<0;)r(h,null),h=u.getNext();h&&h.isEqual(A)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?x.Ut(lb(h)):x.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),LE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hp(t).qt(IDBKeyRange.bound(i,a,!0)).next(u=>{let h=Da();for(const m of u){const v=this.$n(We.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,r,i){let a=Da();const u=cV(e,r),h=cV(e,nu.max());return hp(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,x)=>{const A=this.$n(We.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(A.key,A),a.size===i&&x.done()}).next(()=>a)}newChangeBuffer(t){return new $6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return lV(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}Fn(t,e){return lV(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const r=function I6(n,t){let e;if(t.document)e=RB(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=We.fromSegments(t.noDocument.path),i=ap(t.noDocument.readTime);e=ir.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return lt();{const r=We.fromSegments(t.unknownDocument.path),i=ap(t.unknownDocument.version);e=ir.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new jr(r[0],r[1]);return Mt.fromTimestamp(i)}(t.readTime)),e}(this.M,e);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return ir.newInvalidDocument(t)}}class $6 extends aV{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new $d(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new sr((a,u)=>Jt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Gn.get(a);if(e.push(this.Kn.removeEntry(t,a,h.readTime)),u.isValidDocument()){const m=WB(this.Kn.M,u);i=i.add(a.path.popLast()),r+=UE(m)-h.size,e.push(this.Kn.addEntry(t,a,m))}else if(r-=h.size,this.trackRemovals){const m=WB(this.Kn.M,u.convertToNoDocument(Mt.min()));e.push(this.Kn.addEntry(t,a,m))}}),i.forEach(a=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Kn.updateMetadata(t,r)),ye.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(r=>(this.Gn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:r,qn:i})=>(i.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function lV(n){return Mi(n,"remoteDocumentGlobal")}function hp(n){return Mi(n,"remoteDocumentsV14")}function lb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cV(n,t){const e=t.documentKey.path.toArray();return[n,LE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function uV(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let a=0;a<e.length-2&&a<r.length-2;++a)if(i=Jt(e[a],r[a]),i)return i;return i=Jt(e.length,r.length),i||(i=Jt(e[e.length-2],r[r.length-2]),i||Jt(e[e.length-1],r[r.length-1]))}class z6{constructor(t){this.M=t}kt(t,e,r,i){const a=new PE("createOrUpgrade",e);var h;r<1&&i>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BB,{unique:!0}),h.createObjectStore("documentMutations"),dV(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ye.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),dV(t)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,m){return m.store("mutations").qt().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BB,{unique:!0});const x=m.store("mutations"),A=v.map(O=>x.put(O));return ye.waitFor(A)})}(t,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(u=u.next(()=>this.Qn(a))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(a)))),r<7&&i>=7&&(u=u.next(()=>this.Wn(a))),r<8&&i>=8&&(u=u.next(()=>this.zn(t,a))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(u=u.next(()=>this.Hn(a))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:C6});m.createIndex("collectionPathOverlayIndex",E6,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",D6,{unique:!1})}(t)})),r<13&&i>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:d6});m.createIndex("documentKeyIndex",h6),m.createIndex("collectionGroupIndex",f6)}(t)).next(()=>this.Jn(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:y6}).createIndex("sequenceNumberIndex",v6,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:b6}).createIndex("documentKeyIndex",w6,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((r,i)=>{e+=UE(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.qt().next(i=>ye.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(h=>ye.forEach(h,m=>{Ut(m.userId===a.userId);const v=vm(this.M,m);return nV(t,a.userId,v).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((u,h)=>{const m=new En(u),v=[0,Os(m)];a.push(e.get(v).next(x=>x?ye.resolve():e.put({targetId:0,path:Os(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:_6});const r=e.store("collectionParents"),i=new YM,a=u=>{if(i.add(u)){const h=u.lastSegment(),m=u.popLast();return r.put({collectionId:h,parent:Os(m)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const m=new En(u);return a(m.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,m],v)=>{const x=Kl(h);return a(x.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((r,i)=>{const a=ib(i),u=YB(this.M,a);return e.put(u)})}Jn(t,e){const r=e.store("remoteDocuments"),i=[];return r.Wt((a,u)=>{const h=e.store("remoteDocumentsV14"),m=(v=u,v.document?new We(En.fromString(v.document.name).popFirst(5)):v.noDocument?We.fromSegments(v.noDocument.path):v.unknownDocument?We.fromSegments(v.unknownDocument.path):lt()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(x))}).next(()=>ye.waitFor(i))}}function dV(n){n.createObjectStore("targetDocuments",{keyPath:g6}).createIndex("documentTargetsIndex",m6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",p6,{unique:!0}),n.createObjectStore("targetGlobal")}const QM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JM{constructor(t,e,r,i,a,u,h,m,v,x,A=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Yn=a,this.window=u,this.document=h,this.Xn=v,this.Zn=x,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=O=>Promise.resolve(),!JM.vt())throw new Oe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H6(this,i),this.hs=e+"main",this.M=new qB(m),this.ls=new il(this.hs,this.ts,new z6(this.M)),this.fs=new B6(this.referenceDelegate,this.M),this.ds=new j6(this.M),this._s=new M6,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===x&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,QM);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Go(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var r=(0,me.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,me.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,me.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>HE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.Ps(t).next(()=>!0))).catch(t=>{if(ip(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return cb(t).get("owner").next(e=>ye.resolve(this.bs(e)))}Vs(t){return HE(t).delete(this.clientId)}vs(){var t=this;return(0,me.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Mi(r,"clientMetadata");return i.qt().next(a=>{const u=t.Ds(a,18e5),h=a.filter(m=>-1===u.indexOf(m));return ye.forEach(h,m=>i.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const r of e)t.ws.removeItem(t.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?ye.resolve(!0):cb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,QM);return!1}}return!(!this.networkEnabled||!this.inForeground)||HE(t).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,me.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new zB(e,Go.A);return t.Rs(r).next(()=>t.Vs(r))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(r=>this.Ss(r.updateTimeMs,e)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>HE(t).qt().next(e=>this.Ds(e,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return ZM.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new L6(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return WM.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,r){Be("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",a=14===(u=this.ts)?T6:13===u?GB:12===u?x6:11===u?UB:void lt();var u;let h;return this.ls.runTransaction(t,i,a,m=>(h=new zB(m,this.es?this.es.next():Go.A),"readwrite-primary"===e?this.Es(h).next(v=>!!v||this.As(h)).next(v=>{if(!v)throw Xr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(ge.FAILED_PRECONDITION,HB);return r(h)}).next(v=>this.Ps(h).next(()=>v)):this.$s(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}$s(t){return cb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.bs(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(ge.FAILED_PRECONDITION,QM)})}Ps(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cb(t).put("owner",e)}static vt(){return il.vt()}Rs(t){const e=cb(t);return e.get("owner").next(r=>this.bs(r)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ye.resolve())}Ss(t,e){const r=Date.now();return!(t<r-e||t>r&&(Xr(`Detected an update time that is in the future: ${t} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ct.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const r=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Be("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){Xr("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cb(n){return Mi(n,"owner")}function HE(n){return Mi(n,"clientMetadata")}function XM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class q6{constructor(t,e,r){this.ds=t,this.Bs=e,this.indexManager=r}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Us(t,e,r))}Us(t,e,r){return this.ds.getEntry(t,e).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(t,e){t.forEach((r,i)=>{for(const a of e)a.applyToLocalView(i)})}Ks(t,e){return this.ds.getEntries(t,e).next(r=>this.Gs(t,r).next(()=>r))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.qs(e,r))}Qs(t,e,r){return We.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(t,e.path):kM(e)?this.Ws(t,e,r):this.zs(t,e,r);var i}js(t,e){return this.Ls(t,new We(e)).next(r=>{let i=LM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(t,e,r){const i=e.collectionGroup;let a=LM();return this.indexManager.getCollectionParents(t,i).next(u=>ye.forEach(u,h=>{const m=(v=e,x=h.child(i),new ru(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.zs(t,m,r).next(v=>{v.forEach((x,A)=>{a=a.insert(x,A)})})}).next(()=>a))}zs(t,e,r){let i;return this.ds.getAllFromCollection(t,e.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(a=>{for(const u of a)for(const h of u.mutations){const m=h.key;let v=i.get(m);null==v&&(v=ir.newInvalidDocument(m),i=i.insert(m,v)),NM(h,v,u.localWriteTime),v.isFoundDocument()||(i=i.remove(m))}}).next(()=>(i.forEach((a,u)=>{FM(e,u)||(i=i.remove(a))}),i))}}class eR{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Hs=r,this.Js=i}static Ys(t,e){let r=Pn(),i=Pn();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new eR(t,e.fromCache,r,i)}}class hV{Xs(t){this.Zs=t}Qs(t,e,r,i){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Mt.min())?this.ti(t,e):this.Zs.Ks(t,i).next(a=>{const u=this.ei(e,a);return(AE(e)||SE(e))&&this.ni(e.limitType,u,i,r)?this.ti(t,e):(DM()<=Oc.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OM(e)),this.Zs.Qs(t,e,WL(r,-1)).next(h=>(u.forEach(m=>{h=h.insert(m.key,m)}),h)))});var a}ei(t,e){let r=new sr(iB(t));return e.forEach((i,a)=>{FM(t,a)&&(r=r.add(a))}),r}ni(t,e,r,i){if(r.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(t,e){return DM()<=Oc.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",OM(e)),this.Zs.Qs(t,e,nu.min())}}class W6{constructor(t,e,r,i){this.persistence=t,this.si=e,this.M=i,this.ii=new $r(Jt),this.ri=new $d(a=>ep(a),zv),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.ci=new q6(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ii))}}function fV(n,t,e,r){return new W6(n,t,e,r)}function pV(n,t){return tR.apply(this,arguments)}function tR(){return tR=(0,me.Z)(function*(n,t){const e=Je(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.Bs.getAllMutationBatches(r).next(a=>(i=a,e.ai(t),e.Bs.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let m=Pn();for(const v of i){u.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of a){h.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return e.ci.Ks(r,m).next(v=>({hi:v,removedBatchIds:u,addedBatchIds:h}))})})}),tR.apply(this,arguments)}function Y6(n,t){const e=Je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=e.ui.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const x=m.batch,A=x.keys();let O=ye.resolve();return A.forEach(U=>{O=O.next(()=>v.getEntry(h,U)).next(W=>{const re=m.docVersions.get(U);Ut(null!==re),W.version.compareTo(re)<0&&(x.applyToRemoteDocument(W,m),W.isValidDocument()&&(W.setReadTime(m.commitVersion),v.addEntry(W)))})}),O.next(()=>u.Bs.removeMutationBatch(h,x))}(e,r,t,a).next(()=>a.apply(r)).next(()=>e.Bs.performConsistencyCheck(r)).next(()=>e.ci.Ks(r,i))})}function gV(n){const t=Je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function Z6(n,t){const e=Je(n),r=t.snapshotVersion;let i=e.ii;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.ui.newChangeBuffer({trackRemovals:!0});i=e.ii;const h=[];t.targetChanges.forEach((v,x)=>{const A=i.get(x);if(!A)return;h.push(e.fs.removeMatchingKeys(a,v.removedDocuments,x).next(()=>e.fs.addMatchingKeys(a,v.addedDocuments,x)));let O=A.withSequenceNumber(a.currentSequenceNumber);var U,W,re;t.targetMismatches.has(x)?O=O.withResumeToken(fi.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),i=i.insert(x,O),W=O,re=v,(0===(U=A).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(a,O))});let m=Da();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(mV(a,u,t.documentUpdates).next(v=>{m=v})),!r.isEqual(Mt.min())){const v=e.fs.getLastRemoteSnapshotVersion(a).next(x=>e.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return ye.waitFor(h).next(()=>u.apply(a)).next(()=>e.ci.Gs(a,m)).next(()=>m)}).then(a=>(e.ii=i,a))}function mV(n,t,e){let r=Pn();return e.forEach(i=>r=r.add(i)),t.getEntries(n,r).next(i=>{let a=Da();return e.forEach((u,h)=>{const m=i.get(u);h.isNoDocument()&&h.version.isEqual(Mt.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||0===h.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):Be("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),a})}function K6(n,t){const e=Je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(r,t)))}function Em(n,t){const e=Je(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.fs.getTargetData(r,t).next(a=>a?(i=a,ye.resolve(i)):e.fs.allocateTargetId(r).next(u=>(i=new zd(t,u,0,r.currentSequenceNumber),e.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.ii=e.ii.insert(r.targetId,r),e.ri.set(t,r.targetId)),r})}function Dm(n,t,e){return nR.apply(this,arguments)}function nR(){return nR=(0,me.Z)(function*(n,t,e){const r=Je(n),i=r.ii.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!ip(u))throw u;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}r.ii=r.ii.remove(t),r.ri.delete(i.target)}),nR.apply(this,arguments)}function jE(n,t,e){const r=Je(n);let i=Mt.min(),a=Pn();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const x=Je(h),A=x.ri.get(v);return void 0!==A?ye.resolve(x.ii.get(A)):x.fs.getTargetData(m,v)}(r,u,Ea(t)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{a=m})}).next(()=>r.si.Qs(u,t,e?i:Mt.min(),e?a:Pn())).next(h=>(vV(r,rB(t),h),{documents:h,li:a})))}function _V(n,t){const e=Je(n),r=Je(e.fs),i=e.ii.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,t).next(u=>u?u.target:null))}function yV(n,t){const e=Je(n),r=e.oi.get(t)||Mt.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.ui.getAllFromCollectionGroup(i,t,WL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vV(e,t,i),i))}function vV(n,t,e){let r=Mt.min();e.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(t,r)}function rR(){return rR=(0,me.Z)(function*(n,t,e,r){const i=Je(n);let a=Pn(),u=Da();for(const v of e){const x=t.fi(v.metadata.name);v.document&&(a=a.add(x));const A=t.di(v);A.setReadTime(t._i(v.metadata.readTime)),u=u.insert(x,A)}const h=i.ui.newChangeBuffer({trackRemovals:!0}),m=yield Em(i,(v=r,Ea(hm(En.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>mV(v,h,u).next(x=>(h.apply(v),x)).next(x=>i.fs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.fs.addMatchingKeys(v,a,m.targetId)).next(()=>i.ci.Gs(v,x)).next(()=>x)))}),rR.apply(this,arguments)}function J6(n,t){return iR.apply(this,arguments)}function iR(){return iR=(0,me.Z)(function*(n,t,e=Pn()){const r=yield Em(n,Ea(zM(t.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Ii(t.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i._s.saveNamedQuery(a,t);const h=r.withResumeToken(fi.EMPTY_BYTE_STRING,u);return i.ii=i.ii.insert(h.targetId,h),i.fs.updateTargetData(a,h).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,e,r.targetId)).next(()=>i._s.saveNamedQuery(a,t))})}),iR.apply(this,arguments)}class X6{constructor(t){this.M=t,this.wi=new Map,this.mi=new Map}getBundleMetadata(t,e){return ye.resolve(this.wi.get(e))}saveBundleMetadata(t,e){var r;return this.wi.set(e.id,{id:(r=e).id,version:r.version,createTime:Ii(r.createTime)}),ye.resolve()}getNamedQuery(t,e){return ye.resolve(this.mi.get(e))}saveNamedQuery(t,e){return this.mi.set(e.name,{name:(r=e).name,query:zM(r.bundledQuery),readTime:Ii(r.readTime)}),ye.resolve();var r}}class eq{constructor(){this.overlays=new $r(We.comparator),this.gi=new Map}getOverlay(t,e){return ye.resolve(this.overlays.get(e))}saveOverlays(t,e,r){return r.forEach((i,a)=>{this.Xt(t,e,a)}),ye.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),ye.resolve()}getOverlaysForCollection(t,e,r){const i=Kv(),a=e.length+1,u=new We(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ye.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let a=new $r((v,x)=>v-x);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=a.get(v.largestBatchId);null===x&&(x=Kv(),a=a.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const h=Kv(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>h.set(v,x)),!(h.size()>=i)););return ye.resolve(h)}Xt(t,e,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $M(e,r));let a=this.gi.get(e);void 0===a&&(a=Pn(),this.gi.set(e,a)),this.gi.set(e,a.add(r.key))}}class sR{constructor(){this.yi=new sr(Ri.pi),this.Ii=new sr(Ri.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(t,e){const r=new Ri(t,e);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Ai(new Ri(t,e))}Ri(t,e){t.forEach(r=>this.removeReference(r,e))}Pi(t){const e=new We(new En([])),r=new Ri(e,t),i=new Ri(e,t+1),a=[];return this.Ii.forEachInRange([r,i],u=>{this.Ai(u),a.push(u.key)}),a}bi(){this.yi.forEach(t=>this.Ai(t))}Ai(t){this.yi=this.yi.delete(t),this.Ii=this.Ii.delete(t)}Vi(t){const e=new We(new En([])),r=new Ri(e,t),i=new Ri(e,t+1);let a=Pn();return this.Ii.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new Ri(t,0),r=this.yi.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Ri{constructor(t,e){this.key=t,this.vi=e}static pi(t,e){return We.comparator(t.key,e.key)||Jt(t.vi,e.vi)}static Ti(t,e){return Jt(t.vi,e.vi)||We.comparator(t.key,e.key)}}class tq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.Si=1,this.Di=new sr(Ri.pi)}checkEmpty(t){return ye.resolve(0===this.Bs.length)}addMutationBatch(t,e,r,i){const a=this.Si;this.Si++;const u=new HM(a,e,r,i);this.Bs.push(u);for(const h of i)this.Di=this.Di.add(new Ri(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(t,e){return ye.resolve(this.Ci(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.xi(e+1),a=i<0?0:i;return ye.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(t){return ye.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ri(e,0),i=new Ri(e,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],u=>{const h=this.Ci(u.vi);a.push(h)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new sr(Jt);return e.forEach(i=>{const a=new Ri(i,0),u=new Ri(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,u],h=>{r=r.add(h.vi)})}),ye.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const u=new Ri(new We(a),0);let h=new sr(Jt);return this.Di.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(m.vi)),!0)},u),ye.resolve(this.Ni(h))}Ni(t){const e=[];return t.forEach(r=>{const i=this.Ci(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Ut(0===this.ki(e.batchId,"removed")),this.Bs.shift();let r=this.Di;return ye.forEach(e.mutations,i=>{const a=new Ri(i.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Di=r})}_n(t){}containsKey(t,e){const r=new Ri(e,0),i=this.Di.firstAfterOrEqual(r);return ye.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return ye.resolve()}ki(t,e){return this.xi(t)}xi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}Ci(t){const e=this.xi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class nq{constructor(t){this.Mi=t,this.docs=new $r(We.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),a=i?i.size:0,u=this.Mi(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ye.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(e))}getEntries(t,e){let r=Da();return e.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ir.newInvalidDocument(i))}),ye.resolve(r)}getAllFromCollection(t,e,r){let i=Da();const a=new We(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||xz(Dz(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(t,e,r,i){lt()}Oi(t,e){return ye.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new rq(this)}getSize(t){return ye.resolve(this.size)}}class rq extends aV{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Kn.addEntry(t,i)):this.Kn.removeEntry(r)}),ye.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class iq{constructor(t){this.persistence=t,this.Fi=new $d(e=>ep(e),zv),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new sR,this.targetCount=0,this.Li=up.gn()}forEachTarget(t,e){return this.Fi.forEach((r,i)=>e(i)),ye.resolve()}getLastRemoteSnapshotVersion(t){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ye.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Li.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$i&&(this.$i=e),ye.resolve()}Tn(t){this.Fi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Li=new up(e),this.highestTargetId=e),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,ye.resolve()}updateTargetData(t,e){return this.Tn(e),ye.resolve()}removeTargetData(t,e){return this.Fi.delete(e.target),this.Bi.Pi(e.targetId),this.targetCount-=1,ye.resolve()}removeTargets(t,e,r){let i=0;const a=[];return this.Fi.forEach((u,h)=>{h.sequenceNumber<=e&&null===r.get(h.targetId)&&(this.Fi.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(t){return ye.resolve(this.targetCount)}getTargetData(t,e){const r=this.Fi.get(e)||null;return ye.resolve(r)}addMatchingKeys(t,e,r){return this.Bi.Ei(e,r),ye.resolve()}removeMatchingKeys(t,e,r){this.Bi.Ri(e,r);const i=this.persistence.referenceDelegate,a=[];return i&&e.forEach(u=>{a.push(i.markPotentiallyOrphaned(t,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Bi.Pi(e),ye.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Bi.Vi(e);return ye.resolve(r)}containsKey(t,e){return ye.resolve(this.Bi.containsKey(e))}}class sq{constructor(t,e){this.Ui={},this.overlays={},this.es=new Go(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new iq(this),this.indexManager=new P6,this.ds=new nq(r=>this.referenceDelegate.qi(r)),this.M=new qB(e),this._s=new X6(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new eq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Ui[t.toKey()];return r||(r=new tq(e,this.referenceDelegate),this.Ui[t.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,r){Be("MemoryPersistence","Starting transaction:",t);const i=new oq(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(t,e){return ye.or(Object.values(this.Ui).map(r=>()=>r.containsKey(t,e)))}}class oq extends jB{constructor(t){super(),this.currentSequenceNumber=t}}class oR{constructor(t){this.persistence=t,this.ji=new sR,this.Wi=null}static zi(t){return new oR(t)}get Hi(){if(this.Wi)return this.Wi;throw lt()}addReference(t,e,r){return this.ji.addReference(r,e),this.Hi.delete(r.toString()),ye.resolve()}removeReference(t,e,r){return this.ji.removeReference(r,e),this.Hi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(t,e){return this.Hi.add(e.toString()),ye.resolve()}removeTarget(t,e){this.ji.Pi(e.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(t,e))}Ki(){this.Wi=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Hi,r=>{const i=We.fromPath(r);return this.Ji(t,i).next(a=>{a||e.removeEntry(i,Mt.min())})}).next(()=>(this.Wi=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ji(t,e).next(r=>{r?this.Hi.delete(e.toString()):this.Hi.add(e.toString())})}qi(t){return 0}Ji(t,e){return ye.or([()=>ye.resolve(this.ji.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Qi(t,e)])}}function bV(n,t){return`firestore_clients_${n}_${t}`}function wV(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function aR(n,t){return`firestore_targets_${n}_${t}`}class $E{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Yi(t,e,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new $E(t,e,i.state,a):(Xr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ub{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Yi(t,e){const r=JSON.parse(e);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new ub(t,r.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class zE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Yi(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=OE();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=LL(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new zE(t,a):(Xr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class lR{constructor(t,e){this.clientId=t,this.onlineState=e}static Yi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new lR(e.clientId,e.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class cR{constructor(){this.activeTargetIds=OE()}Zi(t){this.activeTargetIds=this.activeTargetIds.add(t)}tr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uR{constructor(t,e,r,i,a){this.window=t,this.Yn=e,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new $r(Jt),this.started=!1,this.rr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=bV(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new cR),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,me.Z)(function*(){const e=yield t.syncEngine.Fs();for(const i of e){if(i===t.er)continue;const a=t.getItem(bV(t.persistenceKey,i));if(a){const u=zE.Yi(i,a);u&&(t.ir=t.ir.insert(u.clientId,u))}}t.wr();const r=t.storage.getItem(t.dr);if(r){const i=t.mr(r);i&&t.gr(i)}for(const i of t.rr)t.sr(i);t.rr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(t){let e=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.pr(t,"pending")}updateMutationState(t,e,r){this.pr(t,e,r),this.Ir(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(aR(this.persistenceKey,t));if(r){const i=ub.Yi(t,r);i&&(e=i.state)}}return this.Tr.Zi(t),this.wr(),e}removeLocalQueryTarget(t){this.Tr.tr(t),this.wr()}isLocalQueryTarget(t){return this.Tr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(aR(this.persistenceKey,t))}updateQueryState(t,e,r){this.Er(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.Ir(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Ar(t)}notifyBundleLoaded(t){this.Rr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}sr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,me.Z)(function*(){if(e.started){if(null!==r.key)if(e.cr.test(r.key)){if(null==r.newValue){const i=e.Pr(r.key);return e.br(i,null)}{const i=e.Vr(r.key,r.newValue);if(i)return e.br(i.clientId,i)}}else if(e.hr.test(r.key)){if(null!==r.newValue){const i=e.vr(r.key,r.newValue);if(i)return e.Sr(i)}}else if(e.lr.test(r.key)){if(null!==r.newValue){const i=e.Dr(r.key,r.newValue);if(i)return e.Cr(i)}}else if(r.key===e.dr){if(null!==r.newValue){const i=e.mr(r.newValue);if(i)return e.gr(i)}}else if(r.key===e.ar){const i=function(a){let u=Go.A;if(null!=a)try{const h=JSON.parse(a);Ut("number"==typeof h),u=h}catch(h){Xr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==Go.A&&e.sequenceNumberHandler(i)}else if(r.key===e._r){const i=e.Nr(r.newValue);yield Promise.all(i.map(a=>e.syncEngine.kr(a)))}}else e.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(t,e,r){const i=new $E(this.currentUser,t,e,r),a=wV(this.persistenceKey,this.currentUser,t);this.setItem(a,i.Xi())}Ir(t){const e=wV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Ar(t){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:t}))}Er(t,e,r){const i=aR(this.persistenceKey,t),a=new ub(t,e,r);this.setItem(i,a.Xi())}Rr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}Pr(t){const e=this.cr.exec(t);return e?e[1]:null}Vr(t,e){const r=this.Pr(t);return zE.Yi(r,e)}vr(t,e){const r=this.hr.exec(t),i=Number(r[1]);return $E.Yi(new $i(void 0!==r[2]?r[2]:null),i,e)}Dr(t,e){const r=this.lr.exec(t),i=Number(r[1]);return ub.Yi(i,e)}mr(t){return lR.Yi(t)}Nr(t){return JSON.parse(t)}Sr(t){var e=this;return(0,me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Mr(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Cr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const r=e?this.ir.insert(t,e):this.ir.remove(t),i=this.yr(this.ir),a=this.yr(r),u=[],h=[];return a.forEach(m=>{i.has(m)||u.push(m)}),i.forEach(m=>{a.has(m)||h.push(m)}),this.syncEngine.Fr(u,h).then(()=>{this.ir=r})}gr(t){this.ir.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}yr(t){let e=OE();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class CV{constructor(){this.$r=new cR,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.$r.Zi(t),this.Br[t]||"not-current"}updateQueryState(t,e,r){this.Br[t]=e}removeLocalQueryTarget(t){this.$r.tr(t)}isLocalQueryTarget(t){return this.$r.activeTargetIds.has(t)}clearQueryState(t){delete this.Br[t]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(t){return this.$r.activeTargetIds.has(t)}start(){return this.$r=new cR,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class aq{Lr(t){}shutdown(){}}class EV{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(t){this.Qr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Qr)t(0)}Gr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Qr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cq{constructor(t){this.Wr=t.Wr,this.zr=t.zr}Hr(t){this.Jr=t}Yr(t){this.Xr=t}onMessage(t){this.Zr=t}close(){this.zr()}send(t){this.Wr(t)}eo(){this.Jr()}no(t){this.Xr(t)}so(t){this.Zr(t)}}class uq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.io=(t.ssl?"https":"http")+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(t,e,r,i,a){const u=this.uo(t,e);Be("RestConnection","Sending: ",u,r);const h={};return this.ao(h,i,a),this.co(t,u,h,r).then(m=>(Be("RestConnection","Received: ",m),m),m=>{throw Lv("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",r),m})}ho(t,e,r,i,a){return this.oo(t,e,r,i,a)}ao(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+am,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}uo(t,e){return`${this.io}/v1/${e}:${lq[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,r,i){return new Promise((a,u)=>{const h=new lz;h.listenOnce(sz.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case EM.NO_ERROR:const v=h.getResponseJson();Be("Connection","XHR received:",JSON.stringify(v)),a(v);break;case EM.TIMEOUT:Be("Connection",'RPC "'+t+'" timed out'),u(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:const x=h.getStatus();if(Be("Connection",'RPC "'+t+'" failed with status:',x,"response text:",h.getResponseText()),x>0){const A=h.getResponseJson().error;if(A&&A.status&&A.message){const O=function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(W)>=0?W:ge.UNKNOWN}(A.status);u(new Oe(O,A.message))}else u(new Oe(ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Be("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(i);h.send(e,"POST",m,r,15)})}lo(t,e,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=rz(),u=iz(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new az({})),this.ao(h.initMessageHeaders,e,r),(0,Ct.uI)()||(0,Ct.b$)()||(0,Ct.d)()||(0,Ct.w1)()||(0,Ct.Mn)()||(0,Ct.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=i.join("");Be("Connection","Creating WebChannel: "+m,h);const v=a.createWebChannel(m,h);let x=!1,A=!1;const O=new cq({Wr:W=>{A?Be("Connection","Not sending because WebChannel is closed:",W):(x||(Be("Connection","Opening WebChannel transport."),v.open(),x=!0),Be("Connection","WebChannel sending:",W),v.send(W))},zr:()=>v.close()}),U=(W,re,ve)=>{W.listen(re,ke=>{try{ve(ke)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return U(v,wE.EventType.OPEN,()=>{A||Be("Connection","WebChannel transport opened.")}),U(v,wE.EventType.CLOSE,()=>{A||(A=!0,Be("Connection","WebChannel transport closed"),O.no())}),U(v,wE.EventType.ERROR,W=>{A||(A=!0,Lv("Connection","WebChannel transport errored:",W),O.no(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),U(v,wE.EventType.MESSAGE,W=>{var re;if(!A){const ve=W.data[0];Ut(!!ve);const ke=ve,Ze=ke.error||(null===(re=ke[0])||void 0===re?void 0:re.error);if(Ze){Be("Connection","WebChannel received error:",Ze);const et=Ze.status;let ze=function(kt){const gn=ti[kt];if(void 0!==gn)return vB(gn)}(et),Tt=Ze.message;void 0===ze&&(ze=ge.INTERNAL,Tt="Unknown error status: "+et+" with message "+Ze.message),A=!0,O.no(new Oe(ze,Tt)),v.close()}else Be("Connection","WebChannel received:",ve),O.so(ve)}}),U(u,oz.STAT_EVENT,W=>{W.stat===SL.PROXY?Be("Connection","Detected buffering proxy"):W.stat===SL.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.eo()},0),O}}function DV(){return"undefined"!=typeof window?window:null}function qE(){return"undefined"!=typeof document?document:null}function db(n){return new Jz(n,!0)}class dR{constructor(t,e,r=1e3,i=1.5,a=6e4){this.Yn=t,this.timerId=e,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(t){this.cancel();const e=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,e-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),t())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class xV{constructor(t,e,r,i,a,u,h,m){this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new dR(t,e)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var t=this;return(0,me.Z)(function*(){t.Co()&&(yield t.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(t){this.$o(),this.stream.send(t)}Oo(){var t=this;return(0,me.Z)(function*(){if(t.xo())return t.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(t,e){var r=this;return(0,me.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==t?r.Do.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Xr(e.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):e&&e.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Yr(e)})()}Lo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===e&&this.qo(r,i)},r=>{t(()=>{const i=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(t,e){const r=this.Uo(this.Vo);this.stream=this.Go(t,e),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var t=this;this.state=5,this.Do.To((0,me.Z)(function*(){t.state=0,t.start()}))}Ko(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Yn.enqueueAndForget(()=>this.Vo===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dq extends xV{constructor(t,e,r,i,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,u),this.M=a}Go(t,e){return this.bo.lo("Listen",t,e)}onMessage(t){this.Do.reset();const e=function t6(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:lt(),i=t.targetChange.targetIds||[],a=function(m,v){return m.N?(Ut(void 0===v||"string"==typeof v),fi.fromBase64String(v||"")):(Ut(void 0===v||v instanceof Uint8Array),fi.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const v=void 0===m.code?ge.UNKNOWN:vB(m.code);return new Oe(v,m.message||"")}(u);e=new CB(r,i,a,h||null)}else if("documentChange"in t){const r=t.documentChange,i=Zl(n,r.document.name),a=Ii(r.document.updateTime),u=new cs({mapValue:{fields:r.document.fields}}),h=ir.newFoundDocument(i,a,u);e=new FE(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const r=t.documentDelete,i=Zl(n,r.document),a=r.readTime?Ii(r.readTime):Mt.min(),u=ir.newNoDocument(i,a);e=new FE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const r=t.documentRemove,i=Zl(n,r.document);e=new FE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return lt();{const r=t.filter,a=new jz(r.count||0);e=new wB(r.targetId,a)}}var m;return e}(this.M,t),r=function(i){if(!("targetChange"in i))return Mt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?Ii(a.readTime):Mt.min()}(t);return this.listener.Qo(e,r)}jo(t){const e={};e.database=tb(this.M),e.addTarget=function(i,a){let u;const h=a.target;return u=xE(h)?{documents:kB(i,h)}:{query:OB(i,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=TB(i,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=Xv(i,a.snapshotVersion.toTimestamp())),u}(this.M,t);const r=function r6(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Fo(e)}Wo(t){const e={};e.database=tb(this.M),e.removeTarget=t,this.Fo(e)}}class hq extends xV{constructor(t,e,r,i,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,u),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(t,e){return this.bo.lo("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.zo){this.Do.reset();const e=function n6(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(r,i){let a=Ii(r.updateTime?r.updateTime:i);return a.isEqual(Mt.min())&&(a=Ii(i)),new Uz(a,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.Yo(r,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const t={};t.database=tb(this.M),this.Fo(t)}Jo(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>nb(this.M,r))};this.Fo(e)}}class fq extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}oo(t,e,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(t,e,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ge.UNKNOWN,i.toString())})}ho(t,e,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(t,e,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ge.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class pq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ou("Offline")))}set(t){this.cu(),this.nu=0,"Online"===t&&(this.iu=!1),this.ou(t)}ou(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}uu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Xr(e),this.iu=!1):Be("OnlineStateTracker",e)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class gq{constructor(t,e,r,i,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(h=>{r.enqueueAndForget((0,me.Z)(function*(){var m;Zd(u)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,me.Z)(function*(v){const x=Je(v);x.fu.add(4),yield xm(x),x.wu.set("Unknown"),x.fu.delete(4),yield hb(x)}),function(v){return m.apply(this,arguments)})(u))}))}),this.wu=new pq(r,i)}}function hb(n){return hR.apply(this,arguments)}function hR(){return hR=(0,me.Z)(function*(n){if(Zd(n))for(const t of n.du)yield t(!0)}),hR.apply(this,arguments)}function xm(n){return fR.apply(this,arguments)}function fR(){return fR=(0,me.Z)(function*(n){for(const t of n.du)yield t(!1)}),fR.apply(this,arguments)}function WE(n,t){const e=Je(n);e.lu.has(t.targetId)||(e.lu.set(t.targetId,t),mR(e)?gR(e):Am(e).xo()&&pR(e,t))}function fb(n,t){const e=Je(n),r=Am(e);e.lu.delete(t),r.xo()&&TV(e,t),0===e.lu.size&&(r.xo()?r.Mo():Zd(e)&&e.wu.set("Unknown"))}function pR(n,t){n.mu.Z(t.targetId),Am(n).jo(t)}function TV(n,t){n.mu.Z(t),Am(n).Wo(t)}function gR(n){n.mu=new Zz({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.lu.get(t)||null}),Am(n).start(),n.wu.ru()}function mR(n){return Zd(n)&&!Am(n).Co()&&n.lu.size>0}function Zd(n){return 0===Je(n).fu.size}function AV(n){n.mu=void 0}function mq(n){return _R.apply(this,arguments)}function _R(){return _R=(0,me.Z)(function*(n){n.lu.forEach((t,e)=>{pR(n,t)})}),_R.apply(this,arguments)}function _q(n,t){return yR.apply(this,arguments)}function yR(){return yR=(0,me.Z)(function*(n,t){AV(n),mR(n)?(n.wu.au(t),gR(n)):n.wu.set("Unknown")}),yR.apply(this,arguments)}function yq(n,t,e){return vR.apply(this,arguments)}function vR(){return vR=(0,me.Z)(function*(n,t,e){if(n.wu.set("Online"),t instanceof CB&&2===t.state&&t.cause)try{yield(r=(0,me.Z)(function*(i,a){const u=a.cause;for(const h of a.targetIds)i.lu.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i.lu.delete(h),i.mu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,t)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield YE(n,r)}else if(t instanceof FE?n.mu.ut(t):t instanceof wB?n.mu._t(t):n.mu.ht(t),!e.isEqual(Mt.min()))try{const r=yield gV(n.localStore);e.compareTo(r)>=0&&(yield function(i,a){const u=i.mu.yt(a);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.lu.get(m);v&&i.lu.set(m,v.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const m=i.lu.get(h);if(!m)return;i.lu.set(h,m.withResumeToken(fi.EMPTY_BYTE_STRING,m.snapshotVersion)),TV(i,h);const v=new zd(m.target,h,1,m.sequenceNumber);pR(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield YE(n,r)}var r}),vR.apply(this,arguments)}function YE(n,t,e){return bR.apply(this,arguments)}function bR(){return bR=(0,me.Z)(function*(n,t,e){if(!ip(t))throw t;n.fu.add(1),yield xm(n),n.wu.set("Offline"),e||(e=()=>gV(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.fu.delete(1),yield hb(n)}))}),bR.apply(this,arguments)}function SV(n,t){return t().catch(e=>YE(n,e,t))}function Tm(n){return wR.apply(this,arguments)}function wR(){return wR=(0,me.Z)(function*(n){const t=Je(n),e=Kd(t);let r=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;vq(t);)try{const i=yield K6(t.localStore,r);if(null===i){0===t.hu.length&&e.Mo();break}r=i.batchId,bq(t,i)}catch(i){yield YE(t,i)}IV(t)&&MV(t)}),wR.apply(this,arguments)}function vq(n){return Zd(n)&&n.hu.length<10}function bq(n,t){n.hu.push(t);const e=Kd(n);e.xo()&&e.Ho&&e.Jo(t.mutations)}function IV(n){return Zd(n)&&!Kd(n).Co()&&n.hu.length>0}function MV(n){Kd(n).start()}function wq(n){return CR.apply(this,arguments)}function CR(){return CR=(0,me.Z)(function*(n){Kd(n).Zo()}),CR.apply(this,arguments)}function Cq(n){return ER.apply(this,arguments)}function ER(){return ER=(0,me.Z)(function*(n){const t=Kd(n);for(const e of n.hu)t.Jo(e.mutations)}),ER.apply(this,arguments)}function Eq(n,t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,me.Z)(function*(n,t,e){const r=n.hu.shift(),i=jM.from(r,t,e);yield SV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Tm(n)}),DR.apply(this,arguments)}function Dq(n,t){return xR.apply(this,arguments)}function xR(){return xR=(0,me.Z)(function*(n,t){var e;t&&Kd(n).Ho&&(yield(e=(0,me.Z)(function*(r,i){if(yB(a=i.code)&&a!==ge.ABORTED){const u=r.hu.shift();Kd(r).ko(),yield SV(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Tm(r)}var a}),function(r,i){return e.apply(this,arguments)})(n,t)),IV(n)&&MV(n)}),xR.apply(this,arguments)}function RV(n,t){return TR.apply(this,arguments)}function TR(){return TR=(0,me.Z)(function*(n,t){const e=Je(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Zd(e);e.fu.add(3),yield xm(e),r&&e.wu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.fu.delete(3),yield hb(e)}),TR.apply(this,arguments)}function AR(n,t){return SR.apply(this,arguments)}function SR(){return SR=(0,me.Z)(function*(n,t){const e=Je(n);t?(e.fu.delete(2),yield hb(e)):t||(e.fu.add(2),yield xm(e),e.wu.set("Unknown"))}),SR.apply(this,arguments)}function Am(n){return n.gu||(n.gu=function(t,e,r){const i=Je(t);return i.eu(),new dq(e,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:mq.bind(null,n),Yr:_q.bind(null,n),Qo:yq.bind(null,n)}),n.du.push(function(){var t=(0,me.Z)(function*(e){e?(n.gu.ko(),mR(n)?gR(n):n.wu.set("Unknown")):(yield n.gu.stop(),AV(n))});return function(e){return t.apply(this,arguments)}}())),n.gu}function Kd(n){return n.yu||(n.yu=function(t,e,r){const i=Je(t);return i.eu(),new hq(e,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:wq.bind(null,n),Yr:Dq.bind(null,n),Xo:Cq.bind(null,n),Yo:Eq.bind(null,n)}),n.du.push(function(){var t=(0,me.Z)(function*(e){e?(n.yu.ko(),yield Tm(n)):(yield n.yu.stop(),n.hu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(e){return t.apply(this,arguments)}}())),n.yu}class IR{constructor(t,e,r,i,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,r,i,a){const u=Date.now()+r,h=new IR(t,e,u,i,a);return h.start(r),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(n,t){if(Xr("AsyncQueue",`${t}: ${n}`),ip(n))return new Oe(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class Im{constructor(t){this.comparator=t?(e,r)=>t(e,r)||We.comparator(e.key,r.key):(e,r)=>We.comparator(e.key,r.key),this.keyedMap=LM(),this.sortedSet=new $r(this.comparator)}static emptySet(t){return new Im(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Im)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Im;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class kV{constructor(){this.pu=new $r(We.comparator)}track(t){const e=t.doc.key,r=this.pu.get(e);r?0!==t.type&&3===r.type?this.pu=this.pu.insert(e,t):3===t.type&&1!==r.type?this.pu=this.pu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.pu=this.pu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.pu=this.pu.remove(e):1===t.type&&2===r.type?this.pu=this.pu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):lt():this.pu=this.pu.insert(e,t)}Iu(){const t=[];return this.pu.inorderTraversal((e,r)=>{t.push(r)}),t}}class Mm{constructor(t,e,r,i,a,u,h,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,r,i){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Mm(t,e,Im.emptySet(e),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class xq{constructor(){this.Tu=void 0,this.listeners=[]}}class Tq{constructor(){this.queries=new $d(t=>nB(t),qv),this.onlineState="Unknown",this.Eu=new Set}}function MR(n,t){return RR.apply(this,arguments)}function RR(){return RR=(0,me.Z)(function*(n,t){const e=Je(n),r=t.query;let i=!1,a=e.queries.get(r);if(a||(i=!0,a=new xq),i)try{a.Tu=yield e.onListen(r)}catch(u){const h=Sm(u,`Initialization of query '${OM(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,a),a.listeners.push(t),t.Au(e.onlineState),a.Tu&&t.Ru(a.Tu)&&FR(e)}),RR.apply(this,arguments)}function kR(n,t){return OR.apply(this,arguments)}function OR(){return OR=(0,me.Z)(function*(n,t){const e=Je(n),r=t.query;let i=!1;const a=e.queries.get(r);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),OR.apply(this,arguments)}function Aq(n,t){const e=Je(n);let r=!1;for(const i of t){const u=e.queries.get(i.query);if(u){for(const h of u.listeners)h.Ru(i)&&(r=!0);u.Tu=i}}r&&FR(e)}function Sq(n,t,e){const r=Je(n),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(e);r.queries.delete(t)}function FR(n){n.Eu.forEach(t=>{t.next()})}class NR{constructor(t,e,r){this.query=t,this.Pu=e,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Mm(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Pu.next(t),e=!0):this.Su(t,this.onlineState)&&(this.Du(t),e=!0),this.Vu=t,e}onError(t){this.Pu.error(t)}Au(t){this.onlineState=t;let e=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,t)&&(this.Du(this.Vu),e=!0),e}Su(t,e){return!t.fromCache||!(this.options.Cu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(t){t=Mm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Pu.next(t)}}class Iq{constructor(t,e){this.payload=t,this.byteLength=e}xu(){return"metadata"in this.payload}}class OV{constructor(t){this.M=t}fi(t){return Zl(this.M,t)}di(t){return t.metadata.exists?RB(this.M,t.document,!1):ir.newNoDocument(this.fi(t.metadata.name),this._i(t.metadata.readTime))}_i(t){return Ii(t)}}class Mq{constructor(t,e,r){this.Nu=t,this.localStore=e,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FV(t)}ku(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=En.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,r=new OV(this.M);for(const i of t)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const u of i.metadata.queries){const h=(e.get(u)||Pn()).add(a);e.set(u,h)}}return e}complete(){var t=this;return(0,me.Z)(function*(){const e=yield function Q6(n,t,e,r){return rR.apply(this,arguments)}(t.localStore,new OV(t.M),t.documents,t.Nu.id),r=t.Mu(t.documents);for(const i of t.queries)yield J6(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Fu:e}})()}}function FV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class NV{constructor(t){this.key=t}}class PV{constructor(t){this.key=t}}class LV{constructor(t,e){this.query=t,this.$u=e,this.Bu=null,this.current=!1,this.Lu=Pn(),this.mutatedKeys=Pn(),this.Uu=iB(t),this.qu=new Im(this.Uu)}get Ku(){return this.$u}Gu(t,e){const r=e?e.Qu:new kV,i=e?e.qu:this.qu;let a=e?e.mutatedKeys:this.mutatedKeys,u=i,h=!1;const m=AE(this.query)&&i.size===this.query.limit?i.last():null,v=SE(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((x,A)=>{const O=i.get(x),U=FM(this.query,A)?A:null,W=!!O&&this.mutatedKeys.has(O.key),re=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ve=!1;O&&U?O.data.isEqual(U.data)?W!==re&&(r.track({type:3,doc:U}),ve=!0):this.ju(O,U)||(r.track({type:2,doc:U}),ve=!0,(m&&this.Uu(U,m)>0||v&&this.Uu(U,v)<0)&&(h=!0)):!O&&U?(r.track({type:0,doc:U}),ve=!0):O&&!U&&(r.track({type:1,doc:O}),ve=!0,(m||v)&&(h=!0)),ve&&(U?(u=u.add(U),a=re?a.add(x):a.delete(x)):(u=u.delete(x),a=a.delete(x)))}),AE(this.query)||SE(this.query))for(;u.size>this.query.limit;){const x=AE(this.query)?u.last():u.first();u=u.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{qu:u,Qu:r,ni:h,mutatedKeys:a}}ju(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.qu;this.qu=t.qu,this.mutatedKeys=t.mutatedKeys;const a=t.Qu.Iu();a.sort((v,x)=>function(A,O){const U=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return U(A)-U(O)}(v.type,x.type)||this.Uu(v.doc,x.doc)),this.Wu(r);const u=e?this.zu():[],h=0===this.Lu.size&&this.current?1:0,m=h!==this.Bu;return this.Bu=h,0!==a.length||m?{snapshot:new Mm(this.query,t.qu,i,a,t.mutatedKeys,0===h,m,!1),Hu:u}:{Hu:u}}Au(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new kV,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(t){return!this.$u.has(t)&&!!this.qu.has(t)&&!this.qu.get(t).hasLocalMutations}Wu(t){t&&(t.addedDocuments.forEach(e=>this.$u=this.$u.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.$u=this.$u.delete(e)),this.current=t.current)}zu(){if(!this.current)return[];const t=this.Lu;this.Lu=Pn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const e=[];return t.forEach(r=>{this.Lu.has(r)||e.push(new PV(r))}),this.Lu.forEach(r=>{t.has(r)||e.push(new NV(r))}),e}Yu(t){this.$u=t.li,this.Lu=Pn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Xu(){return Mm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Rq{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class kq{constructor(t){this.key=t,this.Zu=!1}}class Oq{constructor(t,e,r,i,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new $d(h=>nB(h),qv),this.na=new Map,this.sa=new Set,this.ia=new $r(We.comparator),this.ra=new Map,this.oa=new sR,this.ua={},this.aa=new Map,this.ca=up.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Fq(n,t){return PR.apply(this,arguments)}function PR(){return PR=(0,me.Z)(function*(n,t){const e=sk(n);let r,i;const a=e.ea.get(t);if(a)r=a.targetId,e.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const u=yield Em(e.localStore,Ea(t));e.isPrimaryClient&&WE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield LR(e,t,r,"current"===h)}return i}),PR.apply(this,arguments)}function LR(n,t,e,r){return BR.apply(this,arguments)}function BR(){return BR=(0,me.Z)(function*(n,t,e,r){n.la=(x,A,O)=>{return(U=(0,me.Z)(function*(W,re,ve,ke){let Ze=re.view.Gu(ve);Ze.ni&&(Ze=yield jE(W.localStore,re.query,!1).then(({documents:Tt})=>re.view.Gu(Tt,Ze)));const et=ke&&ke.targetChanges.get(re.targetId),ze=re.view.applyChanges(Ze,W.isPrimaryClient,et);return YR(W,re.targetId,ze.Hu),ze.snapshot}),function(W,re,ve,ke){return U.apply(this,arguments)})(n,x,A,O);var U};const i=yield jE(n.localStore,t,!0),a=new LV(t,i.li),u=a.Gu(i.documents),h=Jv.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),m=a.applyChanges(u,n.isPrimaryClient,h);YR(n,e,m.Hu);const v=new Rq(t,e,a);return n.ea.set(t,v),n.na.has(e)?n.na.get(e).push(t):n.na.set(e,[t]),m.snapshot}),BR.apply(this,arguments)}function Nq(n,t){return VR.apply(this,arguments)}function VR(){return VR=(0,me.Z)(function*(n,t){const e=Je(n),r=e.ea.get(t),i=e.na.get(r.targetId);if(i.length>1)return e.na.set(r.targetId,i.filter(a=>!qv(a,t))),void e.ea.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dm(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),fb(e.remoteStore,r.targetId),Rm(e,r.targetId)}).catch(dp))):(Rm(e,r.targetId),yield Dm(e.localStore,r.targetId,!0))}),VR.apply(this,arguments)}function UR(){return UR=(0,me.Z)(function*(n,t,e){const r=ok(n);try{const i=yield function(a,u){const h=Je(a),m=jr.now(),v=u.reduce((A,O)=>A.add(O.key),Pn());let x;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>h.ci.Ks(A,v).next(O=>{x=O;const U=[];for(const W of u){const re=Hz(W,x.get(W.key));null!=re&&U.push(new rp(W.key,re,qL(re.value.mapValue),ei.exists(!0)))}return h.Bs.addMutationBatch(A,m,U,u)})).then(A=>(A.applyToLocalDocumentSet(x),{batchId:A.batchId,changes:x}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let m=a.ua[a.currentUser.toKey()];m||(m=new $r(Jt)),m=m.insert(u,h),a.ua[a.currentUser.toKey()]=m}(r,i.batchId,e),yield iu(r,i.changes),yield Tm(r.remoteStore)}catch(i){const a=Sm(i,"Failed to persist write");e.reject(a)}}),UR.apply(this,arguments)}function BV(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,me.Z)(function*(n,t){const e=Je(n);try{const r=yield Z6(e.localStore,t);t.targetChanges.forEach((i,a)=>{const u=e.ra.get(a);u&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Zu=!0:i.modifiedDocuments.size>0?Ut(u.Zu):i.removedDocuments.size>0&&(Ut(u.Zu),u.Zu=!1))}),yield iu(e,r,t)}catch(r){yield dp(r)}}),GR.apply(this,arguments)}function VV(n,t,e){const r=Je(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ea.forEach((a,u)=>{const h=u.view.Au(t);h.snapshot&&i.push(h.snapshot)}),function(a,u){const h=Je(a);h.onlineState=u;let m=!1;h.queries.forEach((v,x)=>{for(const A of x.listeners)A.Au(u)&&(m=!0)}),m&&FR(h)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Lq(n,t,e){return HR.apply(this,arguments)}function HR(){return HR=(0,me.Z)(function*(n,t,e){const r=Je(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.ra.get(t),a=i&&i.key;if(a){let u=new $r(We.comparator);u=u.insert(a,ir.newNoDocument(a,Mt.min()));const h=Pn().add(a),m=new Qv(Mt.min(),new Map,new sr(Jt),u,h);yield BV(r,m),r.ia=r.ia.remove(a),r.ra.delete(t),ZR(r)}else yield Dm(r.localStore,t,!1).then(()=>Rm(r,t,e)).catch(dp)}),HR.apply(this,arguments)}function Bq(n,t){return jR.apply(this,arguments)}function jR(){return jR=(0,me.Z)(function*(n,t){const e=Je(n),r=t.batch.batchId;try{const i=yield Y6(e.localStore,t);WR(e,r,null),qR(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield iu(e,i)}catch(i){yield dp(i)}}),jR.apply(this,arguments)}function Vq(n,t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,me.Z)(function*(n,t,e){const r=Je(n);try{const i=yield function(a,u){const h=Je(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.Bs.lookupMutationBatch(m,u).next(x=>(Ut(null!==x),v=x.keys(),h.Bs.removeMutationBatch(m,x))).next(()=>h.Bs.performConsistencyCheck(m)).next(()=>h.ci.Ks(m,v))})}(r.localStore,t);WR(r,t,e),qR(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield iu(r,i)}catch(i){yield dp(i)}}),$R.apply(this,arguments)}function zR(){return zR=(0,me.Z)(function*(n,t){const e=Je(n);Zd(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Je(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===r)return void t.resolve();const i=e.aa.get(r)||[];i.push(t),e.aa.set(r,i)}catch(r){const i=Sm(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),zR.apply(this,arguments)}function qR(n,t){(n.aa.get(t)||[]).forEach(e=>{e.resolve()}),n.aa.delete(t)}function WR(n,t,e){const r=Je(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(e?a.reject(e):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Rm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.na.get(t))n.ea.delete(r),e&&n.ta.fa(r,e);n.na.delete(t),n.isPrimaryClient&&n.oa.Pi(t).forEach(r=>{n.oa.containsKey(r)||UV(n,r)})}function UV(n,t){n.sa.delete(t.path.canonicalString());const e=n.ia.get(t);null!==e&&(fb(n.remoteStore,e),n.ia=n.ia.remove(t),n.ra.delete(e),ZR(n))}function YR(n,t,e){for(const r of e)r instanceof NV?(n.oa.addReference(r.key,t),Gq(n,r)):r instanceof PV?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,t),n.oa.containsKey(r.key)||UV(n,r.key)):lt()}function Gq(n,t){const e=t.key,r=e.path.canonicalString();n.ia.get(e)||n.sa.has(r)||(Be("SyncEngine","New document in limbo: "+e),n.sa.add(r),ZR(n))}function ZR(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const t=n.sa.values().next().value;n.sa.delete(t);const e=new We(En.fromString(t)),r=n.ca.next();n.ra.set(r,new kq(e)),n.ia=n.ia.insert(e,r),WE(n.remoteStore,new zd(Ea(hm(e.path)),r,2,Go.A))}}function iu(n,t,e){return KR.apply(this,arguments)}function KR(){return KR=(0,me.Z)(function*(n,t,e){const r=Je(n),i=[],a=[],u=[];var h;r.ea.isEmpty()||(r.ea.forEach((h,m)=>{u.push(r.la(m,t,e).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v.fromCache?"not-current":"current"),i.push(v);const x=eR.Ys(m.targetId,v);a.push(x)}}))}),yield Promise.all(u),r.ta.Qo(i),yield(h=(0,me.Z)(function*(m,v){const x=Je(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ye.forEach(v,O=>ye.forEach(O.Hs,U=>x.persistence.referenceDelegate.addReference(A,O.targetId,U)).next(()=>ye.forEach(O.Js,U=>x.persistence.referenceDelegate.removeReference(A,O.targetId,U)))))}catch(A){if(!ip(A))throw A;Be("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const O=A.targetId;if(!A.fromCache){const U=x.ii.get(O),re=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);x.ii=x.ii.insert(O,re)}}}),function(m,v){return h.apply(this,arguments)})(r.localStore,a))}),KR.apply(this,arguments)}function Hq(n,t){return QR.apply(this,arguments)}function QR(){return QR=(0,me.Z)(function*(n,t){const e=Je(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const r=yield pV(e.localStore,t);e.currentUser=t,(i=e).aa.forEach(u=>{u.forEach(h=>{h.reject(new Oe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield iu(e,r.hi)}var i}),QR.apply(this,arguments)}function jq(n,t){const e=Je(n),r=e.ra.get(t);if(r&&r.Zu)return Pn().add(r.key);{let i=Pn();const a=e.na.get(t);if(!a)return i;for(const u of a){const h=e.ea.get(u);i=i.unionWith(h.view.Ku)}return i}}function $q(n,t){return JR.apply(this,arguments)}function JR(){return JR=(0,me.Z)(function*(n,t){const e=Je(n),r=yield jE(e.localStore,t.query,!0),i=t.view.Yu(r);return e.isPrimaryClient&&YR(e,t.targetId,i.Hu),i}),JR.apply(this,arguments)}function zq(n,t){return XR.apply(this,arguments)}function XR(){return XR=(0,me.Z)(function*(n,t){const e=Je(n);return yV(e.localStore,t).then(r=>iu(e,r))}),XR.apply(this,arguments)}function qq(n,t,e,r){return ek.apply(this,arguments)}function ek(){return ek=(0,me.Z)(function*(n,t,e,r){const i=Je(n),a=yield function(u,h){const m=Je(u),v=Je(m.Bs);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.fn(x,h).next(A=>A?m.ci.Ks(x,A):ye.resolve(null)))}(i.localStore,t);var h;null!==a?("pending"===e?yield Tm(i.remoteStore):"acknowledged"===e||"rejected"===e?(WR(i,t,r||null),qR(i,t),h=t,Je(Je(i.localStore).Bs)._n(h)):lt(),yield iu(i,a)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),ek.apply(this,arguments)}function tk(){return tk=(0,me.Z)(function*(n,t){const e=Je(n);if(sk(e),ok(e),!0===t&&!0!==e.ha){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield GV(e,r.toArray());e.ha=!0,yield AR(e.remoteStore,!0);for(const a of i)WE(e.remoteStore,a)}else if(!1===t&&!1!==e.ha){const r=[];let i=Promise.resolve();e.na.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Rm(e,u),Dm(e.localStore,u,!0))),fb(e.remoteStore,u)}),yield i,yield GV(e,r),function(a){const u=Je(a);u.ra.forEach((h,m)=>{fb(u.remoteStore,m)}),u.oa.bi(),u.ra=new Map,u.ia=new $r(We.comparator)}(e),e.ha=!1,yield AR(e.remoteStore,!1)}}),tk.apply(this,arguments)}function GV(n,t,e){return nk.apply(this,arguments)}function nk(){return nk=(0,me.Z)(function*(n,t,e){const r=Je(n),i=[],a=[];for(const u of t){let h;const m=r.na.get(u);if(m&&0!==m.length){h=yield Em(r.localStore,Ea(m[0]));for(const v of m){const x=r.ea.get(v),A=yield $q(r,x);A.snapshot&&a.push(A.snapshot)}}else{const v=yield _V(r.localStore,u);h=yield Em(r.localStore,v),yield LR(r,HV(v),u,!1)}i.push(h)}return r.ta.Qo(a),i}),nk.apply(this,arguments)}function HV(n){return eB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Yq(n){const t=Je(n);return Je(Je(t.localStore).persistence).Fs()}function Zq(n,t,e,r){return rk.apply(this,arguments)}function rk(){return rk=(0,me.Z)(function*(n,t,e,r){const i=Je(n);if(i.ha)return void Be("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield yV(i.localStore,rB(a[0])),h=Qv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield iu(i,u,h);break}case"rejected":yield Dm(i.localStore,t,!0),Rm(i,t,r);break;default:lt()}}),rk.apply(this,arguments)}function Kq(n,t,e){return ik.apply(this,arguments)}function ik(){return ik=(0,me.Z)(function*(n,t,e){const r=sk(n);if(r.ha){for(const i of t){if(r.na.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const a=yield _V(r.localStore,i),u=yield Em(r.localStore,a);yield LR(r,HV(a),u.targetId,!1),WE(r.remoteStore,u)}for(const i of e)r.na.has(i)&&(yield Dm(r.localStore,i,!1).then(()=>{fb(r.remoteStore,i),Rm(r,i)}).catch(dp))}}),ik.apply(this,arguments)}function sk(n){const t=Je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=BV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lq.bind(null,t),t.ta.Qo=Aq.bind(null,t.eventManager),t.ta.fa=Sq.bind(null,t.eventManager),t}function ok(n){const t=Je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vq.bind(null,t),t}class jV{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,me.Z)(function*(){e.M=db(t.databaseInfo.databaseId),e.sharedClientState=e._a(t),e.persistence=e.wa(t),yield e.persistence.start(),e.gcScheduler=e.ma(t),e.localStore=e.ga(t)})()}ma(t){return null}ga(t){return fV(this.persistence,new hV,t.initialUser,this.M)}wa(t){return new sq(oR.zi,this.M)}_a(t){return new CV}terminate(){var t=this;return(0,me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class $V extends jV{constructor(t,e,r){super(),this.ya=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield e().call(r,t),yield r.ya.initialize(r,t),yield ok(r.ya.syncEngine),yield Tm(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(t){return fV(this.persistence,new hV,t.initialUser,this.M)}ma(t){return new U6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}wa(t){const e=XM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new JM(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,DV(),qE(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(t){return new CV}}class Jq extends $V{constructor(t,e){super(t,e,!1),this.ya=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield e().call(r,t);const i=r.ya.syncEngine;r.sharedClientState instanceof uR&&(r.sharedClientState.syncEngine={Mr:qq.bind(null,i),Or:Zq.bind(null,i),Fr:Kq.bind(null,i),Fs:Yq.bind(null,i),kr:zq.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,me.Z)(function*(u){yield function Wq(n,t){return tk.apply(this,arguments)}(r.ya.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}_a(t){const e=DV();if(!uR.vt(e))throw new Oe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=XM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uR(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class ak{initialize(t,e){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>VV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hq.bind(null,r.syncEngine),yield AR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Tq}createDatastore(t){const e=db(t.databaseInfo.databaseId),r=new uq(t.databaseInfo);return new fq(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,a=h=>VV(this.syncEngine,h,0),u=EV.vt()?new EV:new aq,new gq(e,r,i,a,u);var e,r,i,a,u}createSyncEngine(t,e){return function(r,i,a,u,h,m,v){const x=new Oq(r,i,a,u,h,m);return v&&(x.ha=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,me.Z)(function*(e){const r=Je(e);Be("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield xm(r),r._u.shutdown(),r.wu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function zV(n,t=10240){let e=0;return{read:()=>(0,me.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ZE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.pa(this.observer.next,t)}error(t){this.observer.error?this.pa(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Ia(){this.muted=!0}pa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Xq{constructor(t,e){this.Ta=t,this.M=e,this.metadata=new Ai,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var t=this;return(0,me.Z)(function*(){return t.metadata.promise})()}da(){var t=this;return(0,me.Z)(function*(){return yield t.getMetadata(),t.Aa()})()}Aa(){var t=this;return(0,me.Z)(function*(){const e=yield t.Ra();if(null===e)return null;const r=t.Ea.decode(e),i=Number(r);isNaN(i)&&t.Pa(`length string (${r}) is not valid number`);const a=yield t.ba(i);return new Iq(JSON.parse(a),e.length+i)})()}Va(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ra(){var t=this;return(0,me.Z)(function*(){for(;t.Va()<0&&!(yield t.va()););if(0===t.buffer.length)return null;const e=t.Va();e<0&&t.Pa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ba(t){var e=this;return(0,me.Z)(function*(){for(;e.buffer.length<t;)(yield e.va())&&e.Pa("Reached the end of bundle when more is expected.");const r=e.Ea.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Pa(t){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${t}`)}va(){var t=this;return(0,me.Z)(function*(){const e=yield t.Ta.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class eW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,me.Z)(function*(a,u){const h=Je(a),m=tb(h.M)+"/documents",v={documents:u.map(U=>eb(h.M,U))},x=yield h.ho("BatchGetDocuments",m,v),A=new Map;x.forEach(U=>{const W=function e6(n,t){return"found"in t?function(e,r){Ut(!!r.found);const i=Zl(e,r.found.name),a=Ii(r.found.updateTime),u=new cs({mapValue:{fields:r.found.fields}});return ir.newFoundDocument(i,a,u)}(n,t):"missing"in t?function(e,r){Ut(!!r.missing),Ut(!!r.readTime);const i=Zl(e,r.missing),a=Ii(r.readTime);return ir.newNoDocument(i,a)}(n,t):lt()}(h.M,U);A.set(W.key.toString(),W)});const O=[];return u.forEach(U=>{const W=A.get(U.toString());Ut(!!W),O.push(W)}),O}),function(a,u){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Zv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const a=We.fromPath(i);t.mutations.push(new PM(a,t.precondition(a)))}),yield(r=(0,me.Z)(function*(i,a){const u=Je(i),h=tb(u.M)+"/documents",m={writes:a.map(v=>nb(u.M,v))};yield u.oo("Commit",h,m)}),function(i,a){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw lt();e=Mt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Oe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ei.updateTime(e):ei.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mt.min()))throw new Oe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(e)}return ei.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class tW{constructor(t,e,r,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new dR(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var t=this;this.Do.To((0,me.Z)(function*(){const e=new eW(t.datastore),r=t.Ca(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(a=>{t.xa(a)}))}).catch(i=>{t.xa(i)})}))}Ca(t){try{const e=this.updateFunction(t);return!Kf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}xa(t){this.Sa>0&&this.Na(t)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(t)}Na(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!yB(e)}return!1}}class nW{constructor(t,e,r,i){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=kL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,me.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Sm(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function qV(n,t){return lk.apply(this,arguments)}function lk(){return lk=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,me.Z)(function*(a){r.isEqual(a)||(yield pV(t.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),lk.apply(this,arguments)}function WV(n,t){return ck.apply(this,arguments)}function ck(){return ck=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield uk(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>RV(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>RV(t.remoteStore,a)),n.onlineComponents=t}),ck.apply(this,arguments)}function uk(n){return dk.apply(this,arguments)}function dk(){return dk=(0,me.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield qV(n,new jV)),n.offlineComponents}),dk.apply(this,arguments)}function KE(n){return hk.apply(this,arguments)}function hk(){return hk=(0,me.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield WV(n,new ak)),n.onlineComponents}),hk.apply(this,arguments)}function YV(n){return uk(n).then(t=>t.persistence)}function fk(n){return uk(n).then(t=>t.localStore)}function ZV(n){return KE(n).then(t=>t.remoteStore)}function pk(n){return KE(n).then(t=>t.syncEngine)}function km(n){return gk.apply(this,arguments)}function gk(){return gk=(0,me.Z)(function*(n){const t=yield KE(n),e=t.eventManager;return e.onListen=Fq.bind(null,t.syncEngine),e.onUnlisten=Nq.bind(null,t.syncEngine),e}),gk.apply(this,arguments)}function KV(n,t,e={}){const r=new Ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,u,h,m){const v=new ZE({next:A=>{a.enqueueAndForget(()=>kR(i,x));const O=A.docs.has(u);!O&&A.fromCache?m.reject(new Oe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&h&&"server"===h.source?m.reject(new Oe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),x=new NR(hm(u.path),v,{includeMetadataChanges:!0,Cu:!0});return MR(i,x)}(yield km(n),n.asyncQueue,t,e,r)})),r.promise}function QV(n,t,e={}){const r=new Ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,u,h,m){const v=new ZE({next:A=>{a.enqueueAndForget(()=>kR(i,x)),A.fromCache&&"server"===h.source?m.reject(new Oe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),x=new NR(u,v,{includeMetadataChanges:!0,Cu:!0});return MR(i,x)}(yield km(n),n.asyncQueue,t,e,r)})),r.promise}const JV=new Map;function mk(n,t,e){if(!e)throw new Oe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function XV(n,t,e,r){if(!0===t&&!0===r)throw new Oe(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function e2(n){if(!We.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t2(n){if(We.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":lt()}function Cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=QE(n);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function n2(n,t){if(t<=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class r2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pb{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r2({}),this._settingsFrozen=!1,t instanceof tu?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(i.options.projectId)}(t))}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new dz;switch(e.type){case"gapi":const r=e.client;return Ut(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new gz(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=JV.get(t);e&&(Be("ComponentProvider","Removing Datastore"),JV.delete(t),e.terminate())}(this),Promise.resolve()}}class or{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new or(this.firestore,t,this._key)}}class us{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new us(this.firestore,t,this._query)}}class Ql extends us{constructor(t,e,r){super(t,e,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new or(this.firestore,null,new We(t))}withConverter(t){return new Ql(this.firestore,t,this._path)}}function s2(n,t,...e){if(n=(0,Ct.m9)(n),mk("collection","path",t),n instanceof pb){const r=En.fromString(t,...e);return t2(r),new Ql(n,null,r)}{if(!(n instanceof or||n instanceof Ql))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(t,...e));return t2(r),new Ql(n.firestore,null,r)}}function JE(n,t,...e){if(n=(0,Ct.m9)(n),1===arguments.length&&(t=kL.R()),mk("doc","path",t),n instanceof pb){const r=En.fromString(t,...e);return e2(r),new or(n,null,new We(r))}{if(!(n instanceof or||n instanceof Ql))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(t,...e));return e2(r),new or(n.firestore,n instanceof Ql?n.converter:null,new We(r))}}function o2(n,t){return n=(0,Ct.m9)(n),t=(0,Ct.m9)(t),(n instanceof or||n instanceof Ql)&&(t instanceof or||t instanceof Ql)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function a2(n,t){return n=(0,Ct.m9)(n),t=(0,Ct.m9)(t),n instanceof us&&t instanceof us&&n.firestore===t.firestore&&qv(n._query,t._query)&&n.converter===t.converter}class fW{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new dR(this,"async_queue_retry"),this.qa=()=>{const e=qE();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const t=qE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ka(),this.Ga(t)}enterRestrictedMode(t){if(!this.Oa){this.Oa=!0,this.La=t||!1;const e=qE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qa)}}enqueue(t){if(this.Ka(),this.Oa)return new Promise(()=>{});const e=new Ai;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ma.push(t),this.Qa()))}Qa(){var t=this;return(0,me.Z)(function*(){if(0!==t.Ma.length){try{yield t.Ma[0](),t.Ma.shift(),t.Do.reset()}catch(e){if(!ip(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.Ma.length>0&&t.Do.To(()=>t.Qa())}})()}Ga(t){const e=this.ka.then(()=>(this.Ba=!0,t().catch(r=>{throw this.$a=r,this.Ba=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=e,e}enqueueAfterDelay(t,e,r){this.Ka(),this.Ua.indexOf(t)>-1&&(e=0);const i=IR.createAndSchedule(this,t,e,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&lt()}verifyOperationInProgress(){}Wa(){var t=this;return(0,me.Z)(function*(){let e;do{e=t.ka,yield e}while(e!==t.ka)})()}za(t){for(const e of this.Fa)if(e.timerId===t)return!0;return!1}Ha(t){return this.Wa().then(()=>{this.Fa.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Fa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Wa()})}Ja(t){this.Ua.push(t)}ja(t){const e=this.Fa.indexOf(t);this.Fa.splice(e,1)}}function _k(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class pW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class gr extends pb{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new fW,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||l2(this),this._firestoreClient.terminate()}}function mW(n=(0,di.getApp)()){return(0,di._getProvider)(n,"firestore").getImmediate()}function ni(n){return n._firestoreClient||l2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function l2(n){var t;const e=n._freezeSettings(),r=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new wz(n._databaseId,a,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new nW(n._authCredentials,n._appCheckCredentials,n._queue,r)}function c2(n,t,e){const r=new Ai;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield qV(n,e),yield WV(n,t),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function u2(n){if(n._initialized||n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class su{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jl(fi.fromBase64String(t))}catch(e){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jl(fi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class fp{constructor(t){this._methodName=t}}class XE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}const xW=/^__.*__$/;class TW{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new rp(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yv(t,this.data,e,this.fieldTransforms)}}class d2{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new rp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function h2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class eD{constructor(t,e,r,i,a,u){this.settings=t,this.databaseId=e,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(t){return new eD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Za({path:r,ec:!1});return i.nc(t),i}sc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(t){return this.Za({path:void 0,ec:!0})}rc(t){return rD(t,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ya(){if(this.path)for(let t=0;t<this.path.length;t++)this.nc(this.path.get(t))}nc(t){if(0===t.length)throw this.rc("Document fields must not be empty");if(h2(this.Xa)&&xW.test(t))throw this.rc('Document fields cannot begin and end with "__"')}}class AW{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=r||db(t)}ac(t,e,r,i=!1){return new eD({Xa:t,methodName:e,uc:r,path:Si.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function pp(n){const t=n._freezeSettings(),e=db(n._databaseId);return new AW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tD(n,t,e,r,i,a={}){const u=n.ac(a.merge||a.mergeFields?2:0,t,e,i);wk("Data must be an object, but it was:",u,r);const h=g2(r,u);let m,v;if(a.merge)m=new cm(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const A of a.mergeFields){const O=Ck(t,A,e);if(!u.contains(O))throw new Oe(ge.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);_2(x,O)||x.push(O)}m=new cm(x),v=u.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,v=u.fieldTransforms;return new TW(new cs(h),m,v)}class gb extends fp{_toFieldTransform(t){if(2!==t.Xa)throw t.rc(1===t.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gb}}function f2(n,t,e){return new eD({Xa:3,uc:t.settings.uc,methodName:n._methodName,ec:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class yk extends fp{_toFieldTransform(t){return new Wv(t.path,new pm)}isEqual(t){return t instanceof yk}}class SW extends fp{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=f2(this,t,!0),r=this.cc.map(a=>gp(a,e)),i=new tp(r);return new Wv(t.path,i)}isEqual(t){return this===t}}class IW extends fp{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=f2(this,t,!0),r=this.cc.map(a=>gp(a,e)),i=new np(r);return new Wv(t.path,i)}isEqual(t){return this===t}}class MW extends fp{constructor(t,e){super(t),this.hc=e}_toFieldTransform(t){const e=new gm(t.M,aB(t.M,this.hc));return new Wv(t.path,e)}isEqual(t){return this===t}}function vk(n,t,e,r){const i=n.ac(1,t,e);wk("Data must be an object, but it was:",i,r);const a=[],u=cs.empty();Yf(r,(m,v)=>{const x=nD(t,m,e);v=(0,Ct.m9)(v);const A=i.sc(x);if(v instanceof gb)a.push(x);else{const O=gp(v,A);null!=O&&(a.push(x),u.set(x,O))}});const h=new cm(a);return new d2(u,h,i.fieldTransforms)}function bk(n,t,e,r,i,a){const u=n.ac(1,t,e),h=[Ck(t,r,e)],m=[i];if(a.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)h.push(Ck(t,a[O])),m.push(a[O+1]);const v=[],x=cs.empty();for(let O=h.length-1;O>=0;--O)if(!_2(v,h[O])){const U=h[O];let W=m[O];W=(0,Ct.m9)(W);const re=u.sc(U);if(W instanceof gb)v.push(U);else{const ve=gp(W,re);null!=ve&&(v.push(U),x.set(U,ve))}}const A=new cm(v);return new d2(x,A,u.fieldTransforms)}function p2(n,t,e,r=!1){return gp(e,n.ac(r?4:3,t))}function gp(n,t){if(m2(n=(0,Ct.m9)(n)))return wk("Unsupported field value:",t,n),g2(n,t);if(n instanceof fp)return function(e,r){if(!h2(r.Xa))throw r.rc(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,r){const i=[];let a=0;for(const u of e){let h=gp(u,r.ic(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,Ct.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aB(r.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=jr.fromDate(e);return{timestampValue:Xv(r.M,i)}}if(e instanceof jr){const i=new jr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xv(r.M,i)}}if(e instanceof XE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jl)return{bytesValue:TB(r.M,e._byteString)};if(e instanceof or){const i=r.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BM(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.rc(`Unsupported field value: ${QE(e)}`)}(n,t)}function g2(n,t){const e={};return NL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yf(n,(r,i)=>{const a=gp(i,t.tc(r));null!=a&&(e[r]=a)}),{mapValue:{fields:e}}}function m2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof XE||n instanceof Jl||n instanceof or||n instanceof fp)}function wk(n,t,e){if(!m2(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=QE(e);throw t.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function Ck(n,t,e){if((t=(0,Ct.m9)(t))instanceof su)return t._internalPath;if("string"==typeof t)return nD(n,t);throw rD("Field path arguments must be of type string or ",n,!1,void 0,e)}const RW=new RegExp("[~\\*/\\[\\]]");function nD(n,t,e){if(t.search(RW)>=0)throw rD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new su(...t.split("."))._internalPath}catch(r){throw rD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function rD(n,t,e,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Oe(ge.INVALID_ARGUMENT,h+n+m)}function _2(n,t){return n.some(e=>e.isEqual(t))}class mb{constructor(t,e,r,i,a){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new kW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class kW extends mb{data(){return super.data()}}function iD(n,t){return"string"==typeof t?nD(n,t):t instanceof su?t._internalPath:t._delegate._internalPath}class mp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ou extends mb{constructor(t,e,r,i,a,u){super(t,e,r,i,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(iD("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class _b extends ou{data(t={}){return super.data(t)}}class Qd{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new mp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new _b(this._firestore,this._userDataWriter,r.key,r,new mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new _b(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new _b(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:OW(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function OW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function y2(n,t){return n instanceof ou&&t instanceof ou?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Qd&&t instanceof Qd&&n._firestore===t._firestore&&a2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function v2(n){if(SE(n)&&0===n.explicitOrderBy.length)throw new Oe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yb{}function Jd(n,...t){for(const e of t)n=e._apply(n);return n}class FW extends yb{constructor(t,e,r){super(),this.lc=t,this.fc=e,this.dc=r,this.type="where"}_apply(t){const e=pp(t.firestore),r=function(i,a,u,h,m,v,x){let A;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){x2(x,v);const U=[];for(const W of x)U.push(D2(h,i,W));A={arrayValue:{values:U}}}else A=D2(h,i,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||x2(x,v),A=p2(u,"where",x,"in"===v||"not-in"===v);const O=zi.create(m,v,A);return function(U,W){if(W.S()){const ve=RM(U);if(null!==ve&&!ve.isEqual(W.field))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${W.field.toString()}'`);const ke=MM(U);null!==ke&&T2(0,W.field,ke)}const re=function(ve,ke){for(const Ze of ve.filters)if(ke.indexOf(Ze.op)>=0)return Ze.op;return null}(U,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==re)throw new Oe(ge.INVALID_ARGUMENT,re===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${re.toString()}' filters.`)}(i,O),O}(t._query,0,e,t.firestore._databaseId,this.lc,this.fc,this.dc);return new us(t.firestore,t.converter,function(i,a){const u=i.filters.concat([a]);return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class PW extends yb{constructor(t,e){super(),this.lc=t,this._c=e,this.type="orderBy"}_apply(t){const e=function(r,i,a){if(null!==r.startAt)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new dm(i,a);return function(h,m){if(null===MM(h)){const v=RM(h);null!==v&&T2(0,v,m.field)}}(r,u),u}(t._query,this.lc,this._c);return new us(t.firestore,t.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ru(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class b2 extends yb{constructor(t,e,r){super(),this.type=t,this.wc=e,this.mc=r}_apply(t){return new us(t.firestore,t.converter,tB(t._query,this.wc,this.mc))}}class w2 extends yb{constructor(t,e,r){super(),this.type=t,this.gc=e,this.yc=r}_apply(t){const e=E2(t,this.type,this.gc,this.yc);return new us(t.firestore,t.converter,(i=e,new ru((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class C2 extends yb{constructor(t,e,r){super(),this.type=t,this.gc=e,this.yc=r}_apply(t){const e=E2(t,this.type,this.gc,this.yc);return new us(t.firestore,t.converter,(i=e,new ru((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function E2(n,t,e,r){if(e[0]=(0,Ct.m9)(e[0]),e[0]instanceof mb)return function(i,a,u,h,m){if(!h)throw new Oe(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const x of fm(i))if(x.field.isKeyField())v.push(Jf(a,h.key));else{const A=h.data.field(x.field);if(TM(A))throw new Oe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=x.field.canonicalString();throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(A)}return new jd(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=pp(n.firestore);return function(a,u,h,m,v,x){const A=a.explicitOrderBy;if(v.length>A.length)throw new Oe(ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let U=0;U<v.length;U++){const W=v[U];if(A[U].field.isKeyField()){if("string"!=typeof W)throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof W}`);if(!kM(a)&&-1!==W.indexOf("/"))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${W}' contains a slash.`);const re=a.path.child(En.fromString(W));if(!We.isDocumentKey(re))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const ve=new We(re);O.push(Jf(u,ve))}else{const re=p2(h,m,W);O.push(re)}}return new jd(O,x)}(n._query,n.firestore._databaseId,i,t,e,r)}}function D2(n,t,e){if("string"==typeof(e=(0,Ct.m9)(e))){if(""===e)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kM(t)&&-1!==e.indexOf("/"))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(En.fromString(e));if(!We.isDocumentKey(r))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jf(n,new We(r))}if(e instanceof or)return Jf(n,e._key);throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QE(e)}.`)}function x2(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,t,e){if(!e.isEqual(t))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Ek{convertValue(t,e="none"){switch(Qf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw lt()}}convertObject(t,e){const r={};return Yf(t.fields,(i,a)=>{r[i]=this.convertValue(a,e)}),r}convertGeoPoint(t){return new XE(Rr(t.latitude),Rr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=PL(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Vv(t));default:return null}}convertTimestamp(t){const e=Gd(t);return new jr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=En.fromString(t);Ut(PB(r));const i=new tu(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(e)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function sD(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class $W extends Ek{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new or(this.firestore,null,e)}}class A2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pp(t)}set(t,e,r){this._verifyNotCommitted();const i=Xd(t,this._firestore),a=sD(i.converter,e,r),u=tD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,ei.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const a=Xd(t,this._firestore);let u;return u="string"==typeof(e=(0,Ct.m9)(e))||e instanceof su?bk(this._dataReader,"WriteBatch.update",a._key,e,r,i):vk(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,ei.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Xd(t,this._firestore);return this._mutations=this._mutations.concat(new Zv(e._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(n,t){if((n=(0,Ct.m9)(n)).firestore!==t)throw new Oe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _p extends Ek{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new or(this.firestore,null,e)}}function S2(n,t,e){n=Cn(n,or);const r=Cn(n.firestore,gr),i=sD(n.converter,t,e);return Om(r,[tD(pp(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,ei.none())])}function I2(n,t,e,...r){n=Cn(n,or);const i=Cn(n.firestore,gr),a=pp(i);let u;return u="string"==typeof(t=(0,Ct.m9)(t))||t instanceof su?bk(a,"updateDoc",n._key,t,e,r):vk(a,"updateDoc",n._key,t),Om(i,[u.toMutation(n._key,ei.exists(!0))])}function M2(n,...t){var e,r,i;n=(0,Ct.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||_k(t[u])||(a=t[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(_k(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),t[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,v,x;if(n instanceof or)v=Cn(n.firestore,gr),x=hm(n._key.path),m={next:A=>{t[u]&&t[u](Dk(v,n,A))},error:t[u+1],complete:t[u+2]};else{const A=Cn(n,us);v=Cn(A.firestore,gr),x=A._query;const O=new _p(v);m={next:U=>{t[u]&&t[u](new Qd(v,O,A,U))},error:t[u+1],complete:t[u+2]},v2(n._query)}return function(A,O,U,W){const re=new ZE(W),ve=new NR(O,re,U);return A.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return MR(yield km(A),ve)})),()=>{re.Ia(),A.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return kR(yield km(A),ve)}))}}(ni(v),x,h,m)}function Om(n,t){return function(e,r){const i=new Ai;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function Pq(n,t,e){return UR.apply(this,arguments)}(yield pk(e),r,i)})),i.promise}(ni(n),t)}function Dk(n,t,e){const r=e.docs.get(t._key),i=new _p(n);return new ou(n,i,t._key,r,new mp(e.hasPendingWrites,e.fromCache),t.converter)}class eY extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=pp(t)}get(t){const e=Xd(t,this._firestore),r=new $W(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return lt();const a=i[0];if(a.isFoundDocument())return new mb(this._firestore,r,a.key,a,e.converter);if(a.isNoDocument())return new mb(this._firestore,r,e._key,null,e.converter);throw lt()})}set(t,e,r){const i=Xd(t,this._firestore),a=sD(i.converter,e,r),u=tD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(t,e,r,...i){const a=Xd(t,this._firestore);let u;return u="string"==typeof(e=(0,Ct.m9)(e))||e instanceof su?bk(this._dataReader,"Transaction.update",a._key,e,r,i):vk(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=Xd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Xd(t,this._firestore),r=new _p(this._firestore);return super.get(t).then(i=>new ou(this._firestore,r,e._key,i._document,new mp(!1,!1),e.converter))}}function xk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function k2(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function O2(){if(!function vz(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){am=di.SDK_VERSION,(0,di._registerComponent)(new kc.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),a=new gr(i,new fz(e.getProvider("auth-internal")),new mz(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),(0,di.registerVersion)(IL,"3.4.8",n),(0,di.registerVersion)(IL,"3.4.8","esm2017")}();class vb{constructor(t){this._delegate=t}static fromBase64String(t){return O2(),new vb(Jl.fromBase64String(t))}static fromUint8Array(t){return k2(),new vb(Jl.fromUint8Array(t))}toBase64(){return O2(),this._delegate.toBase64()}toUint8Array(){return k2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tk(n){return function cY(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class uY{enableIndexedDbPersistence(t,e){return function _W(n,t){u2(n=Cn(n,gr));const e=ni(n),r=n._freezeSettings(),i=new ak;return c2(e,i,new $V(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function yW(n){u2(n=Cn(n,gr));const t=ni(n),e=n._freezeSettings(),r=new ak;return c2(t,r,new Jq(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function vW(n){if(n._initialized&&!n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(e=(0,me.Z)(function*(r){if(!il.vt())return Promise.resolve();const i=r+"main";yield il.delete(i)}),function(r){return e.apply(this,arguments)})(XM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class F2{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof tu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Lv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function dW(n,t,e,r={}){var i;const a=(n=Cn(n,pb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Lv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=$i.MOCK_USER;else{u=(0,Ct.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new $i(m)}n._authCredentials=new hz(new ML(u,h))}}(this._delegate,t,e,r)}enableNetwork(){return function wW(n){return function rW(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield YV(n),e=yield ZV(n);return t.setNetworkEnabled(!0),function(r){const i=Je(r);return i.fu.delete(0),hb(i)}(e)}))}(ni(n=Cn(n,gr)))}(this._delegate)}disableNetwork(){return function CW(n){return function iW(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield YV(n),e=yield ZV(n);return t.setNetworkEnabled(!1),(r=(0,me.Z)(function*(i){const a=Je(i);a.fu.add(0),yield xm(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(ni(n=Cn(n,gr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,XV("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bW(n){return function(t){const e=new Ai;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function Uq(n,t){return zR.apply(this,arguments)}(yield pk(t),e)})),e.promise}(ni(n=Cn(n,gr)))}(this._delegate)}onSnapshotsInSync(t){return function XW(n,t){return function aW(n,t){const e=new ZE(t);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield km(n),i=e,Je(r).Eu.add(i),void i.next();var r,i})),()=>{e.Ia(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield km(n),i=e,void Je(r).Eu.delete(i);var r,i}))}}(ni(n=Cn(n,gr)),_k(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Fm(this,s2(this._delegate,t))}catch(e){throw Fs(e,"collection()","Firestore.collection()")}}doc(t){try{return new xa(this,JE(this._delegate,t))}catch(e){throw Fs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ns(this,function hW(n,t){if(n=Cn(n,pb),mk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(n,null,(e=t,new ru(En.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Fs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function tY(n,t){return function lW(n,t){const e=new Ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(i=n,KE(i).then(a=>a.datastore));var i;new tW(n.asyncQueue,r,t,e).run()})),e.promise}(ni(n=Cn(n,gr)),e=>t(new eY(n,e)))}(this._delegate,e=>t(new N2(this,e)))}batch(){return ni(this._delegate),new P2(new A2(this._delegate,t=>Om(this._delegate,t)))}loadBundle(t){return function EW(n,t){const e=ni(n=Cn(n,gr)),r=new pW;return function cW(n,t,e,r){const i=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return zV(m,v);if(m instanceof ArrayBuffer)return zV(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Xq(m,u);var m}(e,db(t));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function Qq(n,t,e){const r=Je(n);var i;(i=(0,me.Z)(function*(a,u,h){try{const m=yield u.getMetadata();if(yield function(O,U){const W=Je(O),re=Ii(U.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",ve=>W._s.getBundleMetadata(ve,U.id)).then(ve=>!!ve&&ve.createTime.compareTo(re)>=0)}(a.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=m).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(FV(m));const v=new Mq(m,a.localStore,u.M);let x=yield u.da();for(;x;){const O=yield v.ku(x);O&&h._updateProgress(O),x=yield u.da()}const A=yield v.complete();return yield iu(a,A.Fu,void 0),yield function(O,U){const W=Je(O);return W.persistence.runTransaction("Save bundle","readwrite",re=>W._s.saveBundleMetadata(re,U))}(a.localStore,m),h._completeWith(A.progress),Promise.resolve(A.Ou)}catch(m){return Lv("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var O}),function(a,u,h){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield pk(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function DW(n,t){return function uW(n,t){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(e,r){const i=Je(e);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield fk(n),t)}))}(ni(n=Cn(n,gr)),t).then(e=>e?new us(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ns(this,e):null)}}class oD extends Ek{constructor(t){super(),this.firestore=t}convertBytes(t){return new vb(new Jl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return xa.forKey(e,this.firestore,null)}}class N2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new oD(t)}get(t){const e=vp(t);return this._delegate.get(e).then(r=>new bb(this._firestore,new ou(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=vp(t);return r?(xk("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=vp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=vp(t);return this._delegate.delete(e),this}}class P2{constructor(t){this._delegate=t}set(t,e,r){const i=vp(t);return r?(xk("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=vp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=vp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class yp{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new _b(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new wb(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=yp.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let a=i.get(e);return a||(a=new yp(t,new oD(t),e),i.set(e,a)),a}}yp.INSTANCES=new WeakMap;class xa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oD(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new xa(e,new or(e._delegate,r,new We(t)))}static forKey(t,e,r){return new xa(e,new or(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Fm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Fm(this.firestore,s2(this._delegate,t))}catch(e){throw Fs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ct.m9)(t))instanceof or&&o2(this._delegate,t)}set(t,e){e=xk("DocumentReference.set",e);try{return e?S2(this._delegate,t,e):S2(this._delegate,t)}catch(r){throw Fs(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?I2(this._delegate,t):I2(this._delegate,t,e,...r)}catch(i){throw Fs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function QW(n){return Om(Cn(n.firestore,gr),[new Zv(n._key,ei.none())])}(this._delegate)}onSnapshot(...t){const e=L2(t),r=B2(t,i=>new bb(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return M2(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function qW(n){n=Cn(n,or);const t=Cn(n.firestore,gr),e=ni(t),r=new _p(t);return function sW(n,t){const e=new Ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,u){try{const h=yield function(m,v){const x=Je(m);return x.persistence.runTransaction("read document","readonly",A=>x.ci.Ls(A,v))}(i,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Oe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=Sm(h,`Failed to get document '${a} from cache`);u.reject(m)}}),function(i,a,u){return r.apply(this,arguments)})(yield fk(n),t,e);var r})),e.promise}(e,n._key).then(i=>new ou(t,r,n._key,i,new mp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function WW(n){n=Cn(n,or);const t=Cn(n.firestore,gr);return KV(ni(t),n._key,{source:"server"}).then(e=>Dk(t,n,e))}(this._delegate):function zW(n){n=Cn(n,or);const t=Cn(n.firestore,gr);return KV(ni(t),n._key).then(e=>Dk(t,n,e))}(this._delegate),e.then(r=>new bb(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new xa(this.firestore,this._delegate.withConverter(t?yp.getInstance(this.firestore,t):null))}}function Fs(n,t,e){return n.message=n.message.replace(t,e),n}function L2(n){for(const t of n)if("object"==typeof t&&!Tk(t))return t;return{}}function B2(n,t){var e,r;let i;return i=Tk(n[0])?n[0]:Tk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(t(a))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class bb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return y2(this._delegate,t._delegate)}}class wb extends bb{data(t){const e=this._delegate.data(t);return function uz(n,t){n||lt()}(void 0!==e),e}}class Ns{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oD(t)}where(t,e,r){try{return new Ns(this.firestore,Jd(this._delegate,function NW(n,t,e){const r=t,i=iD("where",n);return new FW(i,r,e)}(t,e,r)))}catch(i){throw Fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ns(this.firestore,Jd(this._delegate,function LW(n,t="asc"){const e=t,r=iD("orderBy",n);return new PW(r,e)}(t,e)))}catch(r){throw Fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ns(this.firestore,Jd(this._delegate,function BW(n){return n2("limit",n),new b2("limit",n,"F")}(t)))}catch(e){throw Fs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ns(this.firestore,Jd(this._delegate,function VW(n){return n2("limitToLast",n),new b2("limitToLast",n,"L")}(t)))}catch(e){throw Fs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ns(this.firestore,Jd(this._delegate,function UW(...n){return new w2("startAt",n,!0)}(...t)))}catch(e){throw Fs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ns(this.firestore,Jd(this._delegate,function GW(...n){return new w2("startAfter",n,!1)}(...t)))}catch(e){throw Fs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ns(this.firestore,Jd(this._delegate,function HW(...n){return new C2("endBefore",n,!1)}(...t)))}catch(e){throw Fs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ns(this.firestore,Jd(this._delegate,function jW(...n){return new C2("endAt",n,!0)}(...t)))}catch(e){throw Fs(e,"endAt()","Query.endAt()")}}isEqual(t){return a2(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function ZW(n){n=Cn(n,us);const t=Cn(n.firestore,gr),e=ni(t),r=new _p(t);return function oW(n,t){const e=new Ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,u){try{const h=yield jE(i,a,!0),m=new LV(a,h.li),v=m.Gu(h.documents),x=m.applyChanges(v,!1);u.resolve(x.snapshot)}catch(h){const m=Sm(h,`Failed to execute query '${a} against cache`);u.reject(m)}}),function(i,a,u){return r.apply(this,arguments)})(yield fk(n),t,e);var r})),e.promise}(e,n._query).then(i=>new Qd(t,r,n,i))}(this._delegate):"server"===(null==t?void 0:t.source)?function KW(n){n=Cn(n,us);const t=Cn(n.firestore,gr),e=ni(t),r=new _p(t);return QV(e,n._query,{source:"server"}).then(i=>new Qd(t,r,n,i))}(this._delegate):function YW(n){n=Cn(n,us);const t=Cn(n.firestore,gr),e=ni(t),r=new _p(t);return v2(n._query),QV(e,n._query).then(i=>new Qd(t,r,n,i))}(this._delegate),e.then(r=>new Ak(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=L2(t),r=B2(t,i=>new Ak(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return M2(this._delegate,e,r)}withConverter(t){return new Ns(this.firestore,this._delegate.withConverter(t?yp.getInstance(this.firestore,t):null))}}class hY{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new wb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ak{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new wb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new hY(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new wb(this._firestore,r))})}isEqual(t){return y2(this._delegate,t._delegate)}}class Fm extends Ns{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new xa(this.firestore,t):null}doc(t){try{return new xa(this.firestore,void 0===t?JE(this._delegate):JE(this._delegate,t))}catch(e){throw Fs(e,"doc()","CollectionReference.doc()")}}add(t){return function JW(n,t){const e=Cn(n.firestore,gr),r=JE(n),i=sD(n.converter,t);return Om(e,[tD(pp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new xa(this.firestore,e))}isEqual(t){return o2(this._delegate,t._delegate)}withConverter(t){return new Fm(this.firestore,this._delegate.withConverter(t?yp.getInstance(this.firestore,t):null))}}function vp(n){return Cn(n,or)}class Sk{constructor(...t){this._delegate=new su(...t)}static documentId(){return new Sk(Si.keyField().canonicalString())}isEqual(t){return(t=(0,Ct.m9)(t))instanceof su&&this._delegate._internalPath.isEqual(t._internalPath)}}class bp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function rY(){return new yk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new bp(t)}static delete(){const t=function nY(){return new gb("deleteField")}();return t._methodName="FieldValue.delete",new bp(t)}static arrayUnion(...t){const e=function iY(...n){return new SW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new bp(e)}static arrayRemove(...t){const e=function sY(...n){return new IW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new bp(e)}static increment(t){const e=function oY(n){return new MW("increment",n)}(t);return e._methodName="FieldValue.increment",new bp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const fY={Firestore:F2,GeoPoint:XE,Timestamp:jr,Blob:vb,Transaction:N2,WriteBatch:P2,DocumentReference:xa,DocumentSnapshot:bb,Query:Ns,QueryDocumentSnapshot:wb,QuerySnapshot:Ak,CollectionReference:Fm,FieldPath:Sk,FieldValue:bp,setLogLevel:function dY(n){!function cz(n){Ud.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function V2(n,t){return function mY(n,t=ud.z){return new Bn.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function Ik(n,t){return V2(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function aD(n,t){return Ik(n,t).pipe(Zn(void 0),O0(),(0,ht.U)(([e,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const m=i.find(x=>x.doc.ref.isEqual(u.ref)),v=null==e?void 0:e.payload.docs.find(x=>x.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function U2(n,t,e){return aD(n,e).pipe(yo((r,i)=>function yY(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function vY(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Mk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Mk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Mk(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),t),[]),dd(),(0,ht.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Mk(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function G2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function gY(n){(function pY(n,t){n.INTERNAL.registerComponent(new kc.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},fY)))})(n,(t,e)=>new F2(t,e,new uY)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(fP.Z);class H2{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=aD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(Zn(void 0),O0(),vn(([r,i])=>i.length>0||!r),(0,ht.U)(([r,i])=>i),Yt.iC)}auditTrail(t){return this.stateChanges(t).pipe(yo((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=G2(t);return U2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(t={}){return Ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Yt.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(Yt.iC)}add(t){return this.ref.add(t)}doc(t){return new j2(this.ref.doc(t),this.afs)}}class j2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:a}=$2(r,e);return new H2(i,a,this.afs)}snapshotChanges(){return function _Y(n,t){return V2(n,t).pipe(Zn(void 0),O0(),(0,ht.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,yn.D)(this.ref.get(t)).pipe(Yt.iC)}}class bY{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),vn(e=>e.length>0),Yt.iC):aD(this.query,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}auditTrail(t){return this.stateChanges(t).pipe(yo((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=G2(t);return U2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yt.iC)}valueChanges(t={}){return Ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),Yt.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(Yt.iC)}}const wY=new s.OlP("angularfire2.enableFirestorePersistence"),CY=new s.OlP("angularfire2.firestore.persistenceSettings"),EY=new s.OlP("angularfire2.firestore.settings"),DY=new s.OlP("angularfire2.firestore.use-emulator");function $2(n,t=(e=>e)){return{query:t(n),ref:n}}let Rk=(()=>{class n{constructor(e,r,i,a,u,h,m,v,x,A,O,U,W,re,ve,ke,Ze){this.schedulers=m;const et=(0,Hr.on)(e,h,r),ze=x;A&&Ds(et,h,O,W,re,ve,U,ke),[this.firestore,this.persistenceEnabled$]=(0,Hr.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const Tt=h.runOutsideAngular(()=>et.firestore());if(a&&Tt.settings(a),ze&&Tt.useEmulator(...ze),i&&!si(u)){const kt=()=>{try{return(0,yn.D)(Tt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(gn){return"undefined"!=typeof console&&console.warn(gn),(0,Ye.of)(!1)}};return[Tt,h.runOutsideAngular(kt)]}return[Tt,(0,Ye.of)(!1)]},[a,ze,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=$2(i,r),h=this.schedulers.ngZone.run(()=>a);return new H2(h,u,this)}collectionGroup(e,r){const i=r||(u=>u),a=this.firestore.collectionGroup(e);return new bY(i(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new j2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hr.Dh),s.LFG(Hr.xv,8),s.LFG(wY,8),s.LFG(EY,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Yt.HU),s.LFG(CY,8),s.LFG(DY,8),s.LFG(od,8),s.LFG(mg,8),s.LFG(Oo,8),s.LFG(sd,8),s.LFG(hi,8),s.LFG(Ol,8),s.LFG(ef,8),s.LFG(Rl,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),z2=(()=>{class n{constructor(e){this.afs=e,this.cartCollection=this.afs.collection("Cart"),this.items=this.afs.collection("Cart").valueChanges()}getItems(){return this.items}addImage(e){var r;null===(r=this.cartCollection)||void 0===r||r.add(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rk))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xY(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._UZ(2,"img",1),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6,"(Under developing)"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.photo,s.LSH),s.xp6(2),s.Oqu(e.cost)}}let TY=(()=>{class n{constructor(e){this.cartService=e}ngOnInit(){var e;null===(e=this.cartService.getItems())||void 0===e||e.subscribe(r=>{this.orders=r})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(z2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cart"]],decls:10,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"src"]],template:function(e,r){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"table")(2,"tr")(3,"th"),s._uU(4,"Term\xe9k"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"\xc1r"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Term\xe9k mennyis\xe9g"),s.qZA()(),s.YNc(9,xY,7,2,"tr",0),s.qZA()),2&e&&(s.xp6(9),s.Q6J("ngForOf",r.orders))},directives:[yv,Jn],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid}table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{height:90px}td[_ngcontent-%COMP%]{text-align:center}"]}),n})();const q2="firebasestorage.googleapis.com",W2="storageBucket";class kr extends Ct.ZR{constructor(t,e){super(kk(t),`Firebase Storage: ${e} (${kk(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}_codeEquals(t){return kk(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function kk(n){return"storage/"+n}function Ok(){return new kr("unknown","An unknown error occurred, please check the error payload for server response.")}function Y2(){return new kr("canceled","User canceled the upload/download.")}function Z2(){return new kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nm(n){return new kr("invalid-argument",n)}function K2(){return new kr("app-deleted","The Firebase app was deleted.")}function Q2(n){return new kr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cb(n,t){return new kr("invalid-format","String does not match format '"+n+"': "+t)}function Eb(n){throw new kr("internal-error","Internal error: "+n)}class ds{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=ds.makeFromUrl(t,e)}catch(i){return new ds(t,"")}if(""===r.path)return r;throw function PY(n){return new kr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(ze){ze.path_=decodeURIComponent(ze.path)}const A=e.replace(/[.]/g,"\\."),et=[{regex:h,indices:{bucket:1,path:3},postModify:function a(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===q2?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let ze=0;ze<et.length;ze++){const Tt=et[ze],kt=Tt.regex.exec(t);if(kt){let xr=kt[Tt.indices.path];xr||(xr=""),r=new ds(kt[Tt.indices.bucket],xr),Tt.postModify(r);break}}if(null==r)throw function NY(n){return new kr("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class UY{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function lD(n){return"string"==typeof n||n instanceof String}function J2(n){return Fk()&&n instanceof Blob}function Fk(){return"undefined"!=typeof Blob}function Nk(n,t,e,r){if(r<t)throw Nm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Nm(`Invalid value for '${n}'. Expected ${e} or less.`)}function au(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function X2(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var eh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(eh||(eh={})),eh))();class qY{constructor(t,e,r,i,a,u,h,m,v,x,A){this.url_=t,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,U)=>{this.resolve_=O,this.reject_=U,this.start_()})}start_(){const e=(r,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function jY(n){return void 0!==n}(m)?a():a(m)}catch(m){u(m)}else if(null!==h){const m=Ok();m.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,m):m)}else u(i.canceled?this.appDelete_?K2():Y2():function FY(){return new kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new cD(!1,null,!0)):this.backoffId_=function GY(n,t,e){let r=1,i=null,a=null,u=!1,h=0;function m(){return 2===h}let v=!1;function x(...ve){v||(v=!0,t.apply(null,ve))}function A(ve){i=setTimeout(()=>{i=null,n(U,m())},ve)}function O(){a&&clearTimeout(a)}function U(ve,...ke){if(v)return void O();if(ve)return O(),void x.call(null,ve,...ke);if(m()||u)return O(),void x.call(null,ve,...ke);let et;r<64&&(r*=2),1===h?(h=2,et=0):et=1e3*(r+Math.random()),A(et)}let W=!1;function re(ve){W||(W=!0,O(),!v&&(null!==i?(ve||(h=2),clearTimeout(i),A(0)):ve||(h=1)))}return A(0),a=setTimeout(()=>{u=!0,re(!0)},e),re}((r,i)=>{if(i)return void r(!1,new cD(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===eh.NO_ERROR,m=a.getStatus();if(!h||this.isRetryStatusCode_(m)){const x=a.getErrorCode()===eh.ABORT;return void r(!1,new cD(!1,null,x))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new cD(v,a))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function HY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,i=-1!==[408,429].indexOf(t),a=-1!==this.additionalRetryCodes_.indexOf(t);return e||i||a}}class cD{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function XY(...n){const t=function JY(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(Fk())return new Blob(n);throw new kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ho={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pk{constructor(t,e){this.data=t,this.contentType=e||null}}function Lk(n,t){switch(n){case Ho.RAW:return new Pk(eU(t));case Ho.BASE64:case Ho.BASE64URL:return new Pk(tU(n,t));case Ho.DATA_URL:return new Pk(function r8(n){const t=new nU(n);return t.base64?tU(Ho.BASE64,t.rest):function n8(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Cb(Ho.DATA_URL,"Malformed data URL.")}return eU(t)}(t.rest)}(t),function i8(n){return new nU(n).contentType}(t))}throw Ok()}function eU(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function tU(n,t){switch(n){case Ho.BASE64:{const i=-1!==t.indexOf("-"),a=-1!==t.indexOf("_");if(i||a)throw Cb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ho.BASE64URL:{const i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Cb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function t8(n){return atob(n)}(t)}catch(i){throw Cb(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}class nU{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Cb(Ho.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function s8(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class Xl{constructor(t,e){let r=0,i="";J2(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(J2(this.data_)){const i=function e8(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===i?null:new Xl(i)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Xl(r,!0)}}static getBlob(...t){if(Fk()){const e=t.map(r=>r instanceof Xl?r.data_:r);return new Xl(XY.apply(null,e))}{const e=t.map(u=>lD(u)?Lk(Ho.RAW,u).data:u.data_);let r=0;e.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)i[a++]=u[h]}),new Xl(i,!0)}}uploadData(){return this.data_}}function Bk(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function zY(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function rU(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function l8(n,t){return t}class Ps{constructor(t,e,r,i){this.server=t,this.local=e||t,this.writable=!!r,this.xform=i||l8}}let uD=null;function Db(){if(uD)return uD;const n=[];n.push(new Ps("bucket")),n.push(new Ps("generation")),n.push(new Ps("metageneration")),n.push(new Ps("name","fullPath",!0));const e=new Ps("name");e.xform=function t(a,u){return function c8(n){return!lD(n)||n.length<2?n:rU(n)}(u)},n.push(e);const i=new Ps("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Ps("timeCreated")),n.push(new Ps("updated")),n.push(new Ps("md5Hash",null,!0)),n.push(new Ps("cacheControl",null,!0)),n.push(new Ps("contentDisposition",null,!0)),n.push(new Ps("contentEncoding",null,!0)),n.push(new Ps("contentLanguage",null,!0)),n.push(new Ps("contentType",null,!0)),n.push(new Ps("metadata","customMetadata",!0)),uD=n,uD}function iU(n,t,e){const r=Bk(t);return null===r?null:function d8(n,t,e){const r={type:"file"},i=e.length;for(let a=0;a<i;a++){const u=e[a];r[u.local]=u.xform(r,t[u.server])}return function u8(n,t){Object.defineProperty(n,"ref",{get:function e(){const a=new ds(n.bucket,n.fullPath);return t._makeStorageReference(a)}})}(r,n),r}(n,r,e)}function Vk(n,t){const e={},r=t.length;for(let i=0;i<r;i++){const a=t[i];a.writable&&(e[a.server]=n[a.local])}return JSON.stringify(e)}const sU="prefixes";class ec{constructor(t,e,r,i){this.url=t,this.method=e,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tc(n){if(!n)throw Ok()}function dD(n,t){return function e(r,i){const a=iU(n,i,t);return tc(null!==a),a}}function Pm(n){return function t(e,r){let i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function kY(){return new kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function RY(){return new kr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function MY(n){return new kr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function OY(n){return new kr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function xb(n){const t=Pm(n);return function e(r,i){let a=t(r,i);return 404===r.getStatus()&&(a=function IY(n){return new kr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function aU(n,t,e){const i=au(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ec(i,"GET",dD(n,e),u);return h.errorHandler=xb(t),h}function _8(n,t,e,r,i){const a={};a.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(a.delimiter=e),r&&(a.pageToken=r),i&&(a.maxResults=i);const h=au(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new ec(h,"GET",function g8(n,t){return function e(r,i){const a=function p8(n,t,e){const r=Bk(e);return null===r?null:function f8(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[sU])for(const i of e[sU]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new ds(t,a));r.prefixes.push(u)}if(e.items)for(const i of e.items){const a=n._makeStorageReference(new ds(t,i.name));r.items.push(a)}return r}(n,t,r)}(n,t,i);return tc(null!==a),a}}(n,t.bucket),v);return x.urlParams=a,x.errorHandler=Pm(t),x}function cU(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function w8(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class hD{constructor(t,e,r,i){this.current=t,this.total=e,this.finalized=!!r,this.metadata=i||null}}function Uk(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){tc(!1)}return tc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const x8={STATE_CHANGED:"state_changed"},Ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gk(n){switch(n){case"running":case"pausing":case"canceling":return Ls.RUNNING;case"paused":return Ls.PAUSED;case"success":return Ls.SUCCESS;case"canceled":return Ls.CANCELED;default:return Ls.ERROR}}class T8{constructor(t,e,r){if(function $Y(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{const a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Lm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class S8 extends class A8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,i){if(this.sent_)throw Eb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Eb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function sl(){return new S8}class fU{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=Db(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function C8(n,t,e,r,i){const a=t.bucketOnlyServerUrl(),u=cU(t,r,i),h={name:u.fullPath},m=au(a,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},A=Vk(u,e),W=new ec(m,"POST",function U(re){let ve;Uk(re);try{ve=re.getResponseHeader("X-Goog-Upload-URL")}catch(ke){tc(!1)}return tc(lD(ve)),ve},n.maxUploadRetryTime);return W.urlParams=h,W.headers=x,W.body=A,W.errorHandler=Pm(t),W}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,sl,t,e);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const i=function E8(n,t,e,r){const m=new ec(e,"POST",function a(v){const x=Uk(v,["active","final"]);let A=null;try{A=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(U){tc(!1)}A||tc(!1);const O=Number(A);return tc(!isNaN(O)),new hD(O,r.size(),"final"===x)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Pm(t),m}(this._ref.storage,this._ref._location,t,this._blob),a=this._ref.storage._makeRequest(i,sl,e,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new hD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function D8(n,t,e,r,i,a,u,h){const m=new hD(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function BY(){return new kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let x=v;i>0&&(x=Math.min(x,i));const A=m.current,W={"X-Goog-Upload-Command":x===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${m.current}`},re=r.slice(A,A+x);if(null===re)throw Z2();const et=new ec(e,"POST",function ve(ze,Tt){const kt=Uk(ze,["active","final"]),gn=m.current+x,xr=r.size();let jo;return jo="final"===kt?dD(t,a)(ze,Tt):null,new hD(gn,xr,"final"===kt,jo)},t.maxUploadRetryTime);return et.headers=W,et.body=re.uploadData(),et.progressCallback=h||null,et.errorHandler=Pm(n),et}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(u,sl,i,a);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=aU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,sl,t,e);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function uU(n,t,e,r,i){const a=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let et="";for(let ze=0;ze<2;ze++)et+=Math.random().toString().slice(2);return et}();u["Content-Type"]="multipart/related; boundary="+m;const v=cU(t,r,i),x=Vk(v,e),U=Xl.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===U)throw Z2();const W={name:v.fullPath},re=au(a,n.host,n._protocol),ke=n.maxUploadRetryTime,Ze=new ec(re,"POST",dD(n,e),ke);return Ze.urlParams=W,Ze.headers=u,Ze.body=U.uploadData(),Ze.errorHandler=Pm(t),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,sl,t,e);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Y2(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Gk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,i){const a=new T8(e||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Gk(this._state)){case Ls.SUCCESS:Lm(this._resolve.bind(null,this.snapshot))();break;case Ls.CANCELED:case Ls.ERROR:Lm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Gk(this._state)){case Ls.RUNNING:case Ls.PAUSED:t.next&&Lm(t.next.bind(t,this.snapshot))();break;case Ls.SUCCESS:t.complete&&Lm(t.complete.bind(t))();break;default:t.error&&Lm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class wp{constructor(t,e){this._service=t,this._location=e instanceof ds?e:ds.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new wp(t,e)}get root(){const t=new ds(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rU(this._location.path)}get storage(){return this._service}get parent(){const t=function o8(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ds(this._location.bucket,t);return new wp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Q2(t)}}function gU(n,t,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,me.Z)(function*(n,t,e){const i=yield mU(n,{pageToken:e});t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield gU(n,t,i.nextPageToken))}),Hk.apply(this,arguments)}function mU(n,t){null!=t&&"number"==typeof t.maxResults&&Nk("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=_8(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,sl)}function U8(n){n._throwIfRoot("getDownloadURL");const t=function y8(n,t,e){const i=au(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ec(i,"GET",function m8(n,t){return function e(r,i){const a=iU(n,i,t);return tc(null!==a),function h8(n,t,e,r){const i=Bk(t);if(null===i||!lD(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const A=n.fullPath;return au("/b/"+u(n.bucket)+"/o/"+u(A),e,r)+X2({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,e),u);return h.errorHandler=xb(t),h}(n.storage,n._location,Db());return n.storage.makeRequestWithTokens(t,sl).then(e=>{if(null===e)throw function VY(){return new kr("no-download-url","The given file does not have any download URLs.")}();return e})}function _U(n,t){const e=function a8(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new ds(n._location.bucket,e);return new wp(n.storage,r)}function yU(n,t){if(n instanceof jk){const e=n;if(null==e._bucket)throw function LY(){return new kr("no-default-bucket","No default bucket found. Did you set the '"+W2+"' property when initializing the app?")}();const r=new wp(e,e._bucket);return null!=t?yU(r,t):r}return void 0!==t?_U(n,t):n}function $8(n,t){if(t&&function H8(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof jk)return function j8(n,t){return new wp(n,t)}(n,t);throw Nm("To use ref(service, url), the first argument must be a Storage instance.")}return yU(n,t)}function vU(n,t){const e=null==t?void 0:t[W2];return null==e?null:ds.makeFromBucketSpec(e,n)}class jk{constructor(t,e,r,i,a){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ds.makeFromBucketSpec(i,this._host):vU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ds.makeFromBucketSpec(this._url,t):vU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Nk("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Nk("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new wp(this,t)}_makeRequest(t,e,r,i){if(this._deleted)return new UY(K2());{const a=function QY(n,t,e,r,i,a){const u=X2(n.urlParams),h=n.url+u,m=Object.assign({},n.headers);return function ZY(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function WY(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function YY(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(m,a),function KY(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,r),new qY(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(t,this._appId,r,i,e,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var r=this;return(0,me.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,i,a).getPromise()})()}}const bU="@firebase/storage",CU="storage";function EU(n,t){return $8(n=(0,Ct.m9)(n),t)}function e5(n=(0,di.getApp)(),t){return n=(0,Ct.m9)(n),(0,di._getProvider)(n,CU).getImmediate({identifier:t})}function n5(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new jk(e,r,i,t,di.SDK_VERSION)}!function r5(){(0,di._registerComponent)(new kc.wA(CU,n5,"PUBLIC").setMultipleInstances(!0)),(0,di.registerVersion)(bU,"0.9.5",""),(0,di.registerVersion)(bU,"0.9.5","esm2017")}();class fD{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class DU{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new fD(r,this,this._ref))},e)}on(t,e,r,i){let a;return e&&(a="function"==typeof e?u=>e(new fD(u,this,this._ref)):{next:e.next?u=>e.next(new fD(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)}}class xU{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new lu(t,this._service))}get items(){return this._delegate.items.map(t=>new lu(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class lu{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function X8(n,t){return _U(n,t)}(this._delegate,t);return new lu(e,this.storage)}get root(){return new lu(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new lu(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new DU(function q8(n,t,e){return function N8(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new fU(n,new Xl(t),e)}(n=(0,Ct.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ho.RAW,r){this._throwIfRoot("putString");const i=Lk(e,t),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new DU(new fU(this._delegate,new Xl(i.data,!0),a),this)}listAll(){return function K8(n){return function L8(n){const t={prefixes:[],items:[]};return gU(n,t).then(()=>t)}(n=(0,Ct.m9)(n))}(this._delegate).then(t=>new xU(t,this.storage))}list(t){return function Z8(n,t){return mU(n=(0,Ct.m9)(n),t)}(this._delegate,t||void 0).then(e=>new xU(e,this.storage))}getMetadata(){return function W8(n){return function B8(n){n._throwIfRoot("getMetadata");const t=aU(n.storage,n._location,Db());return n.storage.makeRequestWithTokens(t,sl)}(n=(0,Ct.m9)(n))}(this._delegate)}updateMetadata(t){return function Y8(n,t){return function V8(n,t){n._throwIfRoot("updateMetadata");const e=function v8(n,t,e,r){const a=au(t.fullServerUrl(),n.host,n._protocol),h=Vk(e,r),v=n.maxOperationRetryTime,x=new ec(a,"PATCH",dD(n,r),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=h,x.errorHandler=xb(t),x}(n.storage,n._location,t,Db());return n.storage.makeRequestWithTokens(e,sl)}(n=(0,Ct.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Q8(n){return U8(n=(0,Ct.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function J8(n){return function G8(n){n._throwIfRoot("deleteObject");const t=function b8(n,t){const r=au(t.fullServerUrl(),n.host,n._protocol),h=new ec(r,"DELETE",function u(m,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=xb(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,sl)}(n=(0,Ct.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Q2(t)}}class TU{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(AU(t))throw Nm("ref() expected a child path but got a URL, use refFromURL instead.");return new lu(EU(this._delegate,t),this)}refFromURL(t){if(!AU(t))throw Nm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ds.makeFromUrl(t,this._delegate.host)}catch(e){throw Nm("refFromUrl() expected a valid full URL but got an invalid one.")}return new lu(EU(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function t5(n,t,e,r={}){!function z8(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Ct.Sg)(i,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function AU(n){return/^[A-Za-z]+:\/\//.test(n)}function a5(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new TU(e,r)}function SU(n){const t=function c5(n){return new Bn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const a=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){a()}}).pipe(xs(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ht.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function pD(n){return{getDownloadURL:()=>(0,Ye.of)(void 0).pipe(Yt.fc,vr(()=>n.getDownloadURL()),Yt.iC),getMetadata:()=>(0,Ye.of)(void 0).pipe(Yt.fc,vr(()=>n.getMetadata()),Yt.iC),delete:()=>(0,yn.D)(n.delete()),child:t=>pD(n.child(t)),updateMetadata:t=>(0,yn.D)(n.updateMetadata(t)),put:(t,e)=>SU(n.put(t,e)),putString:(t,e,r)=>SU(n.putString(t,e,r)),list:t=>(0,yn.D)(n.list(t)),listAll:()=>(0,yn.D)(n.listAll())}}!function l5(n){const t={TaskState:Ls,TaskEvent:x8,StringFormat:Ho,Storage:TU,Reference:lu};n.INTERNAL.registerComponent(new kc.wA("storage-compat",a5,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(fP.Z);const u5=new s.OlP("angularfire2.storageBucket"),d5=new s.OlP("angularfire2.storage.maxUploadRetryTime"),h5=new s.OlP("angularfire2.storage.maxOperationRetryTime"),f5=new s.OlP("angularfire2.storage.use-emulator");let p5=(()=>{class n{constructor(e,r,i,a,u,h,m,v,x,A){const O=(0,Hr.on)(e,u,r);this.storage=(0,Hr.cc)(`${O.name}.storage.${i}`,"AngularFireStorage",O.name,()=>{const U=u.runOutsideAngular(()=>O.storage(i||void 0)),W=x;return W&&U.useEmulator(...W),m&&U.setMaxUploadRetryTime(m),v&&U.setMaxOperationRetryTime(v),U},[m,v])}ref(e){return pD(this.storage.ref(e))}refFromURL(e){return pD(this.storage.refFromURL(e))}upload(e,r,i){return pD(this.storage.ref(e)).put(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hr.Dh),s.LFG(Hr.xv,8),s.LFG(u5,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Yt.HU),s.LFG(d5,8),s.LFG(h5,8),s.LFG(f5,8),s.LFG(Rl,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),g5=(()=>{class n{constructor(e,r){this.afs=e,this.storage=r,this.items=this.afs.collection("Images").valueChanges(),this.items_jeans=this.afs.collection("Jeans_image").valueChanges()}getItems(){return this.items}getJeansItems(){return this.items_jeans}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rk),s.LFG(p5))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _5={provide:s.tb,useFactory:function m5(n,t){return()=>{if(_n(t)){const e=Array.from(n.querySelectorAll(`[class*=${IU}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(i=>{i.classList.contains(`${IU}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[ae,s.Lbi],multi:!0},IU="flex-layout-";let $k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_5]}),n})();class Cp{constructor(t=!1,e="all",r="",i="",a=0){this.matches=t,this.mediaQuery=e,this.mqAlias=r,this.suffix=i,this.priority=a,this.property=""}clone(){return new Cp(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let MU=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,r,i){const a=this.stylesheet.get(e);a?a.set(r,i):this.stylesheet.set(e,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,r){const i=this.stylesheet.get(e);let a="";if(i){const u=i.get(r);("number"==typeof u||"string"==typeof u)&&(a=u+"")}return a}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const zk={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},ol=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>zk}),Ep=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),qk=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function RU(n,t){return n=n?n.clone():new Cp,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}const Wk="inline",kU=["row","column","row-reverse","column-reverse"];function b5(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}let Er=(()=>{class n{constructor(e,r,i,a){this.elementRef=e,this.styleBuilder=r,this.styler=i,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new at.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(e[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,r){const i=this.styleBuilder,a=i.shouldCache;let u=this.styleCache.get(e);(!u||!a)&&(u=i.buildStyles(e,r),a&&this.styleCache.set(e,u)),this.mru=Object.assign({},u),this.applyStyleToElement(u),i.sideEffect(e,u,r)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,r=!1){if(e){const[i,a]=this.styler.getFlowDirection(e);if(!a&&r){const u=function y5(n){let[t,e,r]=function v5(n){n=n?n.toLowerCase():"";let[t,e,r]=n.split(" ");return kU.find(i=>i===t)||(t=kU[0]),e===Wk&&(e=r!==Wk?r:"",r=Wk),[t,b5(e),!!r]}(n);return function w5(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,r)}(i);this.styler.applyStyleToElements(u,[e])}return i.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,r,i=this.nativeElement){this.styler.applyStyleToElement(i,e,r)}setValue(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const C5=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],OU="(orientation: portrait) and (max-width: 599.98px)",FU="(orientation: landscape) and (max-width: 959.98px)",NU="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",PU="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",LU="(orientation: portrait) and (min-width: 840px)",BU="(orientation: landscape) and (min-width: 1280px)",cu={HANDSET:`${OU}, ${FU}`,TABLET:`${NU} , ${PU}`,WEB:`${LU}, ${BU} `,HANDSET_PORTRAIT:`${OU}`,TABLET_PORTRAIT:`${NU} `,WEB_PORTRAIT:`${LU}`,HANDSET_LANDSCAPE:`${FU}`,TABLET_LANDSCAPE:`${PU}`,WEB_LANDSCAPE:`${BU}`},E5=[{alias:"handset",priority:2e3,mediaQuery:cu.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:cu.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:cu.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:cu.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:cu.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:cu.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:cu.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:cu.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:cu.WEB_PORTRAIT,overlapping:!0}],x5=/(\.|-|_)/g;function T5(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}function I5(n,t=[]){const e={};return n.forEach(r=>{e[r.alias]=r}),t.forEach(r=>{e[r.alias]?function D5(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r])}(e[r.alias],r):e[r.alias]=r}),function S5(n){return n.forEach(t=>{t.suffix||(t.suffix=function A5(n){return n.replace(x5,"|").split("|").map(T5).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(r=>e[r]))}const VU=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(qk),t=(0,s.f3M)(ol),e=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return I5((t.disableDefaultBps?[]:C5).concat(t.addOrientationBps?E5:[]),e)}});function Tb(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function M5(n,t){return(n.priority||0)-(t.priority||0)}let Ab=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(M5)}findByAlias(e){return e?this.findWithPredicate(e,r=>r.alias==e):null}findByQuery(e){return this.findWithPredicate(e,r=>r.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,r){let i=this.findByMap.get(e);return i||(i=this.items.find(r)||null,this.findByMap.set(e,i)),i||null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(VU))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(VU))},token:n,providedIn:"root"}),n})(),gD=(()=>{class n{constructor(e,r,i){this._zone=e,this._platformId=r,this._document=i,this.source=new Mr(new Cp(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((r,i)=>{r.matches&&e.push(i)}),e}isActive(e){const r=this.registry.get(e);return r?r.matches:this.registerQuery(e).some(i=>i.matches)}observe(e,r=!1){if(e&&e.length){const i=this._observable$.pipe(vn(u=>!r||e.indexOf(u.mediaQuery)>-1)),a=new Bn.y(u=>{const h=this.registerQuery(e);if(h.length){const m=h.pop();h.forEach(v=>{u.next(v)}),this.source.next(m)}u.complete()});return(0,va.T)(a,i)}return this._observable$}registerQuery(e){const r=Array.isArray(e)?e:[e],i=[];return function R5(n,t){const e=n.filter(r=>!UU[r]);if(e.length>0){const r=e.join(", ");try{const i=t.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),t.head.appendChild(i),e.forEach(a=>UU[a]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(a=>{const u=m=>{this._zone.run(()=>this.source.next(new Cp(m.matches,a)))};let h=this.registry.get(a);h||(h=this.buildMQL(a),h.addListener(u),this.pendingRemoveListenerFns.push(()=>h.removeListener(u)),this.registry.set(a,h)),h.matches&&i.push(new Cp(!0,a))}),i}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function k5(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,_n(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(ae))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(s.R0b),(0,s.LFG)(s.Lbi),(0,s.LFG)(ae))},token:n,providedIn:"root"}),n})();const UU={},Bm="print",N5={alias:Bm,mediaQuery:Bm,priority:1e3};let GU=(()=>{class n{constructor(e,r,i){this.breakpoints=e,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new P5,this.deactivations=[]}withPrintQuery(e){return[...e,Bm]}isPrintEvent(e){return e.mediaQuery.startsWith(Bm)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const r=this.breakpoints.findByQuery(e);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Tb)}updateEvent(e){let r=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(r=this.getEventBreakpoints(e)[0],e.mediaQuery=r?r.mediaQuery:""),RU(e,r)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Cp(!0,Bm))),e.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(r)),e.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(r)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,r){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const r=this.breakpoints.findByQuery(e.mediaQuery);r&&(this.deactivations.push(r),this.deactivations.sort(Tb))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ab),s.LFG(ol),s.LFG(ae))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(Ab),(0,s.LFG)(ol),(0,s.LFG)(ae))},token:n,providedIn:"root"}),n})();class P5{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(N5),t.sort(Tb),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function L5(n){return!!n&&n.mediaQuery.startsWith(Bm)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function HU(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}let ar=(()=>{class n{constructor(e,r,i,a){this._serverStylesheet=e,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=a}applyStyleToElement(e,r,i=null){let a={};"string"==typeof r&&(a[r]=i,r=a),a=this.layoutConfig.disableVendorPrefixes?r:HU(r),this._applyMultiValueStyleToElement(a,e)}applyStyleToElements(e,r=[]){const i=this.layoutConfig.disableVendorPrefixes?e:HU(e);r.forEach(a=>{this._applyMultiValueStyleToElement(i,a)})}getFlowDirection(e){const r="flex-direction";let i=this.lookupStyle(e,r);return[i||"row",this.lookupInlineStyle(e,r)||si(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,r){return e.getAttribute(r)||""}lookupInlineStyle(e,r){return _n(this._platformId)?e.style.getPropertyValue(r):this._getServerStyle(e,r)}lookupStyle(e,r,i=!1){let a="";return e&&((a=this.lookupInlineStyle(e,r))||(_n(this._platformId)?i||(a=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(e,r)))),a?a.trim():""}_applyMultiValueStyleToElement(e,r){Object.keys(e).sort().forEach(i=>{const a=e[i],u=Array.isArray(a)?a:[a];u.sort();for(let h of u)h=h?h+"":"",_n(this._platformId)||!this._serverModuleLoaded?_n(this._platformId)?r.style.setProperty(i,h):this._setServerStyle(r,i,h):this._serverStylesheet.addStyleToElement(r,i,h)})}_setServerStyle(e,r,i){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const a=this._readStyleAttribute(e);a[r]=i||"",this._writeStyleAttribute(e,a)}_getServerStyle(e,r){return this._readStyleAttribute(e)[r]||""}_readStyleAttribute(e){const r={},i=e.getAttribute("style");if(i){const a=i.split(/;+/g);for(let u=0;u<a.length;u++){const h=a[u].trim();if(h.length>0){const m=h.indexOf(":");if(-1===m)throw new Error(`Invalid CSS style: ${h}`);r[h.substr(0,m).trim()]=h.substr(m+1).trim()}}}return r}_writeStyleAttribute(e,r){let i="";for(const a in r)r[a]&&(i+=a+":"+r[a]+";");e.setAttribute("style",i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(MU),s.LFG(Ep),s.LFG(s.Lbi),s.LFG(ol))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(MU),(0,s.LFG)(Ep),(0,s.LFG)(s.Lbi),(0,s.LFG)(ol))},token:n,providedIn:"root"}),n})();class zr{constructor(){this.shouldCache=!0}sideEffect(t,e,r){}}function jU(n,t="1",e="1"){let r=[t,e,n],i=n.indexOf("calc");if(i>0){r[2]=$U(n.substring(i).trim());let a=n.substr(0,i).trim().split(" ");2==a.length&&(r[0]=a[0],r[1]=a[1])}else if(0==i)r[2]=$U(n.trim());else{let a=n.split(" ");r=3===a.length?a:[t,e,n]}return r}function $U(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Dr=(()=>{class n{constructor(e,r,i){this.matchMedia=e,this.breakpoints=r,this.hook=i,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new at.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const r=this.findByQuery(e.mediaQuery);r&&((e=RU(e,r)).matches&&-1===this.activatedBreakpoints.indexOf(r)?(this.activatedBreakpoints.push(r),this.activatedBreakpoints.sort(Tb),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(r)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(r),1),this.activatedBreakpoints.sort(Tb),this.updateStyles()))}init(e,r,i,a,u=[]){zU(this.updateMap,e,r,i),zU(this.clearMap,e,r,a),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,u)}getValue(e,r,i){const a=this.elementMap.get(e);if(a){const u=void 0!==i?a.get(i):this.getActivatedValues(a,r);if(u)return u.get(r)}}hasValue(e,r){const i=this.elementMap.get(e);if(i){const a=this.getActivatedValues(i,r);if(a)return void 0!==a.get(r)||!1}return!1}setValue(e,r,i,a){let u=this.elementMap.get(e);if(u){const m=(u.get(a)||new Map).set(r,i);u.set(a,m),this.elementMap.set(e,u)}else u=(new Map).set(a,(new Map).set(r,i)),this.elementMap.set(e,u);const h=this.getValue(e,r);void 0!==h&&this.updateElement(e,r,h)}trackValue(e,r){return this.subject.asObservable().pipe(vn(i=>i.element===e&&i.key===r))}updateStyles(){this.elementMap.forEach((e,r)=>{const i=new Set(this.elementKeyMap.get(r));let a=this.getActivatedValues(e);a&&a.forEach((u,h)=>{this.updateElement(r,h,u),i.delete(h)}),i.forEach(u=>{if(a=this.getActivatedValues(e,u),a){const h=a.get(u);this.updateElement(r,u,h)}else this.clearElement(r,u)})})}clearElement(e,r){const i=this.clearMap.get(e);if(i){const a=i.get(r);a&&(a(),this.subject.next({element:e,key:r,value:""}))}}updateElement(e,r,i){const a=this.updateMap.get(e);if(a){const u=a.get(r);u&&(u(i),this.subject.next({element:e,key:r,value:i}))}}releaseElement(e){const r=this.watcherMap.get(e);r&&(r.forEach(a=>a.unsubscribe()),this.watcherMap.delete(e));const i=this.elementMap.get(e);i&&(i.forEach((a,u)=>i.delete(u)),this.elementMap.delete(e))}triggerUpdate(e,r){const i=this.elementMap.get(e);if(i){const a=this.getActivatedValues(i,r);a&&(r?this.updateElement(e,r,a.get(r)):a.forEach((u,h)=>this.updateElement(e,h,u)))}}buildElementKeyMap(e,r){let i=this.elementKeyMap.get(e);i||(i=new Set,this.elementKeyMap.set(e,i)),i.add(r)}watchExtraTriggers(e,r,i){if(i&&i.length){let a=this.watcherMap.get(e);if(a||(a=new Map,this.watcherMap.set(e,a)),!a.get(r)){const h=(0,va.T)(...i).subscribe(()=>{const m=this.getValue(e,r);this.updateElement(e,r,m)});a.set(r,h)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,r){for(let a=0;a<this.activatedBreakpoints.length;a++){const h=e.get(this.activatedBreakpoints[a].alias);if(h&&(void 0===r||h.has(r)&&null!=h.get(r)))return h}const i=e.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const r=this.breakpoints.items.map(i=>i.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(r)).pipe((0,on.b)(this.hook.interceptEvents(this)),vn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gD),s.LFG(Ab),s.LFG(GU))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(gD),(0,s.LFG)(Ab),(0,s.LFG)(GU))},token:n,providedIn:"root"}),n})();function zU(n,t,e,r){if(void 0!==r){let i=n.get(t);i||(i=new Map,n.set(t,i)),i.set(e,r)}}const Yk="inline",mD=["row","column","row-reverse","column-reverse"];function qU(n){n=n?n.toLowerCase():"";let[t,e,r]=n.split(" ");return mD.find(i=>i===t)||(t=mD[0]),e===Yk&&(e=r!==Yk?r:"",r=Yk),[t,V5(e),!!r]}function Sb(n){let[t]=qU(n);return t.indexOf("row")>-1}function V5(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}let G5=(()=>{class n extends zr{buildStyles(e){return function B5(n){let[t,e,r]=qU(n);return function U5(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,r)}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const H5=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let j5=(()=>{class n extends Er{constructor(e,r,i,a){super(e,i,r,a),this.DIRECTIVE_KEY="layout",this.styleCache=$5,this.init()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ar),s.Y36(G5),s.Y36(Dr))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),WU=(()=>{class n extends j5{constructor(){super(...arguments),this.inputs=H5}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[s.qOj]}),n})();const $5=new Map,YU={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let z5=(()=>{class n extends zr{constructor(e){super(),this._styler=e}buildStyles(e,r){return e.endsWith(_D)?function X5(n,t){const[e,r]=n.split(" "),a=v=>`-${v}`;let u="0px",h=a(r||e),m="0px";return"rtl"===t?m=a(e):u=a(e),{margin:`0px ${u} ${h} ${m}`}}(e=e.slice(0,e.indexOf(_D)),r.directionality):{}}sideEffect(e,r,i){const a=i.items;if(e.endsWith(_D)){const u=function J5(n,t){const[e,r]=n.split(" ");let a="0px",h="0px";return"rtl"===t?h=e:a=e,{padding:`0px ${a} ${r||e} ${h}`}}(e=e.slice(0,e.indexOf(_D)),i.directionality);this._styler.applyStyleToElements(u,i.items)}else{const u=a.pop(),h=function e4(n,t){const e=KU(t.directionality,t.layout),r=Object.assign({},YU);return r[e]=n,r}(e,i);this._styler.applyStyleToElements(h,a),this._styler.applyStyleToElements(YU,[u])}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(ar))},token:n,providedIn:"root"}),n})();const q5=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let W5=(()=>{class n extends Er{constructor(e,r,i,a,u,h){super(e,u,a,h),this.zone=r,this.directionality=i,this.styleUtils=a,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new at.xQ;const m=[this.directionality.change,this.observerSubject.asObservable()];this.init(m),this.marshal.trackValue(this.nativeElement,"layout").pipe(tn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,r=[];for(let i=e.length;i--;)r[i]=e[i];return r}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],mD.find(a=>a===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const r=this.childrenNodes.filter(i=>1===i.nodeType&&this.willDisplay(i)).sort((i,a)=>{const u=+this.styler.lookupStyle(i,"order"),h=+this.styler.lookupStyle(a,"order");return isNaN(u)||isNaN(h)||u===h?0:u>h?1:-1});if(r.length>0){const i=this.directionality.value,a=this.layout;"row"===a&&"rtl"===i?this.styleCache=Y5:"row"===a&&"rtl"!==i?this.styleCache=K5:"column"===a&&"rtl"===i?this.styleCache=Z5:"column"===a&&"rtl"!==i&&(this.styleCache=Q5),this.addStyles(e,{directionality:i,items:r,layout:a})}}clearStyles(){const e=Object.keys(this.mru).length>0,r=e?"padding":KU(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[r]:""},this.childrenNodes)}willDisplay(e){const r=this.marshal.getValue(e,"show-hide");return!0===r||void 0===r&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(i=>i.addedNodes&&i.addedNodes.length>0||i.removedNodes&&i.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xi),s.Y36(ar),s.Y36(z5),s.Y36(Dr))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),ZU=(()=>{class n extends W5{constructor(){super(...arguments),this.inputs=q5}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[s.qOj]}),n})();const Y5=new Map,Z5=new Map,K5=new Map,Q5=new Map,_D=" grid";function KU(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}function th(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}let t4=(()=>{class n extends zr{constructor(e){super(),this.layoutConfig=e}buildStyles(e,r){let[i,a,...u]=e.split(" "),h=u.join(" ");const m=r.direction.indexOf("column")>-1?"column":"row",v=Sb(m)?"max-width":"max-height",x=Sb(m)?"min-width":"min-height",A=String(h).indexOf("calc")>-1,O=A||"auto"===h,U=String(h).indexOf("%")>-1&&!A,W=String(h).indexOf("px")>-1||String(h).indexOf("rem")>-1||String(h).indexOf("em")>-1||String(h).indexOf("vw")>-1||String(h).indexOf("vh")>-1;let re=A||W;i="0"==i?0:i,a="0"==a?0:a;const ve=!i&&!a;let ke={};const Ze={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(h||""){case"":const et=!1!==this.layoutConfig.useColumnBasisZero;h="row"===m?"0%":et?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,h="auto";break;case"grow":h="100%";break;case"noshrink":a=0,h="auto";break;case"auto":break;case"none":i=0,a=0,h="auto";break;default:!re&&!U&&!isNaN(h)&&(h+="%"),"0%"===h&&(re=!0),"0px"===h&&(h="0%"),ke=th(Ze,A?{"flex-grow":i,"flex-shrink":a,"flex-basis":re?h:"100%"}:{flex:`${i} ${a} ${re?h:"100%"}`})}return ke.flex||ke["flex-grow"]||(ke=th(Ze,A?{"flex-grow":i,"flex-shrink":a,"flex-basis":h}:{flex:`${i} ${a} ${h}`})),"0%"!==h&&"0px"!==h&&"0.000000001px"!==h&&"auto"!==h&&(ke[x]=ve||re&&i?h:null,ke[v]=ve||!O&&a?h:null),ke[x]||ke[v]?r.hasWrap&&(ke[A?"flex-basis":"flex"]=ke[v]?A?ke[v]:`${i} ${a} ${ke[v]}`:A?ke[x]:`${i} ${a} ${ke[x]}`):ke=th(Ze,A?{"flex-grow":i,"flex-shrink":a,"flex-basis":h}:{flex:`${i} ${a} ${h}`}),th(ke,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ol))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(ol))},token:n,providedIn:"root"}),n})();const n4=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let r4=(()=>{class n extends Er{constructor(e,r,i,a,u){super(e,a,r,u),this.layoutConfig=i,this.marshal=u,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(tn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(tn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const i=e.value.split(" ");this.direction=i[0],this.wrap=void 0!==i[1]&&"wrap"===i[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const i=this.direction,a=i.startsWith("row"),u=this.wrap;a&&u?this.styleCache=o4:a&&!u?this.styleCache=i4:!a&&u?this.styleCache=a4:!a&&!u&&(this.styleCache=s4);const m=jU(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(m.join(" "),{direction:i,hasWrap:u})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const r=jU(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ar),s.Y36(ol),s.Y36(t4),s.Y36(Dr))},n.\u0275dir=s.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[s.qOj]}),n})(),QU=(()=>{class n extends r4{constructor(){super(...arguments),this.inputs=n4}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[s.qOj]}),n})();const i4=new Map,s4=new Map,o4=new Map,a4=new Map;let JU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[$k,bd]]}),n})();function H4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"mat-card",6),s._UZ(2,"img",7),s.TgZ(3,"mat-card-content")(4,"p"),s._uU(5),s.qZA()(),s.TgZ(6,"mat-card-actions")(7,"button",8),s.NdJ("click",function(){const a=s.CHM(e).$implicit;return s.oxw(2).addToCart(a)}),s._uU(8,"Add to cart"),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.photo,s.LSH),s.xp6(3),s.hij(" ",e.cost," ")}}function j4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,H4,9,2,"div",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.items)}}function $4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"mat-card",6),s._UZ(2,"img",7),s.TgZ(3,"mat-card-content")(4,"p"),s._uU(5),s.qZA()(),s.TgZ(6,"mat-card-actions")(7,"button",8),s.NdJ("click",function(){const a=s.CHM(e).$implicit;return s.oxw(2).addToCart(a)}),s._uU(8,"Add to cart"),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.photo,s.LSH),s.xp6(3),s.hij(" ",e.cost," ")}}function z4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,$4,9,2,"div",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.jeans_items)}}function q4(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h1",9),s._uU(2,"Under developing"),s.qZA(),s.BQk())}function W4(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h1",9),s._uU(2,"Under developing"),s.qZA(),s.BQk())}function Y4(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h1",9),s._uU(2,"Under developing"),s.qZA(),s.BQk())}function Z4(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h1",9),s._uU(2,"Please choose your outfit!"),s.qZA(),s.BQk())}let K4=(()=>{class n{constructor(e,r,i){this.galleryService=e,this.cartService=r,this.router=i}saveValue(e){this.variable=e}ngOnInit(){this.galleryService.getItems().subscribe(e=>{this.items=e}),this.galleryService.getJeansItems().subscribe(e=>{this.jeans_items=e})}addToCart(e){this.cartService.addImage(e),this.router.navigate(["/cart"])}ngOnChanges(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(g5),s.Y36(z2),s.Y36(rr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-gallery"]],features:[s.TTD],decls:10,vars:6,consts:[[3,"save"],[1,"content"],["fxLayout","row wrap","fxLayoutGap","16px grid"],[4,"ngIf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%"],[1,"mat-elevant-z4"],["mat-card-image","",3,"src"],["mat-button","",3,"click"],[1,"center"]],template:function(e,r){1&e&&(s.TgZ(0,"app-navbar",0),s.NdJ("save",function(a){return r.saveValue(a)}),s.qZA(),s.TgZ(1,"div",1)(2,"div",2),s.ynx(3),s.YNc(4,j4,2,1,"ng-container",3),s.YNc(5,z4,2,1,"ng-container",3),s.YNc(6,q4,3,0,"ng-container",3),s.YNc(7,W4,3,0,"ng-container",3),s.YNc(8,Y4,3,0,"ng-container",3),s.YNc(9,Z4,3,0,"ng-container",3),s.BQk(),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngIf","P\xf3l\xf3"==r.variable),s.xp6(1),s.Q6J("ngIf","Farmer"==r.variable),s.xp6(1),s.Q6J("ngIf","Dzseki"==r.variable),s.xp6(1),s.Q6J("ngIf","Cip\u0151"==r.variable),s.xp6(1),s.Q6J("ngIf","Nadr\xe1g"==r.variable),s.xp6(1),s.Q6J("ngIf",null==r.variable))},directives:[yv,WU,ZU,kn,Jn,QU,hP,Q3,dP,K3,R0],styles:[".content[_ngcontent-%COMP%]{padding:16px}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#fff}.mat-card-actions[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%], .mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}.mat-card-image[_ngcontent-%COMP%]{height:350px}.center[_ngcontent-%COMP%]{font-size:3em;margin:20% auto auto;padding-left:50%}"]}),n})();var Q4=N(655);function Zk(n){return n instanceof s.Rgc}function Kk(n){return"function"==typeof n}function XU(n){return"string"==typeof n}let J4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,r){1&e&&s._UZ(0,"div",0),2&e&&s.Q6J("innerHTML",r.content,s.oJD)},encapsulation:2}),n})();class X4{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){var t;1!==this.viewRef.rootNodes[0]&&(null===(t=this.element)||void 0===t||t.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class eZ{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class tZ{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const e=t.resolver.resolveComponentFactory(t.component);this.compRef=e.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,e){return this.compRef.instance[t]=e,this}setInputs(t){return Object.keys(t).forEach(e=>{this.compRef.instance[e]=t[e]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let eG=(()=>{class n{constructor(e,r,i){this.resolver=e,this.injector=r,this.appRef=i}createComponent(e,r={}){return new tZ({component:e,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,r={}){return new X4({vcr:r.vcr,appRef:this.appRef,tpl:e,context:r.context})}createView(e,r={}){if(Zk(e))return this.createTemplate(e,r);if(Kk(e))return this.createComponent(e,r);if(XU(e))return new eZ(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nZ=(()=>{class n{constructor(e,r,i){this.defaultTpl=e,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(e){e.view&&!e.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){var e,r;null===(e=this.viewRef)||void 0===e||e.destroy(),XU(this.view)?(this.viewRef=this.viewService.createComponent(J4,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:null!==(r=this.injector)&&void 0!==r?r:this.vcr.injector,context:this.context})}ngOnDestroy(){var e;null===(e=this.viewRef)||void 0===e||e.destroy()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(eG))},n.\u0275dir=s.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[s.TTD]}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class sZ{call(t,e){return e.subscribe(new oZ(t))}}class oZ extends bs{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const a=go(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(a),this.add(a)}this.observables=null}}notifyNext(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let i=0;i<this.subscriptions.length;i++)if(i!==r){let a=this.subscriptions[i];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)}}const aZ=["*"],lZ=function(n,t){return{"border-color":n,"border-right-color":t}};function cZ(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-error",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function uZ(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-checkmark",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function dZ(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-warning",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function hZ(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-info",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function fZ(n,t){if(1&n&&(s.TgZ(0,"div",4),s._uU(1,"\n    "),s.TgZ(2,"div",5),s._uU(3,"\n      "),s.YNc(4,cZ,4,1,"div",6),s._uU(5,"\n      "),s.YNc(6,uZ,4,1,"div",6),s._uU(7,"\n      "),s.YNc(8,dZ,4,1,"div",6),s._uU(9,"\n      "),s.YNc(10,hZ,4,1,"div",6),s._uU(11,"\n    "),s.qZA(),s._uU(12,"\n  "),s.qZA()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngSwitch",e.type),s.xp6(2),s.Q6J("ngSwitchCase","error"),s.xp6(2),s.Q6J("ngSwitchCase","success"),s.xp6(2),s.Q6J("ngSwitchCase","warning"),s.xp6(2),s.Q6J("ngSwitchCase","info")}}function pZ(n,t){if(1&n&&(s.TgZ(0,"div",1),s._uU(1,"\n  "),s._UZ(2,"hot-toast-loader",2),s._uU(3,"\n  "),s.YNc(4,fZ,13,5,"div",3),s._uU(5,"\n"),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("theme",e.theme),s.xp6(2),s.Q6J("ngIf","loading"!==e.type)}}const gZ=["hotToastBarBase"];function mZ(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n          "),s.TgZ(2,"hot-toast-animated-icon",10),s._uU(3),s.qZA(),s._uU(4,"\n        "),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("iconTheme",e.toast.iconTheme),s.xp6(1),s.Oqu(e.toast.icon)}}function _Z(n,t){if(1&n&&(s._uU(0,"\n          "),s.TgZ(1,"div"),s._uU(2,"\n            "),s.GkF(3,11),s._uU(4,"\n          "),s.qZA(),s._uU(5,"\n        ")),2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("dynamicView",e.toast.icon)}}function yZ(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n        "),s.YNc(2,mZ,5,2,"ng-container",4),s._uU(3,"\n        "),s.YNc(4,_Z,6,1,"ng-template",null,9,s.W1O),s._uU(6,"\n      "),s.BQk()),2&n){const e=s.MAs(5),r=s.oxw();s.xp6(2),s.Q6J("ngIf",r.isIconString)("ngIfElse",e)}}function vZ(n,t){if(1&n&&(s._uU(0,"\n        "),s._UZ(1,"hot-toast-indicator",12),s._uU(2,"\n      ")),2&n){const e=s.oxw();s.xp6(1),s.Q6J("theme",e.toast.iconTheme)("type",e.toast.type)}}function bZ(n,t){1&n&&s.GkF(0)}function wZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(){return s.CHM(e),s.oxw().close()}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngStyle",e.toast.closeStyle)}}function CZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"hot-toast",3),s.NdJ("height",function(i){const u=s.CHM(e).$implicit;return s.oxw().updateHeight(i,u)})("beforeClosed",function(){const a=s.CHM(e).$implicit;return s.oxw().beforeClosed(a)})("afterClosed",function(i){return s.CHM(e),s.oxw().afterClosed(i)}),s.qZA()}if(2&n){const e=t.$implicit,r=t.index,i=s.oxw();s.Q6J("toast",e)("offset",i.calculateOffset(e.id,e.position))("toastRef",i.toastRefs[r])}}const tG={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class rG{constructor(t){this.toast=t,this._onClosed=new at.xQ}set dispose(t){this._dispose=t}getToast(){return this.toast}appendTo(t){const{dispose:e,updateMessage:r,updateToast:i,afterClosed:a}=t.addToast(this);return this.dispose=e,this.updateMessage=r,this.updateToast=i,this.afterClosed=function iZ(...n){if(1===n.length){if(!(0,aa.k)(n[0]))return n[0];n=n[0]}return(0,fh.n)(n,void 0).lift(new sZ)}(this._onClosed.asObservable(),a),this}close(t={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:t.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let TZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:aZ,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s._uU(1,"\n  "),s.Hsn(2),s._uU(3,"\n"),s.qZA(),s._uU(4,"\n")),2&e&&s.Udp("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,r){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Q6J("ngStyle",s.WLB(1,lZ,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},directives:[so],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,r){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,r){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),MZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,r){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,r){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),kZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,r){1&e&&(s.YNc(0,pZ,6,2,"div",0),s._uU(1,"\n")),2&e&&s.Q6J("ngIf","blank"!==r.type)},directives:[AZ,SZ,IZ,MZ,RZ,kn,Br,_i],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),iG=(()=>{class n{constructor(e,r,i){this.injector=e,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new s.vpe,this.beforeClosed=new s.vpe,this.afterClosed=new s.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){Zk(this.toast.message)&&(this.context={$implicit:this.toastRef}),Kk(this.toast.message)&&(this.toastComponentInjector=s.zs3.create({providers:[{provide:rG,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const e=this.toast.position.includes("top"),r=e?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return Object.assign(Object.assign({transform:`translateY(${this.offset*(e?1:-1)}px)`},r),i)}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),r=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`,a=this.toast.autoClose?`${r}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r;return Object.assign(Object.assign({},this.toast.style),{animation:a})}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,t)=>{this.toastBarBase.nativeElement.style.animation=t})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[r,i]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s.Qsj),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(e,r){if(1&e&&s.Gf(gZ,5),2&e){let i;s.iGM(i=s.CRH())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,r){if(1&e&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.TgZ(2,"div",1,2),s._uU(4,"\n    "),s.TgZ(5,"div",3),s._uU(6,"\n      "),s.YNc(7,yZ,7,2,"ng-container",4),s._uU(8,"\n\n      "),s.YNc(9,vZ,3,2,"ng-template",null,5,s.W1O),s._uU(11,"\n    "),s.qZA(),s._uU(12,"\n\n    "),s.TgZ(13,"div",6),s._uU(14,"\n      "),s.TgZ(15,"div"),s._uU(16,"\n        "),s.YNc(17,bZ,1,0,"ng-container",7),s._uU(18,"\n      "),s.qZA(),s._uU(19,"\n    "),s.qZA(),s._uU(20,"\n\n    "),s.YNc(21,wZ,1,1,"button",8),s._uU(22,"\n  "),s.qZA(),s._uU(23,"\n"),s.qZA(),s._uU(24,"\n")),2&e){const i=s.MAs(10);s.Q6J("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),s.xp6(2),s.Udp("--hot-toast-animation-state",r.isManualClose?"running":"paused"),s.Q6J("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),s.uIk("aria-live",r.toast.ariaLive)("role",r.toast.role),s.xp6(5),s.Q6J("ngIf",void 0!==r.toast.icon)("ngIfElse",i),s.xp6(10),s.Q6J("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),s.xp6(4),s.Q6J("ngIf",r.toast.dismissible)}},directives:[TZ,kZ,so,mi,kn,nZ],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),OZ=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new at.xQ,this.onClosed$=this._onClosed.asObservable()}trackById(e,r){return r.id}calculateOffset(e,r){const i=this.toasts.filter(h=>h.visible&&h.position===r),a=i.findIndex(h=>h.id===e);return-1!==a?i.slice(...this.defaultConfig.reverseOrder?[a+1]:[0,a]).reduce((h,m)=>h+(m.height||0)+8,0):0}updateHeight(e,r){r.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const r=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(e){if(e){const r=this.hotToastComponentList.find(i=>i.toast.id===e);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(i=>i.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(i=>i.id!==e.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(r=>r.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe(vn(r=>r.id===e.id))}updateToasts(e,r){this.toasts=this.toasts.map(i=>Object.assign(Object.assign({},i),i.id===e.id&&Object.assign(Object.assign({},e),r)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,r){if(1&e&&s.Gf(iG,5),2&e){let i;s.iGM(i=s.CRH())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.TgZ(2,"div",1),s._uU(3,"\n    "),s.YNc(4,CZ,1,3,"hot-toast",2),s._uU(5,"\n  "),s.qZA(),s._uU(6,"\n"),s.qZA(),s._uU(7,"\n")),2&e&&(s.xp6(4),s.Q6J("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},directives:[iG,Jn],encapsulation:2,changeDetection:0}),n})();class Qk{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class PZ{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let sG=(()=>{class n{constructor(e,r,i){this._viewService=e,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new Qk,this._defaultPersistConfig=new PZ,i&&(this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),i))}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),e),this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,r){return this.createToast(e||this._defaultConfig.blank.content,"blank",Object.assign(Object.assign({},this._defaultConfig),r))}error(e,r){var i;return this.createToast(e||this._defaultConfig.error.content,"error",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.error),r))}success(e,r){var i;return this.createToast(e||this._defaultConfig.success.content,"success",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.success),r))}loading(e,r){var i;return this.createToast(e||this._defaultConfig.loading.content,"loading",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.loading),r))}warning(e,r){var i;return this.createToast(e||this._defaultConfig.warning.content,"warning",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.warning),r))}info(e,r){var i;return this.createToast(e||this._defaultConfig.warning.content,"info",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(i=this._defaultConfig)||void 0===i?void 0:i.warning),r))}observe(e){return r=>{var i,a,u,h,m,v;let x,A=0;const O=null!==(i=e.loading)&&void 0!==i?i:null===(a=this._defaultConfig.loading)||void 0===a?void 0:a.content,U=null!==(u=e.success)&&void 0!==u?u:null===(h=this._defaultConfig.success)||void 0===h?void 0:h.content,W=null!==(m=e.error)&&void 0!==m?m:null===(v=this._defaultConfig.error)||void 0===v?void 0:v.content;return _o(()=>(O&&(x=this.createLoadingToast(O),A=Date.now()),r.pipe((0,on.b)(Object.assign(Object.assign({},U&&{next:re=>{x=this.createOrUpdateToast(e,re,x,"success",0===A?A:Date.now()-A)}}),W&&{error:re=>{x=this.createOrUpdateToast(e,re,x,"error",0===A?A:Date.now()-A)}})))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){si(this.platformId)||(this._componentRef=this._viewService.createComponent(OZ).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,r,i,a,u){let h=null,m={};if(({content:h,options:m}=this.getContentAndOptions(a,e[a]||(this._defaultConfig[a]?this._defaultConfig[a].content:""))),h=((n,t)=>(n=>"function"==typeof n)(n)?n(t):n)(h,r),i){i.updateMessage(h);const v=Object.assign(Object.assign({type:a,duration:u+tG[a]},m),m.duration&&{duration:u+m.duration});i.updateToast(v)}else this.createToast(h,a,m);return i}createToast(e,r,i,a){var u,h,m,v,x,A;this._isInitialized||(this._isInitialized=!0,this.init());const O=Date.now(),U=null!==(u=null==i?void 0:i.id)&&void 0!==u?u:O.toString();if(!this.isDuplicate(U)&&(!(null===(h=i.persist)||void 0===h?void 0:h.enabled)||(null===(m=i.persist)||void 0===m?void 0:m.enabled)&&this.handleStorageValue(U,i))){const W=Object.assign({ariaLive:null!==(v=null==i?void 0:i.ariaLive)&&void 0!==v?v:"polite",createdAt:O,duration:null!==(x=null==i?void 0:i.duration)&&void 0!==x?x:tG[r],id:U,message:e,role:null!==(A=null==i?void 0:i.role)&&void 0!==A?A:"status",type:r,visible:!0,observableMessages:null!=a?a:void 0},i);return new rG(W).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,r){let i=1;const a=Object.assign(Object.assign({},this._defaultPersistConfig),r.persist),u="local"===a.storage?localStorage:sessionStorage,h=a.key.replace(/\${id}/g,e);let m=u.getItem(h);return m?(m=parseInt(m,10),i=m>0?m-1:m):i=a.count,u.setItem(h,i.toString()),i}getContentAndOptions(e,r){let i,a=Object.assign(Object.assign({},this._defaultConfig),this._defaultConfig[e]);if("string"==typeof r||Zk(r)||Kk(r))i=r;else{let u;({content:i}=r),u=(0,Q4._T)(r,["content"]),a=Object.assign(Object.assign({},a),u)}return{content:i,options:a}}createLoadingToast(e){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",e)),this.loading(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(eG),s.LFG(s.Lbi),s.LFG(Qk,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LZ=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Qk,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oo,rZ]]}),n})();const BZ=["underline"],VZ=["connectionContainer"],UZ=["inputContainer"],GZ=["label"];function HZ(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function jZ(n,t){1&n&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function $Z(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function zZ(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function qZ(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function WZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,$Z,4,1,"ng-container",12),s.YNc(3,zZ,1,0,"ng-content",12),s.YNc(4,qZ,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function YZ(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function ZZ(n,t){if(1&n&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function KZ(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function QZ(n,t){if(1&n&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function JZ(n,t){if(1&n&&(s.TgZ(0,"div",28),s.YNc(1,QZ,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const XZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let tK=0;const oG=new s.OlP("MatError");let aG=(()=>{class n{constructor(e,r){this.id="mat-error-"+tK++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("id",r.id)},inputs:{id:"id"},features:[s._Bn([{provide:oG,useExisting:n}])]}),n})();const nK={transitionMessages:yC("transitionMessages",[wd("enter",Po({opacity:1,transform:"translateY(0%)"})),Ca("void => enter",[Po({opacity:0,transform:"translateY(-5px)"}),ff("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const lG=new s.OlP("MatHint");let cG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),iK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const uG=new s.OlP("MatPrefix"),dG=new s.OlP("MatSuffix");let hG=0;const oK=Ff(class{constructor(n){this._elementRef=n}},"primary"),aK=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pG=new s.OlP("MatFormField");let gG=(()=>{class n extends oK{constructor(e,r,i,a,u,h,m,v){super(e),this._changeDetectorRef=r,this._dir=a,this._defaults=u,this._platform=h,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new at.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+hG++,this._labelId="mat-form-field-label-"+hG++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ft(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Zn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(tn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(tn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,va.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(tn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Kc(this._label.nativeElement,"transitionend").pipe(wi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const a=this._connectionContainerRef.nativeElement,u=a.querySelectorAll(".mat-form-field-outline-start"),h=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=a.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(m),x=e.children,A=this._getStartEnd(x[0].getBoundingClientRect());let O=0;for(let U=0;U<x.length;U++)O+=x[U].offsetWidth;r=Math.abs(A-v)-5,i=O>0?.75*O+10:0}for(let m=0;m<u.length;m++)u[m].style.width=`${r}px`;for(let m=0;m<h.length;m++)h[m].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(xi,8),s.Y36(aK,8),s.Y36(On),s.Y36(s.R0b),s.Y36(Qr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,Jk,5),s.Suo(i,Jk,7),s.Suo(i,cG,5),s.Suo(i,cG,7),s.Suo(i,iK,5),s.Suo(i,oG,5),s.Suo(i,lG,5),s.Suo(i,uG,5),s.Suo(i,dG,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._controlNonStatic=a.first),s.iGM(a=s.CRH())&&(r._controlStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(r._placeholderChild=a.first),s.iGM(a=s.CRH())&&(r._errorChildren=a),s.iGM(a=s.CRH())&&(r._hintChildren=a),s.iGM(a=s.CRH())&&(r._prefixChildren=a),s.iGM(a=s.CRH())&&(r._suffixChildren=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(BZ,5),s.Gf(VZ,7),s.Gf(UZ,5),s.Gf(GZ,5)),2&e){let i;s.iGM(i=s.CRH())&&(r.underlineRef=i.first),s.iGM(i=s.CRH())&&(r._connectionContainerRef=i.first),s.iGM(i=s.CRH())&&(r._inputContainerRef=i.first),s.iGM(i=s.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:pG,useExisting:n}]),s.qOj],ngContentSelectors:eK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(s.F$t(XZ),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),s.YNc(3,HZ,9,0,"ng-container",3),s.YNc(4,jZ,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,WZ,5,16,"label",8),s.qZA()(),s.YNc(10,YZ,2,0,"div",9),s.qZA(),s.YNc(11,ZZ,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,KZ,2,1,"div",12),s.YNc(14,JZ,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==r.appearance),s.xp6(1),s.Q6J("ngIf",r._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",r._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",r._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=r.appearance),s.xp6(1),s.Q6J("ngSwitch",r._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[kn,Br,Q_,_i],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[nK.transitionMessages]},changeDetection:0}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oo,jn,J_],jn]}),n})();const mG=fd({passive:!0});let _G=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return li.E;const r=wa(e),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new at.xQ,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,mG),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",h,mG)}}),a}stopMonitoring(e){const r=wa(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(On),s.LFG(s.R0b))},token:n,providedIn:"root"}),n})(),yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Bc]]}),n})();const cK=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),uK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let dK=0;const hK=MS(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let vG=(()=>{class n extends hK{constructor(e,r,i,a,u,h,m,v,x,A){super(h,a,u,i),this._elementRef=e,this._platform=r,this._autofillMonitor=v,this._formField=A,this._uid="mat-input-"+dK++,this.focused=!1,this.stateChanges=new at.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(W=>Y_().has(W));const O=this._elementRef.nativeElement,U=O.nodeName.toLowerCase();this._inputValueAccessor=m||O,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",W=>{const re=W.target;!re.value&&0===re.selectionStart&&0===re.selectionEnd&&(re.setSelectionRange(1,1),re.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ft(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Ft(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Y_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ft(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const i=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){uK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(On),s.Y36(Qc,10),s.Y36(Y0,8),s.Y36(tm,8),s.Y36($y),s.Y36(cK,10),s.Y36(_G),s.Y36(s.R0b),s.Y36(pG,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(s.Ikx("disabled",r.disabled)("required",r.required),s.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),s.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[s._Bn([{provide:Jk,useExisting:n}]),s.qOj,s.TTD]}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$y],imports:[[yG,Xk,jn],yG,Xk]}),n})();function pK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Email is required "),s.qZA())}function gK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Please enter a correct email format "),s.qZA())}function mK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Password is required "),s.qZA())}let _K=(()=>{class n{constructor(e,r,i){this.authService=e,this.router=r,this.toast=i,this.loginForm=new mv({email:new Ld("",[Pd.required,Pd.email]),password:new Ld("",[Pd.required])})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(!this.loginForm.valid)return;const{email:e,password:r}=this.loginForm.value;this.authService.login(e,r).pipe(this.toast.observe({success:"Logged in succesfully",loading:"Logging in...",error:"There was an error"})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fl),s.Y36(rr),s.Y36(sG))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:4,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email addres","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],["routerLink","/signup"],[1,"signup"],[1,"kozepre"]],template:function(e,r){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div",0)(2,"h1"),s._uU(3,"Login"),s.qZA(),s.TgZ(4,"form",1),s.NdJ("ngSubmit",function(){return r.submit()}),s.TgZ(5,"mat-form-field"),s._UZ(6,"input",2),s.YNc(7,pK,2,0,"mat-error",3),s.YNc(8,gK,2,0,"mat-error",3),s.qZA(),s.TgZ(9,"mat-form-field"),s._UZ(10,"input",4),s.YNc(11,mK,2,0,"mat-error",3),s.qZA(),s.TgZ(12,"div",5)(13,"button",6),s._uU(14," Login "),s.qZA()(),s.TgZ(15,"span",5),s._uU(16,"New to our platform?"),s.TgZ(17,"a",7)(18,"h3",8),s._uU(19," Sign up!"),s.qZA()()()()(),s.TgZ(20,"div")(21,"h1",9),s._uU(22," https://github.com/Fehervandor/Webshop_kotprog "),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("formGroup",r.loginForm),s.xp6(3),s.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),s.xp6(1),s.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),s.xp6(3),s.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required))},directives:[yv,DI,hI,tm,gG,vG,hv,dI,Z0,kn,aG,R0,Il],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:300px;margin:auto;background:#eceff1;padding:40px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.signup[_ngcontent-%COMP%]{text-decoration:none;padding-left:5px}.form-container[_ngcontent-%COMP%]{margin-top:120px}.kozepre[_ngcontent-%COMP%]{text-align:center;padding-top:20px}"]}),n})(),bG=(()=>{class n{constructor(){this.title="webshop"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&s._UZ(0,"router-outlet")},directives:[Wm],styles:[""]}),n})(),yK=(()=>{class n{constructor(e){this.afs=e,this.usersCollection=this.afs.collection("Users")}addItem(e){var r;null===(r=this.usersCollection)||void 0===r||r.add(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rk))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Name is required "),s.qZA())}function bK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Email is required "),s.qZA())}function wK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Please enter a correct email format "),s.qZA())}function CK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Password is required "),s.qZA())}function EK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Confirm Password is required "),s.qZA())}function DK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Password should match "),s.qZA())}const TK=[{path:"cart",component:TY},{path:"home",component:K4},{path:"login",component:_K},{path:"aboutus",component:t$},{path:"signup",component:(()=>{class n{constructor(e,r,i,a,u){this.authService=e,this.toast=r,this.router=i,this.auth=a,this.userService=u,this.user={name:"",email:"",id:""},this.signUpForm=new mv({name:new Ld("",Pd.required),email:new Ld("",[Pd.email,Pd.required]),password:new Ld("",Pd.required),confirmPassword:new Ld("",Pd.required)},{validators:n=>{var t,e;const r=null===(t=n.get("password"))||void 0===t?void 0:t.value,i=null===(e=n.get("confirmPassword"))||void 0===e?void 0:e.value;return r&&i&&r!==i?{passwordsDontMatch:!0}:null}})}ngOnInit(){var e;console.log(null===(e=this.user)||void 0===e?void 0:e.name)}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){if(!this.signUpForm.valid)return;this.userService.addItem(this.user);const{name:e,email:r,password:i}=this.signUpForm.value;this.authService.signUp(e,r,i).pipe(this.toast.observe({success:"Congrats! You are all signep up",loading:"Signing in",error:({message:a})=>`${a}`})).subscribe(()=>{this.auth.signOut(),this.router.navigate(["/login"])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fl),s.Y36(sG),s.Y36(rr),s.Y36(od),s.Y36(yK))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signup"]],decls:22,vars:9,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","Email addres","formControlName","email",3,"ngModel","ngModelChange"],["matInput","","placeholder","Password","formControlName","password","type","password"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,r){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div",0)(2,"h1"),s._uU(3,"Sign Up a New User!"),s.qZA(),s.TgZ(4,"form",1),s.NdJ("ngSubmit",function(){return r.submit()}),s.TgZ(5,"mat-form-field")(6,"input",2),s.NdJ("ngModelChange",function(a){return r.user.name=a}),s.qZA(),s.YNc(7,vK,2,0,"mat-error",3),s.qZA(),s.TgZ(8,"mat-form-field")(9,"input",4),s.NdJ("ngModelChange",function(a){return r.user.email=a}),s.qZA(),s.YNc(10,bK,2,0,"mat-error",3),s.YNc(11,wK,2,0,"mat-error",3),s.qZA(),s.TgZ(12,"mat-form-field"),s._UZ(13,"input",5),s.YNc(14,CK,2,0,"mat-error",3),s.qZA(),s.TgZ(15,"mat-form-field"),s._UZ(16,"input",6),s.YNc(17,EK,2,0,"mat-error",3),s.qZA(),s.YNc(18,DK,2,0,"mat-error",3),s.TgZ(19,"div",7)(20,"button",8),s._uU(21," Sign Up! "),s.qZA()()()()),2&e&&(s.xp6(4),s.Q6J("formGroup",r.signUpForm),s.xp6(2),s.Q6J("ngModel",r.user.name),s.xp6(1),s.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),s.xp6(2),s.Q6J("ngModel",r.user.email),s.xp6(1),s.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),s.xp6(1),s.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),s.xp6(3),s.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),s.xp6(3),s.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),s.xp6(1),s.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},directives:[yv,DI,hI,tm,gG,vG,hv,dI,Z0,kn,aG,R0],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:300px;margin:auto;background:#eceff1;padding:40px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{margin-top:120px}"]}),n})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:bG}];let AK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Xb.forRoot(TK)],Xb]}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[$k]]}),n})(),FG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[$k]]}),n})(),hQ=(()=>{class n{constructor(e,r){si(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:ol,useValue:Object.assign(Object.assign({},zk),e)},{provide:qk,useValue:r,multi:!0},{provide:Ep,useValue:!0}]:[{provide:ol,useValue:Object.assign(Object.assign({},zk),e)},{provide:qk,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ep),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[JU,TG,FG],JU,TG,FG]}),n})();const tO_firebase={projectId:"webfejl-c4889",appId:"1:699975308753:web:047709f6b5098d93077cf0",storageBucket:"webfejl-c4889.appspot.com",apiKey:"AIzaSyDp9J1B_32ScPJ_PNQoTJDg0cVLjneHYwc",authDomain:"webfejl-c4889.firebaseapp.com",messagingSenderId:"699975308753",measurementId:"G-GDJCSH3J12"};class nO{constructor(t){return t}}const NG="firestore",rO=new s.OlP("angularfire2.firestore-instances");function gQ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new nO(r)}}const mQ={provide:class fQ{constructor(){return(0,Yt.vb)(NG)}},deps:[[new s.FiY,rO]]},_Q={provide:nO,useFactory:function pQ(n,t){const e=(0,Yt.JM)(NG,n,t);return e&&new nO(e)},deps:[[new s.FiY,rO],Rc]};let yQ=(()=>{class n{constructor(){(0,ma.KN)("angularfire",Yt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_Q,mQ]}),n})();function vQ(n,...t){return{ngModule:yQ,providers:[{provide:rO,useFactory:gQ(n),multi:!0,deps:[s.R0b,s.zs3,Yt.HU,eg,[new s.FiY,pg],[new s.FiY,Rl],...t]}]}}const bQ=(0,Yt.u3)(mW,!0);class iO{constructor(t){return t}}const PG="storage",sO=new s.OlP("angularfire2.storage-instances");function EQ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new iO(r)}}const DQ={provide:class wQ{constructor(){return(0,Yt.vb)(PG)}},deps:[[new s.FiY,sO]]},xQ={provide:iO,useFactory:function CQ(n,t){const e=(0,Yt.JM)(PG,n,t);return e&&new iO(e)},deps:[[new s.FiY,sO],Rc]};let TQ=(()=>{class n{constructor(){(0,ma.KN)("angularfire",Yt.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xQ,DQ]}),n})();function AQ(n,...t){return{ngModule:TQ,providers:[{provide:sO,useFactory:EQ(n),multi:!0,deps:[s.R0b,s.zs3,Yt.HU,eg,[new s.FiY,pg],[new s.FiY,Rl],...t]}]}}const SQ=(0,Yt.u3)(e5,!0);let kQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),d9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oo,jn,kQ,Rd,J_,xA],jn]}),n})(),x9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[gj]]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[x9,jn],jn]}),n})(),$9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[bG]}),n.\u0275inj=s.cJS({providers:[],imports:[[zs,AK,f0,S0,GH,X3,hQ,Sj,G3,dv,Xk,d9,x3,fK,H9,S,Hr.hO.initializeApp(tO_firebase),iw(()=>Ro(tO_firebase)),F_(()=>id()),vQ(()=>bQ()),AQ(()=>SQ()),LZ.forRoot()]]}),n})();(0,s.G48)(),Fa().bootstrapModule($9).catch(n=>console.error(n))},5867:(ot,Ae,N)=>{N.d(Ae,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=N(9681);(0,s.registerVersion)("firebase","9.7.0","app")},127:(ot,Ae,N)=>{N.d(Ae,{Z:()=>s.Z});var s=N(3942);s.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(ot,Ae,N)=>{N.r(Ae);var s=N(5861),H=N(3942),k=N(573),se=N(2090),ae=(N(9681),N(1877),N(4859));function X(){return window}function q(){return(q=(0,s.Z)(function*(F,V,z){var de;const{BuildInfo:Le}=X();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const $e=yield xe(V.sessionId),bt={};return(0,k.aq)()?bt.ibi=Le.packageName:(0,k.ar)()?bt.apn=Le.packageName:(0,k.as)(F,"operation-not-supported-in-this-environment"),Le.displayName&&(bt.appDisplayName=Le.displayName),bt.sessionId=$e,(0,k.at)(F,z,V.type,void 0,null!==(de=V.eventId)&&void 0!==de?de:void 0,bt)})).apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(F){const{BuildInfo:V}=X(),z={};(0,k.aq)()?z.iosBundleId=V.packageName:(0,k.ar)()?z.androidPackageName=V.packageName:(0,k.as)(F,"operation-not-supported-in-this-environment"),yield(0,k.au)(F,z)})).apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(F,V,z){const{cordova:de}=X();let Le=()=>{};try{yield new Promise(($e,bt)=>{let tt=null;function xt(){var Xt;$e();const Nr=null===(Xt=de.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof Nr&&Nr(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Fn(){tt||(tt=window.setTimeout(()=>{bt((0,k.av)(F,"redirect-cancelled-by-user"))},2e3))}function cr(){"visible"===(null==document?void 0:document.visibilityState)&&Fn()}V.addPassiveListener(xt),document.addEventListener("resume",Fn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",cr,!1),Le=()=>{V.removePassiveListener(xt),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",cr,!1),tt&&window.clearTimeout(tt)}})}finally{Le()}})).apply(this,arguments)}function xe(F){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,s.Z)(function*(F){const V=Ke(F),z=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(z)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(F){if((0,k.ap)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(F);const V=new ArrayBuffer(F.length),z=new Uint8Array(V);for(let de=0;de<F.length;de++)z[de]=F.charCodeAt(de);return z}class un extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function Ce(F){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(F){const V=yield ce()._get(he(F));return V&&(yield ce()._remove(he(F))),V})).apply(this,arguments)}function le(){const F=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const de=Math.floor(Math.random()*V.length);F.push(V.charAt(de))}return F.join("")}function ce(){return(0,k.ax)(k.b)}function he(F){return(0,k.ay)("authEvent",F.config.apiKey,F.name)}function Ne(F){if(!(null==F?void 0:F.includes("?")))return{};const[V,...z]=F.split("?");return(0,se.zd)(z.join("?"))}function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function sn(){var F;return(null===(F=null==self?void 0:self.location)||void 0===F?void 0:F.protocol)||null}function Un(F=(0,se.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){try{const F=self.localStorage,V=k.aG();if(F)return F.setItem(V,"1"),F.removeItem(V),!function Wi(F=(0,se.z$)()){return function Or(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ar(F=(0,se.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,se.hl)()}catch(F){return _r()&&(0,se.hl)()}return!1}function _r(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sr(){return(function ln(){return"http:"===sn()||"https:"===sn()}()||(0,se.ru)()||Un())&&!function mr(){return(0,se.b$)()||(0,se.UG)()}()&&pi()&&!_r()}function hs(){return Un()&&"undefined"!=typeof document}function Fr(){return(Fr=(0,s.Z)(function*(){return!!hs()&&new Promise(F=>{const V=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),F(!0)})})})).apply(this,arguments)}const pn={LOCAL:"local",NONE:"none",SESSION:"session"},Qn=k.aw,gi="persistence";function Gn(F){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(F){yield F._initializationPromise;const V=$t(),z=k.ay(gi,F.config.apiKey,F.name);V&&V.setItem(z,F._getPersistence())})).apply(this,arguments)}function $t(){var F;try{return(null===(F=function $n(){return"undefined"!=typeof window?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch(V){return null}}const ut=k.aw;class nt{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class nn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var z=this;return(0,s.Z)(function*(){const de=V._key();let Le=z.eventManagers.get(de);return Le||(Le=new un(V),z.eventManagers.set(de,Le),z.attachCallbackListeners(V,Le)),Le})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,z,de,Le){var $e=this;return(0,s.Z)(function*(){!function we(F){var V,z,de,Le,$e,bt,tt,xt,Fn,cr;const Xt=X();(0,k.aw)("function"==typeof(null===(V=null==Xt?void 0:Xt.universalLinks)||void 0===V?void 0:V.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(z=null==Xt?void 0:Xt.BuildInfo)||void 0===z?void 0:z.packageName),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===($e=null===(Le=null===(de=null==Xt?void 0:Xt.cordova)||void 0===de?void 0:de.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===$e?void 0:$e.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(xt=null===(tt=null===(bt=null==Xt?void 0:Xt.cordova)||void 0===bt?void 0:bt.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===xt?void 0:xt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(cr=null===(Fn=null==Xt?void 0:Xt.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===cr?void 0:cr.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const bt=yield $e._initialize(V);yield bt.initialized(),bt.resetRedirect(),(0,k.aB)(),yield $e._originValidation(V);const tt=function Dt(F,V,z=null){return{type:V,eventId:z,urlResponse:null,sessionId:le(),postBody:null,tenantId:F.tenantId,error:(0,k.av)(F,"no-auth-event")}}(V,de,Le);yield function Ln(F,V){return ce()._set(he(F),V)}(V,tt);const xt=yield function P(F,V,z){return q.apply(this,arguments)}(V,tt,z),Fn=yield function be(F){const{cordova:V}=X();return new Promise(z=>{V.plugins.browsertab.isAvailable(de=>{let Le=null;de?V.plugins.browsertab.openUrl(F):Le=V.InAppBrowser.open(F,(0,k.ao)()?"_blank":"_system","location=yes"),z(Le)})})}(xt);return function Ee(F,V,z){return _e.apply(this,arguments)}(V,bt,Fn)})()}_isIframeWebStorageSupported(V,z){throw new Error("Method not implemented.")}_originValidation(V){const z=V._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function G(F){return ie.apply(this,arguments)}(V)),this.originValidationPromises[z]}attachCallbackListeners(V,z){const{universalLinks:de,handleOpenURL:Le,BuildInfo:$e}=X(),bt=setTimeout((0,s.Z)(function*(){yield Ce(V),z.onEvent(Ue())}),500),tt=function(){var cr=(0,s.Z)(function*(Xt){clearTimeout(bt);const Nr=yield Ce(V);let Oi=null;Nr&&(null==Xt?void 0:Xt.url)&&(Oi=function rt(F,V){var z,de;const Le=function pe(F){const V=Ne(F),z=V.link?decodeURIComponent(V.link):void 0,de=Ne(z).link,Le=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Ne(Le).link||Le||de||z||F}(V);if(Le.includes("/__/auth/callback")){const $e=Ne(Le),bt=$e.firebaseError?function Te(F){try{return JSON.parse(F)}catch(V){return null}}(decodeURIComponent($e.firebaseError)):null,tt=null===(de=null===(z=null==bt?void 0:bt.code)||void 0===z?void 0:z.split("auth/"))||void 0===de?void 0:de[1],xt=tt?(0,k.av)(tt):null;return xt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Le,postBody:null}}return null}(Nr,Xt.url)),z.onEvent(Oi||Ue())});return function(Nr){return cr.apply(this,arguments)}}();void 0!==de&&"function"==typeof de.subscribe&&de.subscribe(null,tt);const xt=Le,Fn=`${$e.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var cr=(0,s.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(Fn)&&tt({url:Xt}),"function"==typeof xt)try{xt(Xt)}catch(Nr){console.error(Nr)}});return function(Xt){return cr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,z,de,Le){var $e=this;return(0,s.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(V,z,de,Le)})()}_openRedirect(V,z,de,Le){var $e=this;return(0,s.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(V,z,de,Le)})()}_isIframeWebStorageSupported(V,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,z)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return hs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const z=yield function ct(){return Fr.apply(this,arguments)}();V.underlyingResolver=z?V.cordovaResolver:V.browserResolver})()}}function ri(F){return F.unwrap()}function qt(F){return qn(F)}function qn(F){const{_tokenResponse:V}=F instanceof se.ZR?F.customData:F;if(!V)return null;if(!(F instanceof se.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(F);const z=V.providerId;if(!z||z===k.o.PASSWORD)return null;let de;switch(z){case k.o.GOOGLE:de=k.N;break;case k.o.FACEBOOK:de=k.M;break;case k.o.GITHUB:de=k.Q;break;case k.o.TWITTER:de=k.V;break;default:const{oauthIdToken:Le,oauthAccessToken:$e,oauthTokenSecret:bt,pendingToken:tt,nonce:xt}=V;return $e||bt||Le||tt?tt?z.startsWith("saml.")?k.aJ._create(z,tt):k.I._fromParams({providerId:z,signInMethod:z,pendingToken:tt,idToken:Le,accessToken:$e}):new k.T(z).credential({idToken:Le,accessToken:$e,rawNonce:xt}):null}return F instanceof se.ZR?de.credentialFromError(F):de.credentialFromResult(F)}function mn(F,V){return V.catch(z=>{throw z instanceof se.ZR&&function Zi(F,V){var z;const de=null===(z=V.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Wt(F,k.am(F,V));else if(de){const Le=qn(V),$e=V;Le&&($e.credential=Le,$e.tenantId=de.tenantId||void 0,$e.email=de.email||void 0,$e.phoneNumber=de.phoneNumber||void 0)}}(F,z),z}).then(z=>{const Le=z.user;return{operationType:z.operationType,credential:qt(z),additionalUserInfo:k.ak(z),user:Ge.getOrCreate(Le)}})}function pt(F,V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(F,V){const z=yield V;return{verificationId:z.verificationId,confirm:de=>mn(F,z.confirm(de))}})).apply(this,arguments)}class Wt{constructor(V,z){this.resolver=z,this.auth=function Yi(F){return F.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return mn(ri(this.auth),this.resolver.resolveSignIn(V))}}class Ge{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return Ge.USER_MAP.has(V)||Ge.USER_MAP.set(V,new Ge(V)),Ge.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var z=this;return(0,s.Z)(function*(){return mn(z.auth,k.Y(z._delegate,V))})()}linkWithPhoneNumber(V,z){var de=this;return(0,s.Z)(function*(){return pt(de.auth,k.l(de._delegate,V,z))})()}linkWithPopup(V){var z=this;return(0,s.Z)(function*(){return mn(z.auth,k.d(z._delegate,V,nt))})()}linkWithRedirect(V){var z=this;return(0,s.Z)(function*(){return yield Gn(k.aC(z.auth)),k.g(z._delegate,V,nt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var z=this;return(0,s.Z)(function*(){return mn(z.auth,k.Z(z._delegate,V))})()}reauthenticateWithPhoneNumber(V,z){return pt(this.auth,k.r(this._delegate,V,z))}reauthenticateWithPopup(V){return mn(this.auth,k.e(this._delegate,V,nt))}reauthenticateWithRedirect(V){var z=this;return(0,s.Z)(function*(){return yield Gn(k.aC(z.auth)),k.h(z._delegate,V,nt)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var z=this;return(0,s.Z)(function*(){return yield k.aj(z._delegate,V),z})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,z){return k.ab(this._delegate,V,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ge.USER_MAP=new WeakMap;const Se=k.aw;let Qe=(()=>{class F{constructor(z,de){if(this.app=z,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=z.options;Se(Le,"invalid-api-key",{appName:z.name}),Se(Le,"invalid-api-key",{appName:z.name});const $e="undefined"!=typeof window?nt:void 0;this._delegate=de.initialize({options:{persistence:Pt(Le,z.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ge.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,de){k.E(this._delegate,z,de)}applyActionCode(z){return k.a1(this._delegate,z)}checkActionCode(z){return k.a2(this._delegate,z)}confirmPasswordReset(z,de){return k.a0(this._delegate,z,de)}createUserWithEmailAndPassword(z,de){var Le=this;return(0,s.Z)(function*(){return mn(Le._delegate,k.a4(Le._delegate,z,de))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return k.a9(this._delegate,z)}isSignInWithEmailLink(z){return k.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,s.Z)(function*(){Se(Sr(),z._delegate,"operation-not-supported-in-this-environment");const de=yield k.j(z._delegate,nt);return de?mn(z._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function rn(F,V){(0,k.aC)(F)._logFramework(V)}(this._delegate,z)}onAuthStateChanged(z,de,Le){const{next:$e,error:bt,complete:tt}=dt(z,de,Le);return this._delegate.onAuthStateChanged($e,bt,tt)}onIdTokenChanged(z,de,Le){const{next:$e,error:bt,complete:tt}=dt(z,de,Le);return this._delegate.onIdTokenChanged($e,bt,tt)}sendSignInLinkToEmail(z,de){return k.a6(this._delegate,z,de)}sendPasswordResetEmail(z,de){return k.$(this._delegate,z,de||void 0)}setPersistence(z){var de=this;return(0,s.Z)(function*(){let Le;switch(function zn(F,V){Qn(Object.values(pn).includes(V),F,"invalid-persistence-type"),(0,se.b$)()?Qn(V!==pn.SESSION,F,"unsupported-persistence-type"):(0,se.UG)()?Qn(V===pn.NONE,F,"unsupported-persistence-type"):_r()?Qn(V===pn.NONE||V===pn.LOCAL&&(0,se.hl)(),F,"unsupported-persistence-type"):Qn(V===pn.NONE||pi(),F,"unsupported-persistence-type")}(de._delegate,z),z){case pn.SESSION:Le=k.a;break;case pn.LOCAL:Le=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case pn.NONE:Le=k.K;break;default:return k.as("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return mn(this._delegate,k.W(this._delegate))}signInWithCredential(z){return mn(this._delegate,k.X(this._delegate,z))}signInWithCustomToken(z){return mn(this._delegate,k._(this._delegate,z))}signInWithEmailAndPassword(z,de){return mn(this._delegate,k.a5(this._delegate,z,de))}signInWithEmailLink(z,de){return mn(this._delegate,k.a8(this._delegate,z,de))}signInWithPhoneNumber(z,de){return pt(this._delegate,k.s(this._delegate,z,de))}signInWithPopup(z){var de=this;return(0,s.Z)(function*(){return Se(Sr(),de._delegate,"operation-not-supported-in-this-environment"),mn(de._delegate,k.c(de._delegate,z,nt))})()}signInWithRedirect(z){var de=this;return(0,s.Z)(function*(){return Se(Sr(),de._delegate,"operation-not-supported-in-this-environment"),yield Gn(de._delegate),k.f(de._delegate,z,nt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return k.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=pn,F})();function dt(F,V,z){let de=F;"function"!=typeof F&&({next:de,error:V,complete:z}=F);const Le=de;return{next:bt=>Le(bt&&Ge.getOrCreate(bt)),error:V,complete:z}}function Pt(F,V){const z=function no(F,V){const z=$t();if(!z)return[];const de=k.ay(gi,F,V);switch(z.getItem(de)){case pn.NONE:return[k.K];case pn.LOCAL:return[k.i,k.a];case pn.SESSION:return[k.a];default:return[]}}(F,V);if("undefined"!=typeof self&&!z.includes(k.i)&&z.push(k.i),"undefined"!=typeof window)for(const de of[k.b,k.a])z.includes(de)||z.push(de);return z.includes(k.K)||z.push(k.K),z}class Lt{constructor(){this.providerId="phone",this._delegate=new k.P(ri(H.Z.auth()))}static credential(V,z){return k.P.credential(V,z)}verifyPhoneNumber(V,z){return this._delegate.verifyPhoneNumber(V,z)}unwrap(){return this._delegate}}Lt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Lt.PROVIDER_ID=k.P.PROVIDER_ID;const Z=k.aw;class ${constructor(V,z,de=H.Z.app()){var Le;Z(null===(Le=de.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new k.R(V,z,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(F){F.INTERNAL.registerComponent(new ae.wA("auth-compat",V=>{const z=V.getProvider("app-compat").getImmediate(),de=V.getProvider("auth");return new Qe(z,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Lt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:$,TwitterAuthProvider:k.V,Auth:Qe,AuthCredential:k.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.2.12")}(H.Z)},2916:(ot,Ae,N)=>{N.d(Ae,{y:()=>q});var s=N(3489),k=N(7668),se=N(3292),Q=N(3821),ae=N(5379);var P=N(2830);let q=(()=>{class ie{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const _e=new ie;return _e.source=this,_e.operator=Ee,_e}subscribe(Ee,_e,we){const{operator:xe}=this,Ve=function oe(ie,be,Ee){if(ie){if(ie instanceof s.L)return ie;if(ie[k.b])return ie[k.b]()}return ie||be||Ee?new s.L(ie,be,Ee):new s.L(se.c)}(Ee,_e,we);if(Ve.add(xe?xe.call(Ve,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!Ve.syncErrorThrowable?this._subscribe(Ve):this._trySubscribe(Ve)),P.v.useDeprecatedSynchronousErrorHandling&&Ve.syncErrorThrowable&&(Ve.syncErrorThrowable=!1,Ve.syncErrorThrown))throw Ve.syncErrorValue;return Ve}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(_e){P.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=_e),function H(ie){for(;ie;){const{closed:be,destination:Ee,isStopped:_e}=ie;if(be||_e)return!1;ie=Ee&&Ee instanceof s.L?Ee:null}return!0}(Ee)?Ee.error(_e):console.warn(_e)}}forEach(Ee,_e){return new(_e=G(_e))((we,xe)=>{let Ve;Ve=this.subscribe(Ke=>{try{Ee(Ke)}catch(_t){xe(_t),Ve&&Ve.unsubscribe()}},xe,we)})}_subscribe(Ee){const{source:_e}=this;return _e&&_e.subscribe(Ee)}[Q.L](){return this}pipe(...Ee){return 0===Ee.length?this:function J(ie){return 0===ie.length?ae.y:1===ie.length?ie[0]:function(Ee){return ie.reduce((_e,we)=>we(_e),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=G(Ee))((_e,we)=>{let xe;this.subscribe(Ve=>xe=Ve,Ve=>we(Ve),()=>_e(xe))})}}return ie.create=be=>new ie(be),ie})();function G(ie){if(ie||(ie=P.v.Promise||Promise),!ie)throw new Error("no Promise impl found");return ie}},3292:(ot,Ae,N)=>{N.d(Ae,{c:()=>k});var s=N(2830),H=N(2782);const k={closed:!0,next(se){},error(se){if(s.v.useDeprecatedSynchronousErrorHandling)throw se;(0,H.z)(se)},complete(){}}},8929:(ot,Ae,N)=>{N.d(Ae,{Yc:()=>ae,xQ:()=>X});var s=N(2916),H=N(3489),k=N(2654),se=N(5279),oe=N(5283),Q=N(7668);class ae extends H.L{constructor(q){super(q),this.destination=q}}let X=(()=>{class P extends s.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new ae(this)}lift(G){const ie=new J(this,this);return ie.operator=G,ie}next(G){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:ie}=this,be=ie.length,Ee=ie.slice();for(let _e=0;_e<be;_e++)Ee[_e].next(G)}}error(G){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:ie}=this,be=ie.length,Ee=ie.slice();for(let _e=0;_e<be;_e++)Ee[_e].error(G);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:G}=this,ie=G.length,be=G.slice();for(let Ee=0;Ee<ie;Ee++)be[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new se.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new se.N;return this.hasError?(G.error(this.thrownError),k.w.EMPTY):this.isStopped?(G.complete(),k.w.EMPTY):(this.observers.push(G),new oe.W(this,G))}asObservable(){const G=new s.y;return G.source=this,G}}return P.create=(q,G)=>new J(q,G),P})();class J extends X{constructor(q,G){super(),this.destination=q,this.source=G}next(q){const{destination:G}=this;G&&G.next&&G.next(q)}error(q){const{destination:G}=this;G&&G.error&&this.destination.error(q)}complete(){const{destination:q}=this;q&&q.complete&&this.destination.complete()}_subscribe(q){const{source:G}=this;return G?this.source.subscribe(q):k.w.EMPTY}}},5283:(ot,Ae,N)=>{N.d(Ae,{W:()=>H});var s=N(2654);class H extends s.w{constructor(se,oe){super(),this.subject=se,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,oe=se.observers;if(this.subject=null,!oe||0===oe.length||se.isStopped||se.closed)return;const Q=oe.indexOf(this.subscriber);-1!==Q&&oe.splice(Q,1)}}},3489:(ot,Ae,N)=>{N.d(Ae,{L:()=>ae});var s=N(7043),H=N(3292),k=N(2654),se=N(7668),oe=N(2830),Q=N(2782);class ae extends k.w{constructor(P,q,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!P){this.destination=H.c;break}if("object"==typeof P){P instanceof ae?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,P,q,G)}}[se.b](){return this}static create(P,q,G){const ie=new ae(P,q,G);return ie.syncErrorThrowable=!1,ie}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class X extends ae{constructor(P,q,G,ie){super(),this._parentSubscriber=P;let be,Ee=this;(0,s.m)(q)?be=q:q&&(be=q.next,G=q.error,ie=q.complete,q!==H.c&&(Ee=Object.create(q),(0,s.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=be,this._error=G,this._complete=ie}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:q}=this;oe.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?this.__tryOrSetError(q,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:q}=this,{useDeprecatedSynchronousErrorHandling:G}=oe.v;if(this._error)G&&q.syncErrorThrowable?(this.__tryOrSetError(q,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(q.syncErrorThrowable)G?(q.syncErrorValue=P,q.syncErrorThrown=!0):(0,Q.z)(P),this.unsubscribe();else{if(this.unsubscribe(),G)throw P;(0,Q.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const q=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,q){try{P.call(this._context,q)}catch(G){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw G;(0,Q.z)(G)}}__tryOrSetError(P,q,G){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{q.call(this._context,G)}catch(ie){return oe.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=ie,P.syncErrorThrown=!0,!0):((0,Q.z)(ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},2654:(ot,Ae,N)=>{N.d(Ae,{w:()=>Q});var s=N(6688),H=N(7830),k=N(7043);const oe=(()=>{function X(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((P,q)=>`${q+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return X.prototype=Object.create(Error.prototype),X})();class Q{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:q,_unsubscribe:G,_subscriptions:ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof Q)P.remove(this);else if(null!==P)for(let be=0;be<P.length;++be)P[be].remove(this);if((0,k.m)(G)){q&&(this._unsubscribe=void 0);try{G.call(this)}catch(be){J=be instanceof oe?ae(be.errors):[be]}}if((0,s.k)(ie)){let be=-1,Ee=ie.length;for(;++be<Ee;){const _e=ie[be];if((0,H.K)(_e))try{_e.unsubscribe()}catch(we){J=J||[],we instanceof oe?J=J.concat(ae(we.errors)):J.push(we)}}}if(J)throw new oe(J)}add(J){let P=J;if(!J)return Q.EMPTY;switch(typeof J){case"function":P=new Q(J);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof Q)){const ie=P;P=new Q,P._subscriptions=[ie]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:q}=P;if(null===q)P._parentOrParents=this;else if(q instanceof Q){if(q===this)return P;P._parentOrParents=[q,this]}else{if(-1!==q.indexOf(this))return P;q.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[P]:G.push(P),P}remove(J){const P=this._subscriptions;if(P){const q=P.indexOf(J);-1!==q&&P.splice(q,1)}}}var X;function ae(X){return X.reduce((J,P)=>J.concat(P instanceof oe?P.errors:P),[])}Q.EMPTY=((X=new Q).closed=!0,X)},2830:(ot,Ae,N)=>{N.d(Ae,{v:()=>H});let s=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=k},get useDeprecatedSynchronousErrorHandling(){return s}}},1177:(ot,Ae,N)=>{N.d(Ae,{Ds:()=>Q,IY:()=>se,ft:()=>X});var s=N(3489),H=N(2916),k=N(9249);class se extends s.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends s.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function X(J,P){if(P.closed)return;if(J instanceof H.y)return J.subscribe(P);let q;try{q=(0,k.s)(J)(P)}catch(G){P.error(G)}return q}},1762:(ot,Ae,N)=>{N.d(Ae,{N:()=>Q,c:()=>oe});var s=N(8929),H=N(2916),k=N(2654),se=N(4327);class oe extends H.y{constructor(q,G){super(),this.source=q,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new k.w,q.add(this.source.subscribe(new ae(this.getSubject(),this))),q.closed&&(this._connection=null,q=k.w.EMPTY)),q}refCount(){return(0,se.x)()(this)}}const Q=(()=>{const P=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class ae extends s.Yc{constructor(q,G){super(q),this.connectable=G}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const G=q._connection;q._refCount=0,q._subject=null,q._connection=null,G&&G.unsubscribe()}}}},8896:(ot,Ae,N)=>{N.d(Ae,{E:()=>H,c:()=>k});var s=N(2916);const H=new s.y(oe=>oe.complete());function k(oe){return oe?function se(oe){return new s.y(Q=>oe.schedule(()=>Q.complete()))}(oe):H}},5254:(ot,Ae,N)=>{N.d(Ae,{D:()=>Ee});var s=N(2916),H=N(9249),k=N(2654),se=N(3821),ae=N(6454),X=N(5430),q=N(8955),G=N(8515);function Ee(_e,we){return we?function be(_e,we){if(null!=_e){if(function P(_e){return _e&&"function"==typeof _e[se.L]}(_e))return function oe(_e,we){return new s.y(xe=>{const Ve=new k.w;return Ve.add(we.schedule(()=>{const Ke=_e[se.L]();Ve.add(Ke.subscribe({next(_t){Ve.add(we.schedule(()=>xe.next(_t)))},error(_t){Ve.add(we.schedule(()=>xe.error(_t)))},complete(){Ve.add(we.schedule(()=>xe.complete()))}}))})),Ve})}(_e,we);if((0,q.t)(_e))return function Q(_e,we){return new s.y(xe=>{const Ve=new k.w;return Ve.add(we.schedule(()=>_e.then(Ke=>{Ve.add(we.schedule(()=>{xe.next(Ke),Ve.add(we.schedule(()=>xe.complete()))}))},Ke=>{Ve.add(we.schedule(()=>xe.error(Ke)))}))),Ve})}(_e,we);if((0,G.z)(_e))return(0,ae.r)(_e,we);if(function ie(_e){return _e&&"function"==typeof _e[X.hZ]}(_e)||"string"==typeof _e)return function J(_e,we){if(!_e)throw new Error("Iterable cannot be null");return new s.y(xe=>{const Ve=new k.w;let Ke;return Ve.add(()=>{Ke&&"function"==typeof Ke.return&&Ke.return()}),Ve.add(we.schedule(()=>{Ke=_e[X.hZ](),Ve.add(we.schedule(function(){if(xe.closed)return;let _t,un;try{const Dt=Ke.next();_t=Dt.value,un=Dt.done}catch(Dt){return void xe.error(Dt)}un?xe.complete():(xe.next(_t),this.schedule())}))})),Ve})}(_e,we)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,we):_e instanceof s.y?_e:new s.y((0,H.s)(_e))}},3009:(ot,Ae,N)=>{N.d(Ae,{n:()=>se});var s=N(2916),H=N(3650),k=N(6454);function se(oe,Q){return Q?(0,k.r)(oe,Q):new s.y((0,H.V)(oe))}},6787:(ot,Ae,N)=>{N.d(Ae,{T:()=>oe});var s=N(2916),H=N(2866),k=N(9146),se=N(3009);function oe(...Q){let ae=Number.POSITIVE_INFINITY,X=null,J=Q[Q.length-1];return(0,H.K)(J)?(X=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(ae=Q.pop())):"number"==typeof J&&(ae=Q.pop()),null===X&&1===Q.length&&Q[0]instanceof s.y?Q[0]:(0,k.J)(ae)((0,se.n)(Q,X))}},1086:(ot,Ae,N)=>{N.d(Ae,{of:()=>se});var s=N(2866),H=N(3009),k=N(6454);function se(...oe){let Q=oe[oe.length-1];return(0,s.K)(Q)?(oe.pop(),(0,k.r)(oe,Q)):(0,H.n)(oe)}},1737:(ot,Ae,N)=>{N.d(Ae,{_:()=>H});var s=N(2916);function H(se,oe){return new s.y(oe?Q=>oe.schedule(k,0,{error:se,subscriber:Q}):Q=>Q.error(se))}function k({error:se,subscriber:oe}){oe.error(se)}},4850:(ot,Ae,N)=>{N.d(Ae,{U:()=>H});var s=N(3489);function H(oe,Q){return function(X){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new k(oe,Q))}}class k{constructor(Q,ae){this.project=Q,this.thisArg=ae}call(Q,ae){return ae.subscribe(new se(Q,this.project,this.thisArg))}}class se extends s.L{constructor(Q,ae,X){super(Q),this.project=ae,this.count=0,this.thisArg=X||this}_next(Q){let ae;try{ae=this.project.call(this.thisArg,Q,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next(ae)}}},9146:(ot,Ae,N)=>{N.d(Ae,{J:()=>k});var s=N(1709),H=N(5379);function k(se=Number.POSITIVE_INFINITY){return(0,s.zg)(H.y,se)}},1709:(ot,Ae,N)=>{N.d(Ae,{zg:()=>se});var s=N(4850),H=N(5254),k=N(1177);function se(X,J,P=Number.POSITIVE_INFINITY){return"function"==typeof J?q=>q.pipe(se((G,ie)=>(0,H.D)(X(G,ie)).pipe((0,s.U)((be,Ee)=>J(G,be,ie,Ee))),P)):("number"==typeof J&&(P=J),q=>q.lift(new oe(X,P)))}class oe{constructor(J,P=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=P}call(J,P){return P.subscribe(new Q(J,this.project,this.concurrent))}}class Q extends k.Ds{constructor(J,P,q=Number.POSITIVE_INFINITY){super(J),this.project=P,this.concurrent=q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let P;const q=this.index++;try{P=this.project(J,q)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(P)}_innerSub(J){const P=new k.IY(this),q=this.destination;q.add(P);const G=(0,k.ft)(J,P);G!==P&&q.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(ot,Ae,N)=>{N.d(Ae,{ht:()=>J,QV:()=>ae});var s=N(3489),H=N(8896),k=N(1086),se=N(1737);class Q{constructor(G,ie,be){this.kind=G,this.value=ie,this.error=be,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,ie,be){switch(this.kind){case"N":return G&&G(this.value);case"E":return ie&&ie(this.error);case"C":return be&&be()}}accept(G,ie,be){return G&&"function"==typeof G.next?this.observe(G):this.do(G,ie,be)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,H.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new Q("N",G):Q.undefinedValueNotification}static createError(G){return new Q("E",void 0,G)}static createComplete(){return Q.completeNotification}}function ae(q,G=0){return function(be){return be.lift(new X(q,G))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class X{constructor(G,ie=0){this.scheduler=G,this.delay=ie}call(G,ie){return ie.subscribe(new J(G,this.scheduler,this.delay))}}class J extends s.L{constructor(G,ie,be=0){super(G),this.scheduler=ie,this.delay=be}static dispatch(G){const{notification:ie,destination:be}=G;ie.observe(be),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(J.dispatch,this.delay,new P(G,this.destination)))}_next(G){this.scheduleMessage(Q.createNext(G))}_error(G){this.scheduleMessage(Q.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class P{constructor(G,ie){this.notification=G,this.destination=ie}}},4327:(ot,Ae,N)=>{N.d(Ae,{x:()=>H});var s=N(3489);function H(){return function(Q){return Q.lift(new k(Q))}}class k{constructor(Q){this.connectable=Q}call(Q,ae){const{connectable:X}=this;X._refCount++;const J=new se(Q,X),P=ae.subscribe(J);return J.closed||(J.connection=X.connect()),P}}class se extends s.L{constructor(Q,ae){super(Q),this.connectable=ae}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const ae=Q._refCount;if(ae<=0)return void(this.connection=null);if(Q._refCount=ae-1,ae>1)return void(this.connection=null);const{connection:X}=this,J=Q._connection;this.connection=null,J&&(!X||J===X)&&J.unsubscribe()}}},2474:(ot,Ae,N)=>{N.d(Ae,{B:()=>ae});var s=N(1762);class k{constructor(J,P){this.subjectFactory=J,this.selector=P}call(J,P){const{selector:q}=this,G=this.subjectFactory(),ie=q(G).subscribe(J);return ie.add(P.subscribe(G)),ie}}var se=N(4327),oe=N(8929);function Q(){return new oe.xQ}function ae(){return X=>(0,se.x)()(function H(X,J){return function(q){let G;if(G="function"==typeof X?X:function(){return X},"function"==typeof J)return q.lift(new k(G,J));const ie=Object.create(q,s.N);return ie.source=q,ie.subjectFactory=G,ie}}(Q)(X))}},3334:(ot,Ae,N)=>{N.d(Ae,{R:()=>oe});var s=N(2916),H=N(8139),k=N(4241);class se extends s.y{constructor(X,J=0,P=H.e){super(),this.source=X,this.delayTime=J,this.scheduler=P,(!(0,k.k)(J)||J<0)&&(this.delayTime=0),(!P||"function"!=typeof P.schedule)&&(this.scheduler=H.e)}static create(X,J=0,P=H.e){return new se(X,J,P)}static dispatch(X){const{source:J,subscriber:P}=X;return this.add(J.subscribe(P))}_subscribe(X){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:X})}}function oe(ae,X=0){return function(P){return P.lift(new Q(ae,X))}}class Q{constructor(X,J){this.scheduler=X,this.delay=J}call(X,J){return new se(J,this.delay,this.scheduler).subscribe(X)}}},2868:(ot,Ae,N)=>{N.d(Ae,{b:()=>se});var s=N(3489);function H(){}var k=N(7043);function se(ae,X,J){return function(q){return q.lift(new oe(ae,X,J))}}class oe{constructor(X,J,P){this.nextOrObserver=X,this.error=J,this.complete=P}call(X,J){return J.subscribe(new Q(X,this.nextOrObserver,this.error,this.complete))}}class Q extends s.L{constructor(X,J,P,q){super(X),this._tapNext=H,this._tapError=H,this._tapComplete=H,this._tapError=P||H,this._tapComplete=q||H,(0,k.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||H,this._tapError=J.error||H,this._tapComplete=J.complete||H)}_next(X){try{this._tapNext.call(this._context,X)}catch(J){return void this.destination.error(J)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(J){return void this.destination.error(J)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},6454:(ot,Ae,N)=>{N.d(Ae,{r:()=>k});var s=N(2916),H=N(2654);function k(se,oe){return new s.y(Q=>{const ae=new H.w;let X=0;return ae.add(oe.schedule(function(){X!==se.length?(Q.next(se[X++]),Q.closed||ae.add(this.schedule())):Q.complete()})),ae})}},6686:(ot,Ae,N)=>{N.d(Ae,{o:()=>k});var s=N(2654);class H extends s.w{constructor(oe,Q){super()}schedule(oe,Q=0){return this}}class k extends H{constructor(oe,Q){super(oe,Q),this.scheduler=oe,this.work=Q,this.pending=!1}schedule(oe,Q=0){if(this.closed)return this;this.state=oe;const ae=this.id,X=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(X,ae,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(X,this.id,Q),this}requestAsyncId(oe,Q,ae=0){return setInterval(oe.flush.bind(oe,this),ae)}recycleAsyncId(oe,Q,ae=0){if(null!==ae&&this.delay===ae&&!1===this.pending)return Q;clearInterval(Q)}execute(oe,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(oe,Q);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,Q){let X,ae=!1;try{this.work(oe)}catch(J){ae=!0,X=!!J&&J||new Error(J)}if(ae)return this.unsubscribe(),X}_unsubscribe(){const oe=this.id,Q=this.scheduler,ae=Q.actions,X=ae.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&ae.splice(X,1),null!=oe&&(this.id=this.recycleAsyncId(Q,oe,null)),this.delay=null}}},2268:(ot,Ae,N)=>{N.d(Ae,{v:()=>H});let s=(()=>{class k{constructor(oe,Q=k.now){this.SchedulerAction=oe,this.now=Q}schedule(oe,Q=0,ae){return new this.SchedulerAction(this,oe).schedule(ae,Q)}}return k.now=()=>Date.now(),k})();class H extends s{constructor(se,oe=s.now){super(se,()=>H.delegate&&H.delegate!==this?H.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,oe=0,Q){return H.delegate&&H.delegate!==this?H.delegate.schedule(se,oe,Q):super.schedule(se,oe,Q)}flush(se){const{actions:oe}=this;if(this.active)return void oe.push(se);let Q;this.active=!0;do{if(Q=se.execute(se.state,se.delay))break}while(se=oe.shift());if(this.active=!1,Q){for(;se=oe.shift();)se.unsubscribe();throw Q}}}},8139:(ot,Ae,N)=>{N.d(Ae,{e:()=>G,E:()=>q});let s=1;const H=Promise.resolve(),k={};function se(ie){return ie in k&&(delete k[ie],!0)}const oe={setImmediate(ie){const be=s++;return k[be]=!0,H.then(()=>se(be)&&ie()),be},clearImmediate(ie){se(ie)}};var ae=N(6686),J=N(2268);const q=new class P extends J.v{flush(be){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let _e,we=-1,xe=Ee.length;be=be||Ee.shift();do{if(_e=be.execute(be.state,be.delay))break}while(++we<xe&&(be=Ee.shift()));if(this.active=!1,_e){for(;++we<xe&&(be=Ee.shift());)be.unsubscribe();throw _e}}}(class X extends ae.o{constructor(be,Ee){super(be,Ee),this.scheduler=be,this.work=Ee}requestAsyncId(be,Ee,_e=0){return null!==_e&&_e>0?super.requestAsyncId(be,Ee,_e):(be.actions.push(this),be.scheduled||(be.scheduled=oe.setImmediate(be.flush.bind(be,null))))}recycleAsyncId(be,Ee,_e=0){if(null!==_e&&_e>0||null===_e&&this.delay>0)return super.recycleAsyncId(be,Ee,_e);0===be.actions.length&&(oe.clearImmediate(Ee),be.scheduled=void 0)}}),G=q},353:(ot,Ae,N)=>{N.d(Ae,{P:()=>se,z:()=>k});var s=N(6686);const k=new(N(2268).v)(s.o),se=k},341:(ot,Ae,N)=>{N.d(Ae,{c:()=>Q,N:()=>oe});var s=N(6686),k=N(2268);const oe=new class se extends k.v{}(class H extends s.o{constructor(X,J){super(X,J),this.scheduler=X,this.work=J}schedule(X,J=0){return J>0?super.schedule(X,J):(this.delay=J,this.state=X,this.scheduler.flush(this),this)}execute(X,J){return J>0||this.closed?super.execute(X,J):this._execute(X,J)}requestAsyncId(X,J,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(X,J,P):X.flush(this)}}),Q=oe},5430:(ot,Ae,N)=>{N.d(Ae,{hZ:()=>H});const H=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(ot,Ae,N)=>{N.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(ot,Ae,N)=>{N.d(Ae,{b:()=>s});const s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(ot,Ae,N)=>{N.d(Ae,{N:()=>H});const H=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},2782:(ot,Ae,N)=>{function s(H){setTimeout(()=>{throw H},0)}N.d(Ae,{z:()=>s})},5379:(ot,Ae,N)=>{function s(H){return H}N.d(Ae,{y:()=>s})},6688:(ot,Ae,N)=>{N.d(Ae,{k:()=>s});const s=Array.isArray||(H=>H&&"number"==typeof H.length)},8515:(ot,Ae,N)=>{N.d(Ae,{z:()=>s});const s=H=>H&&"number"==typeof H.length&&"function"!=typeof H},7043:(ot,Ae,N)=>{function s(H){return"function"==typeof H}N.d(Ae,{m:()=>s})},4241:(ot,Ae,N)=>{N.d(Ae,{k:()=>H});var s=N(6688);function H(k){return!(0,s.k)(k)&&k-parseFloat(k)+1>=0}},7830:(ot,Ae,N)=>{function s(H){return null!==H&&"object"==typeof H}N.d(Ae,{K:()=>s})},8955:(ot,Ae,N)=>{function s(H){return!!H&&"function"!=typeof H.subscribe&&"function"==typeof H.then}N.d(Ae,{t:()=>s})},2866:(ot,Ae,N)=>{function s(H){return H&&"function"==typeof H.schedule}N.d(Ae,{K:()=>s})},9249:(ot,Ae,N)=>{N.d(Ae,{s:()=>q});var s=N(3650),H=N(2782),se=N(5430),Q=N(3821),X=N(8515),J=N(8955),P=N(7830);const q=G=>{if(G&&"function"==typeof G[Q.L])return(G=>ie=>{const be=G[Q.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(ie)})(G);if((0,X.z)(G))return(0,s.V)(G);if((0,J.t)(G))return(G=>ie=>(G.then(be=>{ie.closed||(ie.next(be),ie.complete())},be=>ie.error(be)).then(null,H.z),ie))(G);if(G&&"function"==typeof G[se.hZ])return(G=>ie=>{const be=G[se.hZ]();for(;;){let Ee;try{Ee=be.next()}catch(_e){return ie.error(_e),ie}if(Ee.done){ie.complete();break}if(ie.next(Ee.value),ie.closed)break}return"function"==typeof be.return&&ie.add(()=>{be.return&&be.return()}),ie})(G);{const be=`You provided ${(0,P.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},3650:(ot,Ae,N)=>{N.d(Ae,{V:()=>s});const s=H=>k=>{for(let se=0,oe=H.length;se<oe&&!k.closed;se++)k.next(H[se]);k.complete()}},655:(ot,Ae,N)=>{function se(le,ce){var he={};for(var Te in le)Object.prototype.hasOwnProperty.call(le,Te)&&ce.indexOf(Te)<0&&(he[Te]=le[Te]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(Te=Object.getOwnPropertySymbols(le);pe<Te.length;pe++)ce.indexOf(Te[pe])<0&&Object.prototype.propertyIsEnumerable.call(le,Te[pe])&&(he[Te[pe]]=le[Te[pe]])}return he}N.d(Ae,{_T:()=>se})},5e3:(ot,Ae,N)=>{N.d(Ae,{$8M:()=>yo,$Z:()=>$w,AFp:()=>h0,AaK:()=>X,BQk:()=>$_,CHM:()=>ah,CRH:()=>My,CZH:()=>$g,CqO:()=>RT,EJc:()=>_0,EiD:()=>qp,EpF:()=>IT,F$t:()=>NT,F4k:()=>MT,FYo:()=>by,FiY:()=>qa,G48:()=>T0,Gf:()=>YC,GfV:()=>JA,GkF:()=>Ww,Gpc:()=>q,Hsn:()=>PT,Ikx:()=>vg,JOm:()=>Mo,JVY:()=>Th,L6k:()=>zu,LAX:()=>qu,LFG:()=>It,LSH:()=>Mc,Lbi:()=>IS,MAs:()=>B_,NdJ:()=>Zw,OlP:()=>en,Oqu:()=>Ll,PXZ:()=>D0,Q6J:()=>U_,QGY:()=>Yw,Qsj:()=>kC,R0b:()=>Lo,RDi:()=>Hs,Rgc:()=>xf,SBq:()=>Eg,Sil:()=>Ff,Suo:()=>ZC,TTD:()=>Ko,TgZ:()=>G_,Udp:()=>Pl,VKq:()=>Cf,VLi:()=>PS,W1O:()=>JC,WFA:()=>Kw,WLB:()=>Ef,X6Q:()=>$S,XFs:()=>ct,Xpm:()=>Lt,Y36:()=>yg,YKP:()=>Uc,YNc:()=>L_,Yjl:()=>Le,Yz7:()=>an,ZZ4:()=>Bf,_Bn:()=>my,_UZ:()=>qw,_Vd:()=>yf,_c5:()=>nI,_uU:()=>Bc,aQg:()=>Kg,c2e:()=>C1,cJS:()=>ln,cg1:()=>ty,d8E:()=>ey,dDg:()=>Nf,deG:()=>Ga,dqk:()=>qt,eBb:()=>Ah,eFA:()=>zy,ekj:()=>ud,f3M:()=>$a,g9A:()=>p0,h0i:()=>xd,hGG:()=>N1,hij:()=>cf,iGM:()=>WC,ifc:()=>$t,ip1:()=>Uy,kL8:()=>ny,kYT:()=>V,lG2:()=>de,mCW:()=>I,n5z:()=>vc,n_E:()=>Fg,oAB:()=>F,oJD:()=>Lb,oxw:()=>FT,pB0:()=>jp,q3G:()=>br,q4F:()=>wy,qLn:()=>Ku,qOj:()=>Nw,qZA:()=>H_,qzn:()=>ns,s9C:()=>Jw,sBO:()=>qS,sIi:()=>Hr,s_b:()=>Ng,soG:()=>m0,tBr:()=>Nu,tb:()=>g0,tp0:()=>Do,uIk:()=>od,vHH:()=>Ee,vpe:()=>Xs,wAp:()=>wt,xp6:()=>iw,yhl:()=>xh,ynx:()=>j_,z2F:()=>Bo,z3N:()=>So,zSh:()=>F_,zs3:()=>tl});var s=N(8929),H=N(2654),k=N(2916),se=N(6787),oe=N(2474);function Q(o){for(let l in o)if(o[l]===Q)return l;throw Error("Could not find renamed property on target object.")}function ae(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function X(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(X).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function J(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const P=Q({__forward_ref__:Q});function q(o){return o.__forward_ref__=q,o.toString=function(){return X(this())},o}function G(o){return ie(o)?o():o}function ie(o){return"function"==typeof o&&o.hasOwnProperty(P)&&o.__forward_ref__===q}class Ee extends Error{constructor(l,c){super(function _e(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,c)),this.code=l}}function we(o){return"string"==typeof o?o:null==o?"":String(o)}function xe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():we(o)}function un(o,l){const c=l?` in ${l}`:"";throw new Ee(-201,`No provider for ${xe(o)} found${c}`)}function fn(o,l){null==o&&function Ue(o,l,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function an(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ln(o){return{providers:o.providers||[],imports:o.imports||[]}}function Un(o){return mr(o,pi)||mr(o,Sr)}function mr(o,l){return o.hasOwnProperty(l)?o[l]:null}function Wi(o){return o&&(o.hasOwnProperty(_r)||o.hasOwnProperty(hs))?o[_r]:null}const pi=Q({\u0275prov:Q}),_r=Q({\u0275inj:Q}),Sr=Q({ngInjectableDef:Q}),hs=Q({ngInjectorDef:Q});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Fr;function pn(o){const l=Fr;return Fr=o,l}function Qn(o,l,c){const d=Un(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ct.Optional?null:void 0!==l?l:void un(X(o),"Injector")}function zn(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),$t=(()=>{return(o=$t||($t={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",$t;var o})();const ut="undefined"!=typeof globalThis&&globalThis,nt="undefined"!=typeof window&&window,ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ut||"undefined"!=typeof global&&global||nt||ri,mn={},pt=[],Wn=Q({\u0275cmp:Q}),Wt=Q({\u0275dir:Q}),Ge=Q({\u0275pipe:Q}),Se=Q({\u0275mod:Q}),Qe=Q({\u0275fac:Q}),dt=Q({__NG_ELEMENT_ID__:Q});let Pt=0;function Lt(o){return zn(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||pt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||$t.Emulated,id:"c",styles:o.styles||pt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,p=o.features,y=o.pipes;return d.id+=Pt++,d.inputs=z(o.inputs,c),d.outputs=z(o.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map($):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function $(o){return $e(o)||function bt(o){return o[Wt]||null}(o)}function K(o){return function tt(o){return o[Ge]||null}(o)}const fe={};function F(o){return zn(()=>{const l={type:o.type,bootstrap:o.bootstrap||pt,declarations:o.declarations||pt,imports:o.imports||pt,exports:o.exports||pt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(fe[o.id]=o.type),l})}function V(o,l){return zn(()=>{const c=xt(o,!0);c.declarations=l.declarations||pt,c.imports=l.imports||pt,c.exports=l.exports||pt})}function z(o,l){if(null==o)return mn;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,l&&(l[f]=p)}return c}const de=Lt;function Le(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function $e(o){return o[Wn]||null}function xt(o,l){const c=o[Se]||null;if(!c&&!0===l)throw new Error(`Type ${X(o)} does not have '\u0275mod' property.`);return c}function Br(o){return Array.isArray(o)&&"object"==typeof o[1]}function _i(o){return Array.isArray(o)&&!0===o[1]}function ll(o){return 0!=(8&o.flags)}function qo(o){return 2==(2&o.flags)}function Wo(o){return 1==(1&o.flags)}function Fi(o){return null!==o.template}function so(o){return 0!=(512&o[2])}function yi(o,l){return o.hasOwnProperty(Qe)?o[Qe]:null}class ih{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ko(){return dl}function dl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ia),sh}function sh(){const o=Ni(this),l=null==o?void 0:o.current;if(l){const c=o.previous;if(c===mn)o.previous=l;else for(let d in l)c[d]=l[d];o.current=null,this.ngOnChanges(l)}}function Ia(o,l,c,d){const f=Ni(o)||function ms(o,l){return o[oo]=l}(o,{previous:mn,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new ih(E&&E.currentValue,l,y===mn),o[d]=l}Ko.ngInherit=!0;const oo="__ngSimpleChanges__";function Ni(o){return o[oo]||null}let fl;function Hs(o){fl=o}function ao(){return void 0!==fl?fl:"undefined"!=typeof document?document:void 0}function Mn(o){return!!o.listen}const lo={createRenderer:(o,l)=>ao()};function An(o){for(;Array.isArray(o);)o=o[0];return o}function js(o,l){return An(l[o])}function Ir(o,l){return An(l[o.index])}function pl(o,l){return o.data[l]}function Wr(o,l){const c=l[o];return Br(c)?c:c[0]}function _s(o){return 4==(4&o[2])}function uo(o){return 128==(128&o[2])}function Pi(o,l){return null==l?null:o[l]}function Qi(o){o[18]=0}function ys(o,l){o[5]+=l;let c=o,d=o[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const gt={lFrame:hc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ta(){return gt.bindingsEnabled}function Me(){return gt.lFrame.lView}function Ht(){return gt.lFrame.tView}function ah(o){return gt.lFrame.contextLView=o,o[8]}function Rn(){let o=gl();for(;null!==o&&64===o.type;)o=o.parent;return o}function gl(){return gt.lFrame.currentTNode}function Li(o,l){const c=gt.lFrame;c.currentTNode=o,c.isParent=l}function ac(){return gt.lFrame.isParent}function Oa(){gt.lFrame.isParent=!1}function na(){return gt.isInCheckNoChangesMode}function ra(o){gt.isInCheckNoChangesMode=o}function dr(){const o=gt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function sa(){return gt.lFrame.bindingIndex++}function wu(o,l){const c=gt.lFrame;c.bindingIndex=c.bindingRootIndex=o,cc(l)}function cc(o){gt.lFrame.currentDirectiveIndex=o}function zs(o){const l=gt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function ch(){return gt.lFrame.currentQueryIndex}function uc(o){gt.lFrame.currentQueryIndex=o}function dc(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function ml(o,l,c){if(c&ct.SkipSelf){let f=l,p=o;for(;!(f=f.parent,null!==f||c&ct.Host||(f=dc(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;l=f,o=p}const d=gt.lFrame=ho();return d.currentTNode=l,d.lView=o,!0}function Na(o){const l=ho(),c=o[1];gt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function ho(){const o=gt.lFrame,l=null===o?null:o.child;return null===l?hc(o):l}function hc(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function uh(){const o=gt.lFrame;return gt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Cu=uh;function fo(){const o=uh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Yr(){return gt.lFrame.selectedIndex}function Ws(o){gt.lFrame.selectedIndex=o}function Hn(){const o=gt.lFrame;return pl(o.tView,o.selectedIndex)}function Pa(o,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(c,M)}}function gc(o,l,c){Du(o,l,3,c)}function _l(o,l,c,d){(3&o[2])===c&&Du(o,l,c,d)}function tr(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function Du(o,l,c,d){const p=null!=d?d:-1,y=l.length-1;let w=0;for(let E=void 0!==d?65535&o[18]:0;E<y;E++)if("number"==typeof l[E+1]){if(w=l[E],null!=d&&w>=d)break}else l[E]<0&&(o[18]+=65536),(w<p||-1==p)&&(xu(o,c,l,E),o[18]=(4294901760&o[18])+E+2),E++}function xu(o,l,c,d){const f=c[d]<0,p=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class yl{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function at(o,l,c){const d=Mn(o);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const y=c[f++],w=c[f++],E=c[f++];d?o.setAttribute(l,w,E,y):l.setAttributeNS(y,w,E)}else{const y=p,w=c[++f];Mr(y)?d&&o.setProperty(l,y,w):d?o.setAttribute(l,y,w):l.setAttribute(y,w),f++}}return f}function _c(o){return 3===o||4===o||6===o}function Mr(o){return 64===o.charCodeAt(0)}function bi(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||aa(o,c,f,null,-1===c||2===c?l[++d]:null)}}return o}function aa(o,l,c,d,f){let p=0,y=o.length;if(-1===l)y=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[p+1]=f));if(d===o[p+1])return void(o[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,l),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==f&&o.splice(p++,0,f)}function cn(o){return-1!==o}function bs(o){return 32767&o}function Ys(o,l){let c=function yc(o){return o>>16}(o),d=l;for(;c>0;)d=d[15],c--;return d}let Bn=!0;function go(o){const l=Bn;return Bn=o,l}let bl=0;function ai(o,l){const c=la(o,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,mo(d.data,o),mo(l,null),mo(d.blueprint,null));const f=yr(o,l),p=o.injectorIndex;if(cn(f)){const y=bs(f),w=Ys(f,l),E=w[1].data;for(let S=0;S<8;S++)l[p+S]=w[y+S]|E[y+S]}return l[p+8]=f,p}function mo(o,l){o.push(0,0,0,0,0,0,0,0,l)}function la(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function yr(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const p=f[1],y=p.type;if(d=2===y?p.declTNode:1===y?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ca(o,l,c){!function wl(o,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(dt)&&(d=c[dt]),null==d&&(d=c[dt]=bl++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,c)}function li(o,l,c){if(c&ct.Optional)return o;un(l,"NodeInjector")}function _o(o,l,c,d){if(c&ct.Optional&&void 0===d&&(d=null),0==(c&(ct.Self|ct.Host))){const f=o[9],p=pn(void 0);try{return f?f.get(l,d,c&ct.Optional):Qn(l,d,c&ct.Optional)}finally{pn(p)}}return li(d,l,c)}function Cl(o,l,c,d=ct.Default,f){if(null!==o){const p=function Np(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(dt)?o[dt]:void 0;return"number"==typeof l?l>=0?255&l:Zr:l}(c);if("function"==typeof p){if(!ml(l,o,d))return d&ct.Host?li(f,c,d):_o(l,c,d,f);try{const y=p(d);if(null!=y||d&ct.Optional)return y;un(c)}finally{Cu()}}else if("number"==typeof p){let y=null,w=la(o,l),E=-1,S=d&ct.Host?l[16][6]:null;for((-1===w||d&ct.SkipSelf)&&(E=-1===w?yr(o,l):l[w+8],-1!==E&&wi(d,!1)?(y=l[1],w=bs(E),l=Ys(E,l)):w=-1);-1!==w;){const M=l[1];if(Ua(p,w,M.data)){const B=vr(w,l,c,y,d,S);if(B!==ht)return B}E=l[w+8],-1!==E&&wi(d,l[1].data[w+8]===S)&&Ua(p,w,l)?(y=M,w=bs(E),l=Ys(E,l)):w=-1}}}return _o(l,c,d,f)}const ht={};function Zr(){return new Zs(Rn(),Me())}function vr(o,l,c,d,f,p){const y=l[1],w=y.data[o+8],M=Ba(w,y,c,null==d?qo(w)&&Bn:d!=y&&0!=(3&w.type),f&ct.Host&&p===w);return null!==M?Va(l,y,M,w):ht}function Ba(o,l,c,d,f){const p=o.providerIndexes,y=l.data,w=1048575&p,E=o.directiveStart,M=p>>20,Y=f?w+M:o.directiveEnd;for(let te=d?w:w+M;te<Y;te++){const De=y[te];if(te<E&&c===De||te>=E&&De.type===c)return te}if(f){const te=y[E];if(te&&Fi(te)&&te.type===c)return E}return null}function Va(o,l,c,d){let f=o[c];const p=l.data;if(function La(o){return o instanceof yl}(f)){const y=f;y.resolving&&function Ve(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${o}${c}`)}(xe(p[c]));const w=go(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?pn(y.injectImpl):null;ml(o,d,ct.Default);try{f=o[c]=y.factory(void 0,p,o,d),l.firstCreatePass&&c>=d.directiveStart&&function po(o,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=l.type.prototype;if(d){const y=dl(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],l)}finally{null!==E&&pn(E),go(w),y.resolving=!1,Cu()}}return f}function Ua(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function wi(o,l){return!(o&ct.Self||o&ct.Host&&l)}class Zs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Cl(this._tNode,this._lView,l,d,c)}}function vc(o){return zn(()=>{const l=o.prototype.constructor,c=l[Qe]||Zn(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const p=f[Qe]||Zn(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Zn(o){return ie(o)?()=>{const l=Zn(G(o));return l&&l()}:yi(o)}function yo(o){return function ua(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(_c(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===l)return c[f+1];f+=2}}}return null}(Rn(),o)}const ws="__parameters__";function Vr(o,l,c){return zn(()=>{const d=function bc(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,S,M){const B=E.hasOwnProperty(ws)?E[ws]:Object.defineProperty(E,ws,{value:[]})[ws];for(;B.length<=M;)B.push(null);return(B[M]=B[M]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class en{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ga=new en("AnalyzeForEntryComponents");function on(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(l===o&&(l=o.slice(0,c)),on(d,l)):l!==o&&l.push(d)}return l}function Ei(o,l){o.forEach(c=>Array.isArray(c)?Ei(c,l):l(c))}function Ur(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function wo(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function ci(o,l){const c=[];for(let d=0;d<o;d++)c.push(l);return c}function hr(o,l,c){let d=Js(o,l);return d>=0?o[1|d]=c:(d=~d,function ku(o,l,c,d){let f=o.length;if(f==l)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=c,o[l+1]=d}}(o,d,l,c)),d}function Dl(o,l){const c=Js(o,l);if(c>=0)return o[1|c]}function Js(o,l){return function Xi(o,l,c){let d=0,f=o.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=o[p<<c];if(l===y)return p<<c;y>l?f=p:d=p+1}return~(f<<c)}(o,l,1)}const T={},R="__NG_DI_FLAG__",j="ngTempTokenPath",ue=/\n/gm,je="__source",St=Q({provide:String,useValue:Q});let yt;function Kt(o){const l=yt;return yt=o,l}function Bt(o,l=ct.Default){if(void 0===yt)throw new Ee(203,"");return null===yt?Qn(o,void 0,l):yt.get(o,l&ct.Optional?null:void 0,l)}function It(o,l=ct.Default){return(function $n(){return Fr}()||Bt)(G(o),l)}const $a=It;function Co(o){const l=[];for(let c=0;c<o.length;c++){const d=G(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Ee(900,"");let f,p=ct.Default;for(let y=0;y<d.length;y++){const w=d[y],E=ts(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}l.push(It(f,p))}else l.push(It(d))}return l}function Di(o,l){return o[R]=l,o.prototype[R]=l,o}function ts(o){return o[R]}const Nu=Di(Vr("Inject",o=>({token:o})),-1),qa=Di(Vr("Optional"),8),Do=Di(Vr("SkipSelf"),4);let Ac,ju;function Al(o){var l;return(null===(l=function vh(){if(void 0===Ac&&(Ac=null,qt.trustedTypes))try{Ac=qt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ac}())||void 0===l?void 0:l.createHTML(o))||o}function Gp(o){var l;return(null===(l=function wh(){if(void 0===ju&&(ju=null,qt.trustedTypes))try{ju=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ju}())||void 0===l?void 0:l.createHTML(o))||o}class To{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dh extends To{getTypeName(){return"HTML"}}class Ao extends To{getTypeName(){return"Style"}}class fa extends To{getTypeName(){return"Script"}}class Hp extends To{getTypeName(){return"URL"}}class $u extends To{getTypeName(){return"ResourceURL"}}function So(o){return o instanceof To?o.changingThisBreaksApplicationSecurity:o}function ns(o,l){const c=xh(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function xh(o){return o instanceof To&&o.getTypeName()||null}function Th(o){return new Dh(o)}function zu(o){return new Ao(o)}function Ah(o){return new fa(o)}function qu(o){return new Hp(o)}function jp(o){return new $u(o)}class Sh{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Al(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class zm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Al(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Al(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function I(o){return(o=String(o)).match(g)||o.match(C)?o:"unsafe:"+o}function ne(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function Re(...o){const l={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const it=ne("area,br,col,hr,img,wbr"),vt=ne("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vt=ne("rp,rt"),Ka=Re(it,Re(vt,ne("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Re(Vt,ne("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Re(Vt,vt)),Qa=ne("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sc=ne("srcset"),Ic=Re(Qa,Sc,ne("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ne("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mh=ne("script,style,template");class $p{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Ka.hasOwnProperty(c))return this.sanitizedSomething=!0,!Mh.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!Ic.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;Qa[w]&&(E=I(E)),Sc[w]&&(o=E,E=(o=String(o)).split(",").map(l=>I(l.trim())).join(", ")),this.buf.push(" ",y,'="',Yu(E),'"')}var o;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Ka.hasOwnProperty(c)&&!it.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Yu(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Rh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zp=/([^\#-~ |!])/g;function Yu(o){return o.replace(/&/g,"&amp;").replace(Rh,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(zp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vi;function qp(o,l){let c=null;try{Vi=Vi||function Wu(o){const l=new zm(o);return function b(){try{return!!(new window.DOMParser).parseFromString(Al(""),"text/html")}catch(o){return!1}}()?new Sh(l):l}(o);let d=l?String(l):"";c=Vi.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=Vi.getInertBodyElement(d)}while(d!==p);return Al((new $p).sanitizeChildren(Ja(c)||c))}finally{if(c){const d=Ja(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ja(o){return"content"in o&&function SD(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function Lb(o){const l=Oh();return l?Gp(l.sanitize(br.HTML,o)||""):ns(o,"HTML")?Gp(So(o)):qp(ao(),we(o))}function Mc(o){const l=Oh();return l?l.sanitize(br.URL,o)||"":ns(o,"URL")?So(o):I(we(o))}function Oh(){const o=Me();return o&&o[12]}const Zm="__ngContext__";function Gr(o,l){o[Zm]=l}function Km(o){const l=function Sl(o){return o[Zm]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function Jm(o){return o.ngOriginalError}function BD(o,...l){o.error(...l)}class Ku{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function LD(o){return o&&o.ngErrorLogger||BD}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Jm(l);for(;c&&Jm(c);)c=Jm(c);return c||null}}const Bh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function pa(o){return o instanceof Function?o():o}var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();function e_(o,l){return undefined(o,l)}function Vh(o){const l=o[3];return _i(l)?l[3]:l}function Kp(o){return n_(o[13])}function Qp(o){return n_(o[4])}function n_(o){for(;null!==o&&!_i(o);)o=o[4];return o}function Ju(o,l,c,d,f){if(null!=d){let p,y=!1;_i(d)?p=d:Br(d)&&(y=!0,d=d[0]);const w=An(d);0===o&&null!==c?null==f?Kb(l,c,w):rr(l,c,w,f||null,!0):1===o&&null!==c?rr(l,c,w,f||null,!0):2===o?function p_(o,l,c){const d=Il(o,l);d&&function u_(o,l,c,d){Mn(o)?o.removeChild(l,c,d):l.removeChild(c)}(o,d,l,c)}(l,w,y):3===o&&l.destroyNode(w),null!=p&&function ix(o,l,c,d,f){const p=c[7];p!==An(c)&&Ju(l,o,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];Gh(E[1],E,o,l,d,p)}}(l,o,p,c,f)}}function Jp(o,l,c){if(Mn(o))return o.createElement(l,c);{const d=null!==c?function yu(o){const l=o.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(l):o.createElementNS(d,l)}}function o_(o,l){const c=o[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,ys(f,-1)),c.splice(d,1)}function a_(o,l){if(o.length<=10)return;const c=10+l,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&o_(f,d),l>0&&(o[c-1][4]=d[4]);const p=wo(o,10+l);!function JD(o,l){Gh(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function qb(o,l){if(!(256&l[2])){const c=l[11];Mn(c)&&c.destroyNode&&Gh(o,l,c,3,null,null),function ex(o){let l=o[13];if(!l)return l_(o[1],o);for(;l;){let c=null;if(Br(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==o;)Br(l)&&l_(l[1],l),l=l[3];null===l&&(l=o),Br(l)&&l_(l[1],l),c=l&&l[4]}l=c}}(l)}}function l_(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Wb(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof yl)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(o,l),function nx(o,l){const c=o.cleanup,d=l[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(l):An(l[y]),E=d[f=c[p+2]],S=c[p+3];"boolean"==typeof S?w.removeEventListener(c[p],E,S):S>=0?d[f=S]():d[f=-S].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)d[p]();l[7]=null}}(o,l),1===l[1].type&&Mn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&_i(l[3])){c!==l[3]&&o_(c,l);const d=l[19];null!==d&&d.detachView(o)}}}function Yb(o,l,c){return function Zb(o,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===$t.None||f===$t.Emulated)return null}return Ir(d,c)}(o,l.parent,c)}function rr(o,l,c,d,f){Mn(o)?o.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function Kb(o,l,c){Mn(o)?o.appendChild(l,c):l.appendChild(c)}function c_(o,l,c,d,f){null!==d?rr(o,l,c,d,f):Kb(o,l,c)}function Il(o,l){return Mn(o)?o.parentNode(l):l.parentNode}function Qb(o,l,c){return d_(o,l,c)}let d_=function Jb(o,l,c){return 40&o.type?Ir(o,c):null};function Uh(o,l,c,d){const f=Yb(o,d,l),p=l[11],w=Qb(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)c_(p,f,c[E],w,!1);else c_(p,f,c,w,!1)}function ed(o,l){if(null!==l){const c=l.type;if(3&c)return Ir(l,o);if(4&c)return Xa(-1,o[l.index]);if(8&c){const d=l.child;if(null!==d)return ed(o,d);{const f=o[l.index];return _i(f)?Xa(-1,f):An(f)}}if(32&c)return e_(l,o)()||An(o[l.index]);{const d=rx(o,l);return null!==d?Array.isArray(d)?d[0]:ed(Vh(o[16]),d):ed(o,l.next)}}return null}function rx(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Xa(o,l){const c=10+o+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return ed(d,f)}return l[7]}function g_(o,l,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===l&&(w&&Gr(An(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)g_(o,l,c.child,d,f,p,!1),Ju(l,o,f,w,p);else if(32&E){const S=e_(c,d);let M;for(;M=S();)Ju(l,o,f,M,p);Ju(l,o,f,w,p)}else 16&E?ew(o,l,d,c,f,p):Ju(l,o,f,w,p);c=y?c.projectionNext:c.next}}function Gh(o,l,c,d,f,p){g_(c,d,o.firstChild,l,f,p,!1)}function ew(o,l,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Ju(l,o,f,E[S],p);else g_(o,l,E,y[3],f,p,!0)}function m_(o,l,c){Mn(o)?o.setAttribute(l,"style",c):l.style.cssText=c}function __(o,l,c){Mn(o)?""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c):l.className=c}function tw(o,l,c){let d=o.length;for(;;){const f=o.indexOf(l,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=l.length;if(f+p===d||o.charCodeAt(f+p)<=32)return f}c=f+1}}const Xp="ng-template";function ox(o,l,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==tw(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function nw(o){return 4===o.type&&o.value!==Xp}function rw(o,l,c){return l===(4!==o.type||c?o.value:Xp)}function ax(o,l,c){let d=4;const f=o.attrs||[],p=function eg(o){for(let l=0;l<o.length;l++)if(_c(o[l]))return l;return o.length}(f);let y=!1;for(let w=0;w<l.length;w++){const E=l[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!rw(o,E,c)||""===E&&1===l.length){if(ga(d))return!1;y=!0}}else{const S=8&d?E:l[++w];if(8&d&&null!==o.attrs){if(!ox(o.attrs,S,c)){if(ga(d))return!1;y=!0}continue}const B=Yt(8&d?"class":E,f,nw(o),c);if(-1===B){if(ga(d))return!1;y=!0;continue}if(""!==S){let Y;Y=B>p?"":f[B+1].toLowerCase();const te=8&d?Y:null;if(te&&-1!==tw(te,S,0)||2&d&&S!==Y){if(ga(d))return!1;y=!0}}}}else{if(!y&&!ga(d)&&!ga(E))return!1;if(y&&ga(E))continue;y=!1,d=E|1&d}}return ga(d)||y}function ga(o){return 0==(1&o)}function Yt(o,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let p=!1;for(;f<l.length;){const y=l[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function TO(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,o)}function ma(o,l,c=!1){for(let d=0;d<l.length;d++)if(ax(o,l[d],c))return!0;return!1}function lx(o,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function tg(o,l){return o?":not("+l.trim()+")":l}function cx(o){let l=o[0],c=1,d=2,f="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ga(y)&&(l+=tg(p,f),f=""),d=y,p=p||!ga(d);c++}return""!==f&&(l+=tg(p,f)),l}const Gt={};function iw(o){hx(Ht(),Me(),Yr()+o,na())}function hx(o,l,c,d){if(!d)if(3==(3&l[2])){const p=o.preOrderCheckHooks;null!==p&&gc(l,p,c)}else{const p=o.preOrderHooks;null!==p&&_l(l,p,0,c)}Ws(c)}function y_(o,l){return o<<17|l<<2}function Ro(o){return o>>17&32767}function sw(o){return 2|o}function me(o){return(131068&o)>>2}function di(o,l){return-131069&o|l<<2}function Ct(o){return 1|o}function ag(o,l){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=o.data[p];uc(f),y.contentQueries(2,l[p],p)}}}function Nc(o,l,c,d,f,p,y,w,E,S){const M=l.blueprint.slice();return M[0]=f,M[2]=140|d,Qi(M),M[3]=M[15]=o,M[8]=c,M[10]=y||o&&o[10],M[11]=w||o&&o[11],M[12]=E||o&&o[12]||null,M[9]=S||o&&o[9]||null,M[6]=p,M[16]=2==l.type?o[16]:M,M}function Pc(o,l,c,d,f){let p=o.data[l];if(null===p)p=function lg(o,l,c,d,f){const p=gl(),y=ac(),E=o.data[l]=function xx(o,l,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,l,d,f);return null===o.firstChild&&(o.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,l,c,d,f),function lh(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function $s(){const o=gt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Li(p,!0),p}function Ml(o,l,c,d){if(0===c)return-1;const f=l.length;for(let p=0;p<c;p++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function zh(o,l,c){Na(l);try{const d=o.viewQuery;null!==d&&Sw(1,d,c);const f=o.template;null!==f&&qh(o,l,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ag(o,l),o.staticViewQueries&&Sw(2,o.viewQuery,c);const p=o.components;null!==p&&function Ex(o,l){for(let c=0;c<l.length;c++)GO(o,l[c])}(l,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,fo()}}function nd(o,l,c,d){const f=l[2];if(256==(256&f))return;Na(l);const p=na();try{Qi(l),function ia(o){return gt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&qh(o,l,c,2,d);const y=3==(3&f);if(!p)if(y){const S=o.preOrderCheckHooks;null!==S&&gc(l,S,null)}else{const S=o.preOrderHooks;null!==S&&_l(l,S,0,null),tr(l,0)}if(function I_(o){for(let l=Kp(o);null!==l;l=Qp(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(1024&f[2])&&ys(p,1),f[2]|=1024}}}(l),function VO(o){for(let l=Kp(o);null!==l;l=Qp(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];uo(d)&&nd(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&ag(o,l),!p)if(y){const S=o.contentCheckHooks;null!==S&&gc(l,S)}else{const S=o.contentHooks;null!==S&&_l(l,S,1),tr(l,1)}!function Cx(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ws(~f);else{const p=f,y=c[++d],w=c[++d];wu(y,p),w(2,l[p])}}}finally{Ws(-1)}}(o,l);const w=o.components;null!==w&&function fw(o,l){for(let c=0;c<l.length;c++)UO(o,l[c])}(l,w);const E=o.viewQuery;if(null!==E&&Sw(2,E,d),!p)if(y){const S=o.viewCheckHooks;null!==S&&gc(l,S)}else{const S=o.viewHooks;null!==S&&_l(l,S,2),tr(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ys(l[3],-1))}finally{fo()}}function Dx(o,l,c,d){const f=l[10],p=!na(),y=_s(l);try{p&&!y&&f.begin&&f.begin(),y&&zh(o,l,d),nd(o,l,c,d)}finally{p&&!y&&f.end&&f.end()}}function qh(o,l,c,d,f){const p=Yr(),y=2&d;try{Ws(-1),y&&l.length>20&&hx(o,l,20,na()),c(d,f)}finally{Ws(p)}}function cg(o,l,c){if(ll(l)){const f=l.directiveEnd;for(let p=l.directiveStart;p<f;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Wh(o,l,c){!ta()||(function ww(o,l,c,d){const f=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||ai(c,l),Gr(d,l);const y=c.initialInputs;for(let w=f;w<p;w++){const E=o.data[w],S=Fi(E);S&&BO(l,c,E);const M=Va(l,o,w,c);Gr(M,l),null!==y&&Nx(0,w-f,M,E,0,y),S&&(Wr(c.index,l)[8]=M)}}(o,l,c,Ir(c,l)),128==(128&c.flags)&&function Cw(o,l,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,w=function Fa(){return gt.lFrame.currentDirectiveIndex}();try{Ws(y);for(let E=d;E<f;E++){const S=o.data[E],M=l[E];cc(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&S_(S,M)}}finally{Ws(-1),cc(w)}}(o,l,c))}function Yh(o,l,c=Ir){const d=l.localNames;if(null!==d){let f=l.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(l,o):o[y];o[f++]=w}}}function D_(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=ug(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function ug(o,l,c,d,f,p,y,w,E,S){const M=20+d,B=M+f,Y=function pw(o,l){const c=[];for(let d=0;d<l;d++)c.push(d<o?null:Gt);return c}(M,B),te="function"==typeof S?S():S;return Y[1]={type:o,blueprint:Y,template:c,queries:null,viewQuery:w,declTNode:l,data:Y.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:te,incompleteFirstPass:!1}}function mw(o,l,c,d){const f=Iw(l);null===c?f.push(d):(f.push(c),o.firstCreatePass&&Ux(o).push(d,f.length-1))}function _w(o,l,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Es(o,l,c,d,f,p,y,w){const E=Ir(l,c);let M,S=l.inputs;!w&&null!=S&&(M=S[d])?(pg(o,c,M,d,f),qo(l)&&function Sx(o,l){const c=Wr(l,o);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function Ax(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,l.value||"",d):f,Mn(p)?p.setProperty(E,d,f):Mr(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function A_(o,l,c,d){let f=!1;if(ta()){const p=function Ew(o,l,c){const d=o.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];ma(c,y.selectors,!1)&&(f||(f=[]),ca(ai(c,l),o,y.type),Fi(y)?(kx(o,c),f.unshift(y)):f.push(y))}return f}(o,l,c),y=null===d?null:{"":-1};if(null!==p){f=!0,Fx(c,o.data.length,p.length);for(let M=0;M<p.length;M++){const B=p[M];B.providersResolver&&B.providersResolver(B)}let w=!1,E=!1,S=Ml(o,l,p.length,null);for(let M=0;M<p.length;M++){const B=p[M];c.mergedAttrs=bi(c.mergedAttrs,B.hostAttrs),dg(o,c,l,S,B),LO(S,B,y),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const Y=B.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),S++}!function Tx(o,l){const d=l.directiveEnd,f=o.data,p=l.attrs,y=[];let w=null,E=null;for(let S=l.directiveStart;S<d;S++){const M=f[S],B=M.inputs,Y=null===p||nw(l)?null:Dw(B,p);y.push(Y),w=_w(B,S,w),E=_w(M.outputs,S,E)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=E}(o,c)}y&&function Ox(o,l,c){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const p=c[l[f+1]];if(null==p)throw new Ee(-301,!1);d.push(l[f],p)}}}(c,d,y)}return c.mergedAttrs=bi(c.mergedAttrs,c.attrs),f}function vw(o,l,c,d,f,p){const y=p.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const E=~l.index;(function bw(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function S_(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function kx(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function LO(o,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=o;Fi(l)&&(c[""]=o)}}function Fx(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function dg(o,l,c,d,f){o.data[d]=f;const p=f.factory||(f.factory=yi(f.type)),y=new yl(p,Fi(f),null);o.blueprint[d]=y,c[d]=y,vw(o,l,0,d,Ml(o,c,f.hostVars,Gt),f)}function BO(o,l,c){const d=Ir(l,o),f=D_(c),p=o[10],y=fg(o,Nc(o,f,null,c.onPush?64:16,d,l,p,p.createRenderer(d,c),null,null));o[l.index]=y}function _a(o,l,c,d,f,p){const y=Ir(o,l);!function hg(o,l,c,d,f,p,y){if(null==p)Mn(o)?o.removeAttribute(l,f,c):l.removeAttribute(f);else{const w=null==y?we(p):y(p,d||"",f);Mn(o)?o.setAttribute(l,f,w,c):c?l.setAttributeNS(c,f,w):l.setAttribute(f,w)}}(l[11],y,p,o.value,c,d,f)}function Nx(o,l,c,d,f,p){const y=p[l];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const S=y[E++],M=y[E++],B=y[E++];null!==w?d.setInput(c,B,S,M):c[M]=B}}}function Dw(o,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function Rl(o,l,c,d){return new Array(o,!0,!1,l,null,0,d,c,null,null)}function UO(o,l){const c=Wr(l,o);if(uo(c)){const d=c[1];80&c[2]?nd(d,c,d.template,c[8]):c[5]>0&&M_(c)}}function M_(o){for(let d=Kp(o);null!==d;d=Qp(d))for(let f=10;f<d.length;f++){const p=d[f];if(1024&p[2]){const y=p[1];nd(y,p,y.template,p[8])}else p[5]>0&&M_(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Wr(c[d],o);uo(f)&&f[5]>0&&M_(f)}}function GO(o,l){const c=Wr(l,o),d=c[1];(function Px(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(d,c),zh(d,c,c[8])}function fg(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Tw(o){for(;o;){o[2]|=64;const l=Vh(o);if(so(o)&&!l)return o;o=l}return null}function Aw(o,l,c){const d=l[10];d.begin&&d.begin();try{nd(o,l,o.template,c)}catch(f){throw Kh(l,f),f}finally{d.end&&d.end()}}function Lx(o){!function R_(o){for(let l=0;l<o.components.length;l++){const c=o.components[l],d=Km(c),f=d[1];Dx(f,d,f.template,c)}}(o[8])}function Sw(o,l,c){uc(0),l(o,c)}const Vx=(()=>Promise.resolve(null))();function Iw(o){return o[7]||(o[7]=[])}function Ux(o){return o.cleanup||(o.cleanup=[])}function k_(o,l,c){return(null===o||Fi(o))&&(c=function oc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[l.index])),c[11]}function Kh(o,l){const c=o[9],d=c?c.get(Ku,null):null;d&&d.handleError(l)}function pg(o,l,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=l[y],S=o.data[y];null!==S.setInput?S.setInput(E,f,d,w):E[w]=f}}function kl(o,l,c){const d=js(l,o);!function zb(o,l,c){Mn(o)?o.setValue(l,c):l.textContent=c}(o[11],d,c)}function rd(o,l,c){let d=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?p=w:1==p?f=J(f,w):2==p&&(d=J(d,w+": "+l[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}const O_=new en("INJECTOR",-1);class Mw{get(l,c=T){if(c===T){const d=new Error(`NullInjectorError: No provider for ${X(l)}!`);throw d.name="NullInjectorError",d}return c}}const F_=new en("Set Injector scope."),Qh={},qO={};let Rw;function jx(){return void 0===Rw&&(Rw=new Mw),Rw}function $x(o,l=null,c=null,d){const f=zx(o,l,c,d);return f._resolveInjectorDefTypes(),f}function zx(o,l=null,c=null,d){return new WO(o,c,l||jx(),d)}class WO{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Ei(c,w=>this.processProvider(w,l,c)),Ei([l],w=>this.processInjectorType(w,[],p)),this.records.set(O_,id(void 0,this));const y=this.records.get(F_);this.scope=null!=y?y.value:null,this.source=f||("object"==typeof l?null:X(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=T,d=ct.Default){this.assertNotDestroyed();const f=Kt(this),p=pn(void 0);try{if(!(d&ct.SkipSelf)){let w=this.records.get(l);if(void 0===w){const E=function tF(o){return"function"==typeof o||"object"==typeof o&&o instanceof en}(l)&&Un(l);w=E&&this.injectableDefInScope(E)?id(kw(l),Qh):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&ct.Self?jx():this.parent).get(l,c=d&ct.Optional&&c===T?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[j]=y[j]||[]).unshift(X(l)),f)throw y;return function Eo(o,l,c,d){const f=o[j];throw l[je]&&f.unshift(l[je]),o.message=function za(o,l,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=X(l);if(Array.isArray(l))f=l.map(X).join(" -> ");else if("object"==typeof l){let p=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):X(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(ue,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[j]=null,o}(y,l,"R3InjectorError",this.source)}throw y}finally{pn(p),Kt(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(X(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processInjectorType(l,c,d){if(!(l=G(l)))return!1;let f=Wi(l);const p=null==f&&l.ngModule||void 0,y=void 0===p?l:p,w=-1!==d.indexOf(y);if(void 0!==p&&(f=Wi(p)),null==f)return!1;if(null!=f.imports&&!w){let M;d.push(y);try{Ei(f.imports,B=>{this.processInjectorType(B,c,d)&&(void 0===M&&(M=[]),M.push(B))})}finally{}if(void 0!==M)for(let B=0;B<M.length;B++){const{ngModule:Y,providers:te}=M[B];Ei(te,De=>this.processProvider(De,Y,te||pt))}}this.injectorDefTypes.add(y);const E=yi(y)||(()=>new y);this.records.set(y,id(E,Qh));const S=f.providers;if(null!=S&&!w){const M=l;Ei(S,B=>this.processProvider(B,M,S))}return void 0!==p&&void 0!==l.providers}processProvider(l,c,d){let f=Jh(l=G(l))?l:G(l&&l.provide);const p=function ZO(o,l,c){return Wx(o)?id(void 0,o.useValue):id(qx(o),Qh)}(l);if(Jh(l)||!0!==l.multi)this.records.get(f);else{let y=this.records.get(f);y||(y=id(void 0,Qh,!0),y.factory=()=>Co(y.multi),this.records.set(f,y)),f=l,y.multi.push(l)}this.records.set(f,p)}hydrate(l,c){return c.value===Qh&&(c.value=qO,c.value=c.factory()),"object"==typeof c.value&&c.value&&function eF(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=G(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function kw(o){const l=Un(o),c=null!==l?l.factory:yi(o);if(null!==c)return c;if(o instanceof en)throw new Ee(204,!1);if(o instanceof Function)return function YO(o){const l=o.length;if(l>0)throw ci(l,"?"),new Ee(204,!1);const c=function Or(o){const l=o&&(o[pi]||o[Sr]);if(l){const c=function Ar(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ee(204,!1)}function qx(o,l,c){let d;if(Jh(o)){const f=G(o);return yi(f)||kw(f)}if(Wx(o))d=()=>G(o.useValue);else if(function QO(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Co(o.deps||[]));else if(function KO(o){return!(!o||!o.useExisting)}(o))d=()=>It(G(o.useExisting));else{const f=G(o&&(o.useClass||o.provide));if(!function XO(o){return!!o.deps}(o))return yi(f)||kw(f);d=()=>new f(...Co(o.deps))}return d}function id(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function Wx(o){return null!==o&&"object"==typeof o&&St in o}function Jh(o){return"function"==typeof o}let tl=(()=>{class o{static create(c,d){var f;if(Array.isArray(c))return $x({name:""},d,c,"");{const p=null!==(f=c.name)&&void 0!==f?f:"";return $x({name:p},c.parent,c.providers,p)}}}return o.THROW_IF_NOT_FOUND=T,o.NULL=new Mw,o.\u0275prov=an({token:o,providedIn:"any",factory:()=>It(O_)}),o.__NG_ELEMENT_ID__=-1,o})();function cF(o,l){Pa(Km(o)[1],Rn())}function Nw(o){let l=function sT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;l;){let f;if(Fi(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ee(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const y=o;y.inputs=va(o.inputs),y.declaredInputs=va(o.declaredInputs),y.outputs=va(o.outputs);const w=f.hostBindings;w&&aT(o,w);const E=f.viewQuery,S=f.contentQueries;if(E&&Xh(o,E),S&&oT(o,S),ae(o.inputs,f.inputs),ae(o.declaredInputs,f.declaredInputs),ae(o.outputs,f.outputs),Fi(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(o),w===Nw&&(c=!1)}}l=Object.getPrototypeOf(l)}!function uF(o){let l=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=bi(f.hostAttrs,c=bi(c,f.hostAttrs))}}(d)}function va(o){return o===mn?{}:o===pt?[]:o}function Xh(o,l){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function oT(o,l){const c=o.contentQueries;o.contentQueries=c?(d,f,p)=>{l(d,f,p),c(d,f,p)}:l}function aT(o,l){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let gg=null;function Lc(){if(!gg){const o=qt.Symbol;if(o&&o.iterator)gg=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(gg=d)}}}return gg}function Hr(o){return!!mg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Lc()in o)}function mg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Oo(o,l,c){return o[l]=c}function hi(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function od(o,l,c,d){const f=Me();return hi(f,sa(),l)&&(Ht(),_a(Hn(),f,o,l,c,d)),od}function Fl(o,l,c,d){return hi(o,sa(),c)?l+we(c)+d:Gt}function L_(o,l,c,d,f,p,y,w){const E=Me(),S=Ht(),M=o+20,B=S.firstCreatePass?function gT(o,l,c,d,f,p,y,w,E){const S=l.consts,M=Pc(l,o,4,y||null,Pi(S,w));A_(l,c,M,Pi(S,E)),Pa(l,M);const B=M.tViews=ug(2,M,d,f,p,l.directiveRegistry,l.pipeRegistry,null,l.schemas,S);return null!==l.queries&&(l.queries.template(l,M),B.queries=l.queries.embeddedTView(M)),M}(M,S,E,l,c,d,f,p,y):S.data[M];Li(B,!1);const Y=E[11].createComment("");Uh(S,E,Y,B),Gr(Y,E),fg(E,E[M]=Rl(Y,E,Y,B)),Wo(B)&&Wh(S,E,B),null!=y&&Yh(E,B,w)}function B_(o){return function vi(o,l){return o[l]}(function lc(){return gt.lFrame.contextLView}(),20+o)}function yg(o,l=ct.Default){const c=Me();return null===c?It(o,l):Cl(Rn(),c,G(o),l)}function $w(){throw new Error("invalid")}function U_(o,l,c){const d=Me();return hi(d,sa(),l)&&Es(Ht(),Hn(),d,o,l,d[11],c,!1),U_}function zw(o,l,c,d,f){const y=f?"class":"style";pg(o,c,l.inputs[y],y,d)}function G_(o,l,c,d){const f=Me(),p=Ht(),y=20+o,w=f[11],E=f[y]=Jp(w,l,function Eu(){return gt.lFrame.currentNamespace}()),S=p.firstCreatePass?function RF(o,l,c,d,f,p,y){const w=l.consts,S=Pc(l,o,2,f,Pi(w,p));return A_(l,c,S,Pi(w,y)),null!==S.attrs&&rd(S,S.attrs,!1),null!==S.mergedAttrs&&rd(S,S.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,S),S}(y,p,f,0,l,c,d):p.data[y];Li(S,!0);const M=S.mergedAttrs;null!==M&&at(w,E,M);const B=S.classes;null!==B&&__(w,E,B);const Y=S.styles;return null!==Y&&m_(w,E,Y),64!=(64&S.flags)&&Uh(p,f,E,S),0===function vu(){return gt.lFrame.elementDepthCount}()&&Gr(E,f),function ea(){gt.lFrame.elementDepthCount++}(),Wo(S)&&(Wh(p,f,S),cg(p,S,f)),null!==d&&Yh(f,S),G_}function H_(){let o=Rn();ac()?Oa():(o=o.parent,Li(o,!1));const l=o;!function bu(){gt.lFrame.elementDepthCount--}();const c=Ht();return c.firstCreatePass&&(Pa(c,o),ll(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Tu(o){return 0!=(16&o.flags)}(l)&&zw(c,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function jm(o){return 0!=(32&o.flags)}(l)&&zw(c,l,Me(),l.stylesWithoutHost,!1),H_}function qw(o,l,c,d){return G_(o,l,c,d),H_(),qw}function j_(o,l,c){const d=Me(),f=Ht(),p=o+20,y=f.firstCreatePass?function kF(o,l,c,d,f){const p=l.consts,y=Pi(p,d),w=Pc(l,o,8,"ng-container",y);return null!==y&&rd(w,y,!0),A_(l,c,w,Pi(p,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(p,f,d,l,c):f.data[p];Li(y,!0);const w=d[p]=d[11].createComment("");return Uh(f,d,w,y),Gr(w,d),Wo(y)&&(Wh(f,d,y),cg(f,y,d)),null!=c&&Yh(d,y),j_}function $_(){let o=Rn();const l=Ht();return ac()?Oa():(o=o.parent,Li(o,!1)),l.firstCreatePass&&(Pa(l,o),ll(o)&&l.queries.elementEnd(o)),$_}function Ww(o,l,c){return j_(o,l,c),$_(),Ww}function IT(){return Me()}function Yw(o){return!!o&&"function"==typeof o.then}function MT(o){return!!o&&"function"==typeof o.subscribe}const RT=MT;function Zw(o,l,c,d){const f=Me(),p=Ht(),y=Rn();return kT(p,f,f[11],y,o,l,!!c,d),Zw}function Kw(o,l){const c=Rn(),d=Me(),f=Ht();return kT(f,d,k_(zs(f.data),c,d),c,o,l,!1),Kw}function kT(o,l,c,d,f,p,y,w){const E=Wo(d),M=o.firstCreatePass&&Ux(o),B=l[8],Y=Iw(l);let te=!0;if(3&d.type||w){const He=Ir(d,l),Xe=w?w(He):He,Ie=Y.length,mt=w?hn=>w(An(hn[d.index])):d.index;if(Mn(c)){let hn=null;if(!w&&E&&(hn=function OF(o,l,c,d){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=l[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(o,l,f,d.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=p,hn.__ngLastListenerFn__=p,te=!1;else{p=Qw(d,l,B,p,!1);const wn=c.listen(Xe,f,p);Y.push(p,wn),M&&M.push(f,mt,Ie,Ie+1)}}else p=Qw(d,l,B,p,!0),Xe.addEventListener(f,p,y),Y.push(p),M&&M.push(f,mt,Ie,y)}else p=Qw(d,l,B,p,!1);const De=d.outputs;let Pe;if(te&&null!==De&&(Pe=De[f])){const He=Pe.length;if(He)for(let Xe=0;Xe<He;Xe+=2){const os=l[Pe[Xe]][Pe[Xe+1]].subscribe(p),Zc=Y.length;Y.push(p,os),M&&M.push(f,d.index,Zc,-(Zc+1))}}}function OT(o,l,c,d){try{return!1!==c(d)}catch(f){return Kh(o,f),!1}}function Qw(o,l,c,d,f){return function p(y){if(y===Function)return d;const w=2&o.flags?Wr(o.index,l):l;0==(32&l[2])&&Tw(w);let E=OT(l,0,d,y),S=p.__ngNextListenerFn__;for(;S;)E=OT(l,0,S,y)&&E,S=S.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function FT(o=1){return function qs(o){return(gt.lFrame.contextLView=function fc(o,l){for(;o>0;)l=l[15],o--;return l}(o,gt.lFrame.contextLView))[8]}(o)}function FF(o,l){let c=null;const d=function Rc(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let f=0;f<l.length;f++){const p=l[f];if("*"!==p){if(null===d?ma(o,p,!0):lx(d,p))return f}else c=f}return c}function NT(o){const l=Me()[16][6];if(!l.projection){const d=l.projection=ci(o?o.length:1,null),f=d.slice();let p=l.child;for(;null!==p;){const y=o?FF(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function PT(o,l=0,c){const d=Me(),f=Ht(),p=Pc(f,20+o,16,null,c||null);null===p.projection&&(p.projection=l),Oa(),64!=(64&p.flags)&&function Xb(o,l,c){ew(l[11],0,l,c,Yb(o,c,l),Qb(c.parent||l[6],c,l))}(f,d,p)}function Jw(o,l,c){return Xw(o,"",l,"",c),Jw}function Xw(o,l,c,d,f){const p=Me(),y=Fl(p,l,c,d);return y!==Gt&&Es(Ht(),Hn(),p,o,y,p[11],f,!1),Xw}function zT(o,l,c,d,f){const p=o[c+1],y=null===l;let w=d?Ro(p):me(p),E=!1;for(;0!==w&&(!1===E||y);){const M=o[w+1];LF(o[w],l)&&(E=!0,o[w+1]=d?Ct(M):sw(M)),w=d?Ro(M):me(M)}E&&(o[c+1]=d?sw(p):Ct(p))}function LF(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Js(o,l)>=0}function Pl(o,l,c){return Fo(o,l,c,!1),Pl}function ud(o,l){return Fo(o,l,null,!0),ud}function Fo(o,l,c,d){const f=Me(),p=Ht(),y=function oi(o){const l=gt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}(2);p.firstUpdatePass&&function dd(o,l,c,d){const f=o.data;if(null===f[c+1]){const p=f[Yr()],y=function eC(o,l){return l>=o.expandoStartIndex}(o,c);(function On(o,l){return 0!=(o.flags&(l?16:32))})(p,d)&&null===l&&!y&&(l=!1),l=function eA(o,l,c,d){const f=zs(o);let p=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Ft(c=z_(null,o,l,c,d),l.attrs,d),p=null);else{const y=l.directiveStylingLast;if(-1===y||o[y]!==f)if(c=z_(f,o,l,c,d),null===p){let E=function tA(o,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==me(d))return o[Ro(d)]}(o,l,d);void 0!==E&&Array.isArray(E)&&(E=z_(null,o,l,E[1],d),E=Ft(E,l.attrs,d),function tn(o,l,c,d){o[Ro(c?l.classBindings:l.styleBindings)]=d}(o,l,d,E))}else p=function nA(o,l,c){let d;const f=l.directiveEnd;for(let p=1+l.directiveStylingLast;p<f;p++)d=Ft(d,o[p].hostAttrs,c);return Ft(d,l.attrs,c)}(o,l,d)}return void 0!==p&&(d?l.residualClasses=p:l.residualStyles=p),c}(f,p,l,d),function NF(o,l,c,d,f,p){let y=p?l.classBindings:l.styleBindings,w=Ro(y),E=me(y);o[d]=c;let M,S=!1;if(Array.isArray(c)){const B=c;M=B[1],(null===M||Js(B,M)>0)&&(S=!0)}else M=c;if(f)if(0!==E){const Y=Ro(o[w+1]);o[d+1]=y_(Y,w),0!==Y&&(o[Y+1]=di(o[Y+1],d)),o[w+1]=function AO(o,l){return 131071&o|l<<17}(o[w+1],d)}else o[d+1]=y_(w,0),0!==w&&(o[w+1]=di(o[w+1],d)),w=d;else o[d+1]=y_(E,0),0===w?w=d:o[E+1]=di(o[E+1],d),E=d;S&&(o[d+1]=sw(o[d+1])),zT(o,M,d,!0),zT(o,M,d,!1),function PF(o,l,c,d,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof l&&Js(p,l)>=0&&(c[d+1]=Ct(c[d+1]))}(l,M,o,d,p),y=y_(w,E),p?l.classBindings=y:l.styleBindings=y}(f,p,l,c,y,d)}}(p,o,y,d),l!==Gt&&hi(f,y,l)&&function rA(o,l,c,d,f,p,y,w){if(!(3&l.type))return;const E=o.data,S=E[w+1];q_(function kc(o){return 1==(1&o)}(S)?wa(E,l,c,f,me(S),y):void 0)||(q_(p)||function px(o){return 2==(2&o)}(S)&&(p=wa(E,null,c,f,w,y)),function sx(o,l,c,d,f){const p=Mn(o);if(l)f?p?o.addClass(c,d):c.classList.add(d):p?o.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Mo.DashCase;if(null==f)p?o.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),y|=Mo.Important),p?o.setStyle(c,d,f,y):c.style.setProperty(d,f,w?"important":"")}}}(d,y,js(Yr(),c),f,p))}(p,p.data[Yr()],f,f[11],o,f[y+1]=function W_(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=X(So(o)))),o}(l,c),d,y)}function z_(o,l,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=l[w],d=Ft(d,p.hostAttrs,f),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Ft(o,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let p=0;p<l.length;p++){const y=l[p];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),hr(o,y,!!c||l[++p]))}return void 0===o?null:o}function wa(o,l,c,d,f,p){const y=null===l;let w;for(;f>0;){const E=o[f],S=Array.isArray(E),M=S?E[1]:E,B=null===M;let Y=c[f+1];Y===Gt&&(Y=B?pt:void 0);let te=B?Dl(Y,d):M===d?Y:void 0;if(S&&!q_(te)&&(te=Dl(E,d)),q_(te)&&(w=te,y))return w;const De=o[f+1];f=y?Ro(De):me(De)}if(null!==l){let E=p?l.residualClasses:l.residualStyles;null!=E&&(w=Dl(E,d))}return w}function q_(o){return void 0!==o}function Bc(o,l=""){const c=Me(),d=Ht(),f=o+20,p=d.firstCreatePass?Pc(d,f,1,l,null):d.data[f],y=c[f]=function r_(o,l){return Mn(o)?o.createText(l):o.createTextNode(l)}(c[11],l);Uh(d,c,y,p),Li(p,!1)}function Ll(o){return cf("",o,""),Ll}function cf(o,l,c){const d=Me(),f=Fl(d,o,l,c);return f!==Gt&&kl(d,Yr(),f),cf}function vg(o,l,c){const d=Me();return hi(d,sa(),l)&&Es(Ht(),Hn(),d,o,l,d[11],c,!0),vg}function ey(o,l,c){const d=Me();if(hi(d,sa(),l)){const p=Ht(),y=Hn();Es(p,y,d,o,l,k_(zs(p.data),y,d),c,!0)}return ey}const Vc=void 0;var yA=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _A(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let gd={};function ty(o){const l=function bA(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=lC(l);if(c)return c;const d=l.split("-")[0];if(c=lC(d),c)return c;if("en"===d)return yA;throw new Error(`Missing locale data for the locale "${o}".`)}function ny(o){return ty(o)[wt.PluralCase]}function lC(o){return o in gd||(gd[o]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[o]),gd[o]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const ry="en-US";let wA=ry;function py(o,l,c,d,f){if(o=G(o),Array.isArray(o))for(let p=0;p<o.length;p++)py(o[p],l,c,d,f);else{const p=Ht(),y=Me();let w=Jh(o)?o:G(o.provide),E=qx(o);const S=Rn(),M=1048575&S.providerIndexes,B=S.directiveStart,Y=S.providerIndexes>>20;if(Jh(o)||!o.multi){const te=new yl(E,f,yg),De=MC(w,l,f?M:M+Y,B);-1===De?(ca(ai(S,y),p,w),gy(p,o,l.length),l.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(te),y.push(te)):(c[De]=te,y[De]=te)}else{const te=MC(w,l,M+Y,B),De=MC(w,l,M,M+Y),Pe=te>=0&&c[te],He=De>=0&&c[De];if(f&&!He||!f&&!Pe){ca(ai(S,y),p,w);const Xe=function Hl(o,l,c,d,f){const p=new yl(o,c,yg);return p.multi=[],p.index=l,p.componentProviders=0,IC(p,f,d&&!c),p}(f?YA:WA,c.length,f,d,E);!f&&He&&(c[De].providerFactory=Xe),gy(p,o,l.length,0),l.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(Xe),y.push(Xe)}else gy(p,o,te>-1?te:De,IC(c[f?De:te],E,!f&&d));!f&&d&&He&&c[De].componentProviders++}}}function gy(o,l,c,d){const f=Jh(l),p=function JO(o){return!!o.useClass}(l);if(f||p){const E=(p?G(l.useClass):l).prototype.ngOnDestroy;if(E){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const M=S.indexOf(c);-1===M?S.push(c,[d,E]):S[M+1].push(d,E)}else S.push(c,E)}}}function IC(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function MC(o,l,c,d){for(let f=c;f<d;f++)if(l[f]===o)return f;return-1}function WA(o,l,c,d){return _f(this.multi,[])}function YA(o,l,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Va(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),_f(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],_f(f,p);return p}function _f(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function my(o,l=[]){return c=>{c.providersResolver=(d,f)=>function qA(o,l,c){const d=Ht();if(d.firstCreatePass){const f=Fi(o);py(c,d.data,d.blueprint,f,!0),py(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class Cg{}class vy{resolveComponentFactory(l){throw function yy(o){const l=Error(`No component factory found for ${X(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let yf=(()=>{class o{}return o.NULL=new vy,o})();function RC(){return jl(Rn(),Me())}function jl(o,l){return new Eg(Ir(o,l))}let Eg=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=RC,o})();function KA(o){return o instanceof Eg?o.nativeElement:o}class by{}let kC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function OC(){const o=Me(),c=Wr(Rn().index,o);return function QA(o){return o[11]}(Br(c)?c:o)}(),o})(),FC=(()=>{class o{}return o.\u0275prov=an({token:o,providedIn:"root",factory:()=>null}),o})();class JA{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const wy=new JA("13.3.5"),vf={};function Dg(o,l,c,d,f=!1){for(;null!==c;){const p=l[c.index];if(null!==p&&d.push(An(p)),_i(p))for(let w=10;w<p.length;w++){const E=p[w],S=E[1].firstChild;null!==S&&Dg(E[1],E,S,d)}const y=c.type;if(8&y)Dg(o,l,c.child,d);else if(32&y){const w=e_(c,l);let E;for(;E=w();)d.push(E)}else if(16&y){const w=rx(l,c);if(Array.isArray(w))d.push(...w);else{const E=Vh(l[16]);Dg(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Ed{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Dg(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(_i(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(a_(l,d),wo(c,d))}this._attachedToViewContainer=!1}qb(this._lView[1],this._lView)}onDestroy(l){mw(this._lView[1],this._lView,null,l)}markForCheck(){Tw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Aw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jO(o,l,c){ra(!0);try{Aw(o,l,c)}finally{ra(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XD(o,l){Gh(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ee(902,"");this._appRef=l}}class XA extends Ed{constructor(l){super(l),this._view=l}detectChanges(){Lx(this._view)}checkNoChanges(){!function $O(o){ra(!0);try{Lx(o)}finally{ra(!1)}}(this._view)}get context(){return null}}class xg extends yf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=$e(l);return new Sg(c,this.ngModule)}}function bf(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class Sg extends Cg{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function ux(o){return o.map(cx).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return bf(this.componentDef.inputs)}get outputs(){return bf(this.componentDef.outputs)}create(l,c,d,f){const p=(f=f||this.ngModule)?function Ag(o,l){return{get:(c,d,f)=>{const p=o.get(c,vf,f);return p!==vf||d===vf?p:l.get(c,d,f)}}}(l,f.injector):l,y=p.get(by,lo),w=p.get(FC,null),E=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=d?function gw(o,l,c){if(Mn(o))return o.selectRootElement(l,c===$t.ShadowDom);let d="string"==typeof l?o.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Jp(y.createRenderer(null,this.componentDef),S,function Tg(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(S)),B=this.componentDef.onPush?576:528,Y=function iT(o,l){return{components:[],scheduler:o||Bh,clean:Vx,playerHandler:l||null,flags:0}}(),te=ug(0,null,null,1,0,null,null,null,null,null),De=Nc(null,te,Y,B,null,null,y,E,w,p);let Pe,He;Na(De);try{const Xe=function nT(o,l,c,d,f,p){const y=c[1];c[20]=o;const E=Pc(y,20,2,"#host",null),S=E.mergedAttrs=l.hostAttrs;null!==S&&(rd(E,S,!0),null!==o&&(at(f,o,S),null!==E.classes&&__(f,o,E.classes),null!==E.styles&&m_(f,o,E.styles)));const M=d.createRenderer(o,l),B=Nc(c,D_(l),null,l.onPush?64:16,c[20],E,d,M,p||null,null);return y.firstCreatePass&&(ca(ai(E,c),y,l.type),kx(y,E),Fx(E,c.length,1)),fg(c,B),c[20]=B}(M,this.componentDef,De,y,E);if(M)if(d)at(E,M,["ng-version",wy.full]);else{const{attrs:Ie,classes:mt}=function dx(o){const l=[],c=[];let d=1,f=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===f?""!==p&&l.push(p,o[++d]):8===f&&c.push(p);else{if(!ga(f))break;f=p}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ie&&at(E,M,Ie),mt&&mt.length>0&&__(E,M,mt.join(" "))}if(He=pl(te,20),void 0!==c){const Ie=He.projection=[];for(let mt=0;mt<this.ngContentSelectors.length;mt++){const hn=c[mt];Ie.push(null!=hn?Array.from(hn):null)}}Pe=function rT(o,l,c,d,f){const p=c[1],y=function Rx(o,l,c){const d=Rn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),dg(o,d,l,Ml(o,l,1,null),c));const f=Va(l,o,d.directiveStart,d);Gr(f,l);const p=Ir(d,l);return p&&Gr(p,l),f}(p,c,l);if(d.components.push(y),o[8]=y,f&&f.forEach(E=>E(y,l)),l.contentQueries){const E=Rn();l.contentQueries(1,y,E.directiveStart)}const w=Rn();return!p.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ws(w.index),vw(c[1],w,0,w.directiveStart,w.directiveEnd,l),S_(l,y)),y}(Xe,this.componentDef,De,Y,[cF]),zh(te,De,null)}finally{fo()}return new Ey(this.componentType,Pe,jl(He,De),De,He)}}class Ey extends class _y{}{constructor(l,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new XA(f),this.componentType=l}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class xd{}class Uc{}const Gc=new Map;class PC extends xd{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xg(this);const d=xt(l);this._bootstrapComponents=pa(d.bootstrap),this._r3Injector=zx(l,c,[{provide:xd,useValue:this},{provide:yf,useValue:this.componentFactoryResolver}],X(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=tl.THROW_IF_NOT_FOUND,d=ct.Default){return l===tl||l===xd||l===O_?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class wf extends Uc{constructor(l){super(),this.moduleType=l,null!==xt(l)&&function NC(o){const l=new Set;!function c(d){const f=xt(d,!0),p=f.id;null!==p&&(function Dy(o,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${o} - ${X(l)} vs ${X(l.name)}`)}(p,Gc.get(p),d),Gc.set(p,d));const y=pa(f.imports);for(const w of y)l.has(w)||(l.add(w),c(w))}(o)}(l)}create(l){return new PC(this.moduleType,l)}}function Cf(o,l,c,d){return function Df(o,l,c,d,f,p){const y=l+c;return hi(o,y,f)?Oo(o,y+1,p?d.call(p,f):d(f)):zl(o,y+1)}(Me(),dr(),o,l,c,d)}function Ef(o,l,c,d,f){return function VC(o,l,c,d,f,p,y){const w=l+c;return function Ol(o,l,c,d){const f=hi(o,l,c);return hi(o,l+1,d)||f}(o,w,f,p)?Oo(o,w+2,y?d.call(y,f,p):d(f,p)):zl(o,w+2)}(Me(),dr(),o,l,c,d,f)}function zl(o,l){const c=o[l];return c===Gt?void 0:c}function Ty(o){return l=>{setTimeout(o,void 0,l)}}const Xs=class HC extends s.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,p,y;let w=l,E=c||(()=>null),S=d;if(l&&"object"==typeof l){const B=l;w=null===(f=B.next)||void 0===f?void 0:f.bind(B),E=null===(p=B.error)||void 0===p?void 0:p.bind(B),S=null===(y=B.complete)||void 0===y?void 0:y.bind(B)}this.__isAsync&&(E=Ty(E),w&&(w=Ty(w)),S&&(S=Ty(S)));const M=super.subscribe({next:w,error:E,complete:S});return l instanceof H.w&&l.add(M),M}};function jC(){return this._results[Lc()]()}class Fg{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Lc(),d=Fg.prototype;d[c]||(d[c]=jC)}get changes(){return this._changes||(this._changes=new Xs)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=on(l);(this._changesDetected=!function Ci(o,l,c){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],p=l[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xf=(()=>{class o{}return o.__NG_ELEMENT_ID__=uS,o})();const lS=xf,cS=class extends lS{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=Nc(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),zh(c,d,l),new Ed(d)}};function uS(){return jc(Rn(),Me())}function jc(o,l){return 4&o.type?new cS(l,o,jl(o,l)):null}let Ng=(()=>{class o{}return o.__NG_ELEMENT_ID__=$c,o})();function $c(){return $C(Rn(),Me())}const Ay=Ng,Pg=class extends Ay{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return jl(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const l=yr(this._hostTNode,this._hostLView);if(cn(l)){const c=Ys(l,this._hostLView),d=bs(l);return new Zs(c[1].data[d+8],c)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Tf(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,p){const y=l&&!function bo(o){return"function"==typeof o}(l);let w;if(y)w=c;else{const B=c||{};w=B.index,d=B.injector,f=B.projectableNodes,p=B.ngModuleRef}const E=y?l:new Sg($e(l)),S=d||this.parentInjector;if(!p&&null==E.ngModule){const Y=(y?S:this.parentInjector).get(xd,null);Y&&(p=Y)}const M=E.create(S,f,void 0,p);return this.insert(M.hostView,w),M}insert(l,c){const d=l._lView,f=d[1];if(function Xo(o){return _i(o[3])}(d)){const M=this.indexOf(l);if(-1!==M)this.detach(M);else{const B=d[3],Y=new Pg(B,B[6],B[3]);Y.detach(Y.indexOf(l))}}const p=this._adjustIndex(c),y=this._lContainer;!function tx(o,l,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=l),d<p-10?(l[4]=c[f],Ur(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const y=l[17];null!==y&&c!==y&&function s_(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(o),l[2]|=128}(f,d,y,p);const w=Xa(p,y),E=d[11],S=Il(E,y[7]);return null!==S&&function i_(o,l,c,d,f,p){d[0]=f,d[6]=l,Gh(o,d,c,1,f,p)}(f,y[6],E,d,S,w),l.attachToViewContainerRef(),Ur(Sy(y),p,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Tf(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=a_(this._lContainer,c);d&&(wo(Sy(this._lContainer),c),qb(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=a_(this._lContainer,c);return d&&null!=wo(Sy(this._lContainer),c)?new Ed(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function Tf(o){return o[8]}function Sy(o){return o[8]||(o[8]=[])}function $C(o,l){let c;const d=l[o.index];if(_i(d))c=d;else{let f;if(8&o.type)f=An(d);else{const p=l[11];f=p.createComment("");const y=Ir(o,l);rr(p,Il(p,y),f,function Xu(o,l){return Mn(o)?o.nextSibling(l):l.nextSibling}(p,y),!1)}l[o.index]=c=Rl(d,l,f,o),fg(l,c)}return new Pg(c,o,l)}class Af{constructor(l){this.queryList=l,this.matches=null}clone(){return new Af(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iy{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new Iy(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==QC(l,c).matches&&this.queries[c].setDirty()}}class Sf{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class If{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(l,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new If(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ad{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Ad(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(l,c,fS(c,p)),this.matchTNodeWithReadOption(l,c,Ba(c,l,p,!1,!1))}else d===xf?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Ba(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Eg||f===Ng||f===xf&&4&c.type)this.addMatch(c.index,-2);else{const p=Ba(c,l,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function fS(o,l){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function pS(o,l,c,d){return-1===c?function zC(o,l){return 11&o.type?jl(o,l):4&o.type?jc(o,l):null}(l,o):-2===c?function f1(o,l,c){return c===Eg?jl(l,o):c===xf?jc(l,o):c===Ng?$C(l,o):void 0}(o,l,d):Va(o,o[1],c,l)}function Lg(o,l,c,d){const f=l[19].queries[d];if(null===f.matches){const p=o.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:pS(l,p[S],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function qC(o,l,c,d){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const y=Lg(o,l,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const S=p[w+1],M=l[-E];for(let B=10;B<M.length;B++){const Y=M[B];Y[17]===Y[3]&&qC(Y[1],Y,S,d)}if(null!==M[9]){const B=M[9];for(let Y=0;Y<B.length;Y++){const te=B[Y];qC(te[1],te,S,d)}}}}}return d}function WC(o){const l=Me(),c=Ht(),d=ch();uc(d+1);const f=QC(c,d);if(o.dirty&&_s(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?qC(c,l,d,[]):Lg(c,l,f,d);o.reset(p,KA),o.notifyOnChanges()}return!0}return!1}function YC(o,l,c){const d=Ht();d.firstCreatePass&&(KC(d,new Sf(o,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),ky(d,Me(),l)}function ZC(o,l,c,d){const f=Ht();if(f.firstCreatePass){const p=Rn();KC(f,new Sf(l,c,d),p.index),function gS(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}ky(f,Me(),c)}function My(){return function Ry(o,l){return o[19].queries[l].queryList}(Me(),ch())}function ky(o,l,c){const d=new Fg(4==(4&c));mw(o,l,d,d.destroy),null===l[19]&&(l[19]=new Iy),l[19].queries.push(new Af(d))}function KC(o,l,c){null===o.queries&&(o.queries=new If),o.queries.track(new Ad(l,c))}function QC(o,l){return o.queries.getByIndex(l)}function JC(o,l){return jc(o,l)}function jg(...o){}const Uy=new en("Application Initializer");let $g=(()=>{class o{constructor(c){this.appInits=c,this.resolve=jg,this.reject=jg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Yw(p))c.push(p);else if(RT(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(It(Uy,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const h0=new en("AppId",{providedIn:"root",factory:function f0(){return`${Gy()}${Gy()}${Gy()}`}});function Gy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const p0=new en("Platform Initializer"),IS=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),g0=new en("appBootstrapListener");let C1=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const m0=new en("LocaleId",{providedIn:"root",factory:()=>$a(m0,ct.Optional|ct.SkipSelf)||function E1(){return"undefined"!=typeof $localize&&$localize.locale||ry}()}),_0=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Id{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Ff=(()=>{class o{compileModuleSync(c){return new wf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=pa(xt(c).declarations).reduce((y,w)=>{const E=$e(w);return E&&y.push(new Sg(E)),y},[]);return new Id(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const MS=(()=>Promise.resolve(0))();function y0(o){"undefined"==typeof Zone?MS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Lo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xs(!1),this.onMicrotaskEmpty=new Xs(!1),this.onStable=new Xs(!1),this.onError=new Xs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function RS(){let o=qt.requestAnimationFrame,l=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function kS(o){const l=()=>{!function Wc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(qt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,b0(o),o.isCheckStableRunning=!0,Hy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),b0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return w0(o),c.invokeTask(f,p,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&l(),C0(o)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return w0(o),c.invoke(f,p,y,w,E)}finally{o.shouldCoalesceRunChangeDetection&&l(),C0(o)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,b0(o),Hy(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,l,v0,jg,jg);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const v0={};function Hy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function b0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function w0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function C0(o){o._nesting--,Hy(o)}class OS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xs,this.onMicrotaskEmpty=new Xs,this.onStable=new Xs,this.onError=new Xs}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let Nf=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(It(Lo))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})(),FS=(()=>{class o{constructor(){this._applications=new Map,jy.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return jy.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class NS{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function PS(o){jy=o}let jy=new NS,Md=null;const LS=new en("AllowMultipleToken"),$y=new en("PlatformOnDestroy");class D0{constructor(l,c){this.name=l,this.token=c}}function zy(o,l,c=[]){const d=`Platform: ${l}`,f=new en(d);return(p=[])=>{let y=zg();if(!y||y.injector.get(LS,!1)){const w=[...c,...p,{provide:f,useValue:!0}];o?o(w):function VS(o){if(Md&&!Md.get(LS,!1))throw new Ee(400,"");Md=o;const l=o.get(Wy),c=o.get(p0,null);c&&c.forEach(d=>d())}(function qy(o=[],l){return tl.create({name:l,providers:[{provide:F_,useValue:"platform"},{provide:$y,useValue:()=>Md=null},...o]})}(w,d))}return function US(o){const l=zg();if(!l)throw new Ee(401,"");return l}()}}function zg(){var o;return null!==(o=null==Md?void 0:Md.get(Wy))&&void 0!==o?o:null}let Wy=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function HS(o,l){let c;return c="noop"===o?new OS:("zone.js"===o?void 0:o)||new Lo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Lo,useValue:w}];return w.run(()=>{const S=tl.create({providers:E,parent:this.injector,name:c.moduleType.name}),M=c.create(S),B=M.injector.get(Ku,null);if(!B)throw new Ee(402,"");return w.runOutsideAngular(()=>{const Y=w.onError.subscribe({next:te=>{B.handleError(te)}});M.onDestroy(()=>{Rd(this._modules,M),Y.unsubscribe()})}),function jS(o,l,c){try{const d=c();return Yw(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(B,w,()=>{const Y=M.injector.get($g);return Y.runInitializers(),Y.donePromise.then(()=>(function t1(o){fn(o,"Expected localeId to be defined"),"string"==typeof o&&(wA=o.toLowerCase().replace(/_/g,"-"))}(M.injector.get(m0,ry)||ry),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,d=[]){const f=qg({},d);return function E0(o,l,c){const d=new wf(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(Bo);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ee(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get($y,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(It(tl))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function qg(o,l){return Array.isArray(l)?l.reduce(qg,o):Object.assign(Object.assign({},o),l)}let Bo=(()=>{class o{constructor(c,d,f,p){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new k.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new k.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(y,w.pipe((0,oe.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ee(405,"");let f;f=c instanceof Cg?c:this._injector.get(yf).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const p=function Pf(o){return o.isBoundToModule}(f)?void 0:this._injector.get(xd),w=f.create(tl.NULL,[],d||f.selector,p),E=w.location.nativeElement,S=w.injector.get(Nf,null),M=S&&w.injector.get(FS);return S&&M&&M.registerApplication(E,S),w.onDestroy(()=>{this.detachView(w.hostView),Rd(this.components,w),M&&M.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ee(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Rd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(g0,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(It(Lo),It(tl),It(Ku),It($g))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Rd(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let Ky=!0,x0=!1;function $S(){return x0=!0,Ky}function T0(){if(x0)throw new Error("Cannot enable prod mode after platform setup.");Ky=!1}let qS=(()=>{class o{}return o.__NG_ELEMENT_ID__=WS,o})();function WS(o){return function A1(o,l,c){if(qo(o)&&!c){const d=Wr(o.index,l);return new Ed(d,d)}return 47&o.type?new Ed(l[16],l):null}(Rn(),Me(),16==(16&o))}class Xy{constructor(){}supports(l){return Hr(l)}create(l){return new F1(l)}}const Wl=(o,l)=>l;class F1{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Wl}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<tv(d,f,p)?c:d,w=tv(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const S=w-f,M=E-f;if(S!=M){for(let Y=0;Y<S;Y++){const te=Y<p.length?p[Y]:p[Y]=0,De=te+Y;M<=De&&De<S&&(p[Y]=te+1)}p[y.previousIndex]=M-S}}w!==E&&l(y,w,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Hr(l))throw new Ee(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)p=l[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function uT(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[Lc()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let p;return null===l?p=this._itTail:(p=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,p,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,p,f)):l=this._addAfter(new QS(c,d),p,f),l}_verifyReinsertion(l,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?l=this._reinsertAfter(p,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,p=l._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new ev),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ev),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class QS{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ev{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new JS,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tv(o,l,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class nv{constructor(){}supports(l){return l instanceof Map||mg(l)}create(){return new XS}}class XS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||mg(l)))throw new Ee(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new Lf(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class Lf{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cr(){return new Bf([new Xy])}let Bf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Cr()),deps:[[o,new Do,new qa]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ee(901,"")}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Cr}),o})();function Vf(){return new Kg([new nv])}let Kg=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Vf()),deps:[[o,new Do,new qa]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Ee(901,"")}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Vf}),o})();const nI=zy(null,"core",[]);let N1=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(It(Bo))},o.\u0275mod=F({type:o}),o.\u0275inj=ln({}),o})()},3942:(ot,Ae,N)=>{N.d(Ae,{Z:()=>Ee});var s=N(2090),H=N(4859),k=N(9681),se=N(1877);class oe{constructor(we,xe){this._delegate=we,this.firebase=xe,(0,k._addComponent)(we,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(we,xe=k._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(we);return!Ke.isInitialized()&&"EXPLICIT"===(null===(Ve=Ke.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:xe})}_removeServiceInstance(we,xe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(xe)}_addComponent(we){(0,k._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,k._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function J(){const _e=function X(_e){const we={},xe={__esModule:!0,initializeApp:function _t(Ce,Zt={}){const rt=k.initializeApp(Ce,Zt);if((0,s.r3)(we,rt.name))return we[rt.name];const le=new _e(rt,xe);return we[rt.name]=le,le},app:Ke,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Dt(Ce){const Zt=Ce.name,rt=Zt.replace("-compat","");if(k._registerComponent(Ce)&&"PUBLIC"===Ce.type){const le=(ce=Ke())=>{if("function"!=typeof ce[rt])throw ae.create("invalid-app-argument",{appName:Zt});return ce[rt]()};void 0!==Ce.serviceProps&&(0,s.ZB)(le,Ce.serviceProps),xe[rt]=le,_e.prototype[rt]=function(...ce){return this._getService.bind(this,Zt).apply(this,Ce.multipleInstances?ce:[])}}return"PUBLIC"===Ce.type?xe[rt]:null},removeApp:function Ve(Ce){delete we[Ce]},useAsService:function Ln(Ce,Zt){return"serverAuth"===Zt?null:Zt},modularAPIs:k}};function Ke(Ce){if(!(0,s.r3)(we,Ce=Ce||k._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ce});return we[Ce]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function un(){return Object.keys(we).map(Ce=>we[Ce])}}),Ke.App=_e,xe}(oe);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function we(xe){(0,s.ZB)(_e,xe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),_e}(),q=new se.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=P;!function be(_e){(0,k.registerVersion)("@firebase/app-compat","0.1.23",_e)}()},9681:(ot,Ae,N)=>{N.r(Ae),N.d(Ae,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>lr,_addOrOverwriteComponent:()=>Vn,_apps:()=>Ue,_clearComponents:()=>Un,_components:()=>rn,_getProvider:()=>sn,_registerComponent:()=>an,_removeServiceInstance:()=>ln,deleteApp:()=>hs,getApp:()=>_r,getApps:()=>Sr,initializeApp:()=>pi,onLog:()=>$n,registerVersion:()=>Fr,setLogLevel:()=>pn});var s=N(5861),H=N(4859),k=N(1877),se=N(2090);class oe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function Q(Ge){const Se=Ge.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Qe)){const dt=Qe.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Qe=>Qe).join(" ")}}const ae="@firebase/app",X="0.7.22",J=new k.Yd("@firebase/app"),nn="[DEFAULT]",fn={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ue=new Map,rn=new Map;function lr(Ge,Se){try{Ge.container.addComponent(Se)}catch(Qe){J.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ge.name}`,Qe)}}function Vn(Ge,Se){Ge.container.addOrOverwriteComponent(Se)}function an(Ge){const Se=Ge.name;if(rn.has(Se))return J.debug(`There were multiple attempts to register component ${Se}.`),!1;rn.set(Se,Ge);for(const Qe of Ue.values())lr(Qe,Ge);return!0}function sn(Ge,Se){const Qe=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),Ge.container.getProvider(Se)}function ln(Ge,Se,Qe=nn){sn(Ge,Se).clearInstance(Qe)}function Un(){rn.clear()}const Or=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ar{constructor(Se,Qe,dt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const Wi="9.7.0";function pi(Ge,Se={}){"object"!=typeof Se&&(Se={name:Se});const Qe=Object.assign({name:nn,automaticDataCollectionEnabled:!1},Se),dt=Qe.name;if("string"!=typeof dt||!dt)throw Or.create("bad-app-name",{appName:String(dt)});const Pt=Ue.get(dt);if(Pt){if((0,se.vZ)(Ge,Pt.options)&&(0,se.vZ)(Qe,Pt.config))return Pt;throw Or.create("duplicate-app",{appName:dt})}const Lt=new H.H0(dt);for(const $ of rn.values())Lt.addComponent($);const Z=new Ar(Ge,Qe,Lt);return Ue.set(dt,Z),Z}function _r(Ge=nn){const Se=Ue.get(Ge);if(!Se)throw Or.create("no-app",{appName:Ge});return Se}function Sr(){return Array.from(Ue.values())}function hs(Ge){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(Ge){const Se=Ge.name;Ue.has(Se)&&(Ue.delete(Se),yield Promise.all(Ge.container.getProviders().map(Qe=>Qe.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function Fr(Ge,Se,Qe){var dt;let Pt=null!==(dt=fn[Ge])&&void 0!==dt?dt:Ge;Qe&&(Pt+=`-${Qe}`);const Lt=Pt.match(/\s|\//),Z=Se.match(/\s|\//);if(Lt||Z){const $=[`Unable to register library "${Pt}" with version "${Se}":`];return Lt&&$.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),Lt&&Z&&$.push("and"),Z&&$.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void J.warn($.join(" "))}an(new H.wA(`${Pt}-version`,()=>({library:Pt,version:Se}),"VERSION"))}function $n(Ge,Se){if(null!==Ge&&"function"!=typeof Ge)throw Or.create("invalid-log-argument");(0,k.Am)(Ge,Se)}function pn(Ge){(0,k.Ub)(Ge)}const zn="firebase-heartbeat-store";let Gn=null;function qr(){return Gn||(Gn=(0,se.X3)("firebase-heartbeat-database",1,(Ge,Se)=>{0===Se&&Ge.createObjectStore(zn)}).catch(Ge=>{throw Or.create("storage-open",{originalErrorMessage:Ge.message})})),Gn}function $t(){return($t=(0,s.Z)(function*(Ge){try{return(yield qr()).transaction(zn).objectStore(zn).get(ri(Ge))}catch(Se){throw Or.create("storage-get",{originalErrorMessage:Se.message})}})).apply(this,arguments)}function ut(Ge,Se){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(Ge,Se){try{const dt=(yield qr()).transaction(zn,"readwrite");return yield dt.objectStore(zn).put(Se,ri(Ge)),dt.complete}catch(Qe){throw Or.create("storage-set",{originalErrorMessage:Qe.message})}})).apply(this,arguments)}function ri(Ge){return`${Ge.name}!${Ge.options.appId}`}class Zi{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new pt(Qe),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var Se=this;return(0,s.Z)(function*(){const dt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=qn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!Se._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Pt))return Se._heartbeatsCache.heartbeats.push({date:Pt,agent:dt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Lt=>{const Z=new Date(Lt.date).valueOf();return Date.now()-Z<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,s.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Qe=qn(),{heartbeatsToSend:dt,unsentEntries:Pt}=function mn(Ge,Se=1024){const Qe=[];let dt=Ge.slice();for(const Pt of Ge){const Lt=Qe.find(Z=>Z.agent===Pt.agent);if(Lt){if(Lt.dates.push(Pt.date),Wn(Qe)>Se){Lt.dates.pop();break}}else if(Qe.push({agent:Pt.agent,dates:[Pt.date]}),Wn(Qe)>Se){Qe.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:dt}}(Se._heartbeatsCache.heartbeats),Lt=(0,se.L)(JSON.stringify({version:2,heartbeats:dt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Qe,Pt.length>0?(Se._heartbeatsCache.heartbeats=Pt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Lt})()}}function qn(){return(new Date).toISOString().substring(0,10)}class pt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,s.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function no(Ge){return $t.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Qe=this;return(0,s.Z)(function*(){var dt;if(yield Qe._canUseIndexedDBPromise){const Lt=yield Qe.read();return ut(Qe.app,{lastSentHeartbeatDate:null!==(dt=Se.lastSentHeartbeatDate)&&void 0!==dt?dt:Lt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Qe=this;return(0,s.Z)(function*(){var dt;if(yield Qe._canUseIndexedDBPromise){const Lt=yield Qe.read();return ut(Qe.app,{lastSentHeartbeatDate:null!==(dt=Se.lastSentHeartbeatDate)&&void 0!==dt?dt:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Se.heartbeats]})}})()}}function Wn(Ge){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Wt(Ge){an(new H.wA("platform-logger",Se=>new oe(Se),"PRIVATE")),an(new H.wA("heartbeat",Se=>new Zi(Se),"PRIVATE")),Fr(ae,X,Ge),Fr(ae,X,"esm2017"),Fr("fire-js","")}("")},4859:(ot,Ae,N)=>{N.d(Ae,{H0:()=>X,wA:()=>k});var s=N(5861),H=N(2090);class k{constructor(P,q,G){this.name=P,this.instanceFactory=q,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const se="[DEFAULT]";class oe{constructor(P,q){this.name=P,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const q=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(q)){const G=new H.BH;if(this.instancesDeferred.set(q,G),this.isInitialized(q)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:q});ie&&G.resolve(ie)}catch(ie){}}return this.instancesDeferred.get(q).promise}getImmediate(P){var q;const G=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),ie=null!==(q=null==P?void 0:P.optional)&&void 0!==q&&q;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(be){if(ie)return null;throw be}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function ae(J){return"EAGER"===J.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:se})}catch(q){}for(const[q,G]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(q);try{const be=this.getOrInitializeService({instanceIdentifier:ie});G.resolve(be)}catch(be){}}}}clearInstance(P=se){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,s.Z)(function*(){const q=Array.from(P.instances.values());yield Promise.all([...q.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...q.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=se){return this.instances.has(P)}getOptions(P=se){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:q={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:G,options:q});for(const[be,Ee]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(be)&&Ee.resolve(ie);return ie}onInit(P,q){var G;const ie=this.normalizeInstanceIdentifier(q),be=null!==(G=this.onInitCallbacks.get(ie))&&void 0!==G?G:new Set;be.add(P),this.onInitCallbacks.set(ie,be);const Ee=this.instances.get(ie);return Ee&&P(Ee,ie),()=>{be.delete(P)}}invokeOnInitCallbacks(P,q){const G=this.onInitCallbacks.get(q);if(G)for(const ie of G)try{ie(P,q)}catch(be){}}getOrInitializeService({instanceIdentifier:P,options:q={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(J=P,J===se?void 0:J),options:q}),this.instances.set(P,G),this.instancesOptions.set(P,q),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch(ie){}var J;return G||null}normalizeInstanceIdentifier(P=se){return this.component?this.component.multipleInstances?P:se:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const q=this.getProvider(P.name);if(q.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);q.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const q=new oe(P,this);return this.providers.set(P,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,Ae,N)=>{N.d(Ae,{Am:()=>J,Ub:()=>X,Yd:()=>ae,in:()=>H});const s=[];var H=(()=>{return(P=H||(H={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",H;var P})();const k={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},se=H.INFO,oe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},Q=(P,q,...G)=>{if(q<P.logLevel)return;const ie=(new Date).toISOString(),be=oe[q];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[be](`[${ie}]  ${P.name}:`,...G)};class ae{constructor(q){this.name=q,this._logLevel=se,this._logHandler=Q,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in H))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...q),this._logHandler(this,H.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...q),this._logHandler(this,H.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,H.INFO,...q),this._logHandler(this,H.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,H.WARN,...q),this._logHandler(this,H.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...q),this._logHandler(this,H.ERROR,...q)}}function X(P){s.forEach(q=>{q.setLogLevel(P)})}function J(P,q){for(const G of s){let ie=null;q&&q.level&&(ie=k[q.level]),G.userLogHandler=null===P?null:(be,Ee,..._e)=>{const we=_e.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch(Ve){return null}}).filter(xe=>xe).join(" ");Ee>=(null!=ie?ie:be.logLevel)&&P({level:H[Ee].toLowerCase(),message:we,args:_e,type:be.name})}}}},5861:(ot,Ae,N)=>{function s(k,se,oe,Q,ae,X,J){try{var P=k[X](J),q=P.value}catch(G){return void oe(G)}P.done?se(q):Promise.resolve(q).then(Q,ae)}function H(k){return function(){var se=this,oe=arguments;return new Promise(function(Q,ae){var X=k.apply(se,oe);function J(q){s(X,Q,ae,J,P,"next",q)}function P(q){s(X,Q,ae,J,P,"throw",q)}J(void 0)})}}N.d(Ae,{Z:()=>H})}},ot=>{ot(ot.s=3051)}]);